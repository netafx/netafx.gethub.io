var dcf;function actionTrigger(n){var a,o,r,s=/^https?:[/]{2}/;function l(){s.test(r)&&((o=document.createElement("a")).style.cssText="position:absolute;color:transparent",o.href=r,document.body.appendChild(o)),o&&o.click&&o.click()}function d(){clearTimeout(a)}return{setup:function(e,t){if(r=e.TriggerAction,!0===e.UseTriggerAction&&n.isInteger(e.TriggerCountdown)&&"string"==typeof r&&t&&t.addEventListener){var i=1e3*e.TriggerCountdown;s.test(r)||(o=t.querySelector(r)),o?o.addEventListener("click",d):window.addEventListener("beforeunload",d),a=setTimeout(l,i)}}}}!function(){var e,t,a;dcf&&dcf.requirejs||(dcf?t=dcf:dcf={},function(p){var o,r,h,m,v={},b={},g={},y={},i=Object.prototype.hasOwnProperty,n=[].slice,x=/\.js$/;function w(e,t){return i.call(e,t)}function s(e,t){var i,n,a,o,r,s,l,d,c,u,f,p=t&&t.split("/"),h=g.map,m=h&&h["*"]||{};if(e){for(r=(e=e.split("/")).length-1,g.nodeIdCompat&&x.test(e[r])&&(e[r]=e[r].replace(x,"")),"."===e[0].charAt(0)&&p&&(e=p.slice(0,p.length-1).concat(e)),c=0;c<e.length;c++)if("."===(f=e[c]))e.splice(c,1),c-=1;else if(".."===f){if(0===c||1===c&&".."===e[2]||".."===e[c-1])continue;0<c&&(e.splice(c-1,2),c-=2)}e=e.join("/")}if((p||m)&&h){for(c=(i=e.split("/")).length;0<c;c-=1){if(n=i.slice(0,c).join("/"),p)for(u=p.length;0<u;u-=1)if((a=h[p.slice(0,u).join("/")])&&(a=a[n])){o=a,s=c;break}if(o)break;!l&&m&&m[n]&&(l=m[n],d=c)}!o&&l&&(o=l,s=d),o&&(i.splice(0,s,o),e=i.join("/"))}return e}function k(t,i){return function(){var e=n.call(arguments,0);return"string"!=typeof e[0]&&1===e.length&&e.push(null),r.apply(p,e.concat([t,i]))}}function C(t){return function(e){v[t]=e}}function S(e){if(w(b,e)){var t=b[e];delete b[e],y[e]=!0,o.apply(p,t)}if(!w(v,e)&&!w(y,e))throw new Error("No "+e);return v[e]}function l(e){var t,i=e?e.indexOf("!"):-1;return-1<i&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function T(e){return e?l(e):[]}h=function(e,t){var i,n,a=l(e),o=a[0],r=t[1];return e=a[1],o&&(i=S(o=s(o,r))),o?e=i&&i.normalize?i.normalize(e,(n=r,function(e){return s(e,n)})):s(e,r):(o=(a=l(e=s(e,r)))[0],e=a[1],o&&(i=S(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:i}},m={require:function(e){return k(e)},exports:function(e){var t=v[e];return void 0!==t?t:v[e]={}},module:function(e){return{id:e,uri:"",exports:v[e],config:(t=e,function(){return g&&g.config&&g.config[t]||{}})};var t}},o=function(e,t,i,n){var a,o,r,s,l,d,c,u=[],f=typeof i;if(d=T(n=n||e),"undefined"===f||"function"===f){for(t=!t.length&&i.length?["require","exports","module"]:t,l=0;l<t.length;l+=1)if("require"===(o=(s=h(t[l],d)).f))u[l]=m.require(e);else if("exports"===o)u[l]=m.exports(e),c=!0;else if("module"===o)a=u[l]=m.module(e);else if(w(v,o)||w(b,o)||w(y,o))u[l]=S(o);else{if(!s.p)throw new Error(e+" missing "+o);s.p.load(s.n,k(n,!0),C(o),{}),u[l]=v[o]}r=i?i.apply(v[e],u):void 0,e&&(a&&a.exports!==p&&a.exports!==v[e]?v[e]=a.exports:r===p&&c||(v[e]=r))}else e&&(v[e]=i)},e=t=r=function(e,t,i,n,a){if("string"==typeof e)return m[e]?m[e](t):S(h(e,T(t)).f);if(!e.splice){if((g=e).deps&&r(g.deps,g.callback),!t)return;t.splice?(e=t,t=i,i=null):e=p}return t=t||function(){},"function"==typeof i&&(i=n,n=a),n?o(p,e,t,i):setTimeout(function(){o(p,e,t,i)},4),r},r.config=function(e){return r(e)},e._defined=v,(a=function(e,t,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]),w(v,e)||w(b,e)||(b[e]=[e,t,i])}).amd={jQuery:!0}}(),dcf.requirejs=e,dcf.require=t,dcf.define=a)}(),dcf.define("../node_modules/almond/almond",function(){}),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){if("Element"in e){var t="classList",i="prototype",n=e.Element[i],a=Object,o=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array[i].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new s("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","The token must not contain space characters.");return r.call(e,t)},d=function(e){for(var t=o.call(e.getAttribute("class")||""),i=t?t.split(/\s+/):[],n=0,a=i.length;n<a;n++)this.push(i[n]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=d[i]=[],u=function(){return new d(this)};if(s[i]=Error[i],c.item=function(e){return this[e]||null},c.contains=function(e){return~l(this,e+"")},c.add=function(){for(var e,t=arguments,i=0,n=t.length,a=!1;e=t[i]+"",~l(this,e)||(this.push(e),a=!0),++i<n;);a&&this._updateClassName()},c.remove=function(){var e,t,i=arguments,n=0,a=i.length,o=!1;do{for(e=i[n]+"",t=l(this,e);~t;)this.splice(t,1),o=!0,t=l(this,e)}while(++n<a);o&&this._updateClassName()},c.toggle=function(e,t){var i=this.contains(e),n=i?!0!==t&&"remove":!1!==t&&"add";return n&&this[n](e),!0===t||!1===t?t:!i},c.replace=function(e,t){var i=l(e+"");~i&&(this.splice(i,1,t),this._updateClassName())},c.toString=function(){return this.join(" ")},a.defineProperty){var f={get:u,enumerable:!0,configurable:!0};try{a.defineProperty(n,t,f)}catch(e){void 0!==e.number&&-2146823252!==e.number||(f.enumerable=!1,a.defineProperty(n,t,f))}}else a[i].__defineGetter__&&n.__defineGetter__(t,u)}}(self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var n=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var t,i=arguments.length;for(t=0;t<i;t++)e=arguments[t],n.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:i.call(this,e)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(e,t){var i=this.toString().split(" "),n=i.indexOf(e+"");~n&&(i=i.slice(n),this.remove.apply(this,i),this.add(t),this.add.apply(this,i.slice(1)))}),e=null}()),dcf.define("classlistPolyfill",function(){}),dcf.define("polyfills",["classlistPolyfill"],function(e){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)return this[t]===e?t:-1}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e}),function(){if("function"==typeof window.CustomEvent)return;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}e.prototype=window.Event.prototype,window.CustomEvent=e}(),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],a=0;a<i;){var o=t[a];if(e.call(n,o,a,t))return o;a++}},configurable:!0,writable:!0})}),function(o,f,p){var s=[],e={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout(function(){t(i[e])},0)},addTest:function(e,t,i){s.push({name:e,fn:t,options:i})},addAsyncTest:function(e){s.push({name:null,fn:e})}},l=function(){};l.prototype=e,l=new l;var d=[];function h(e,t){return typeof e===t}var m=f.documentElement,v="svg"===m.nodeName.toLowerCase();var t="Moz O ms Webkit",c=e._config.usePrefixes?t.split(" "):[];function b(){return"function"!=typeof f.createElement?f.createElement(arguments[0]):v?f.createElementNS.call(f,"http://www.w3.org/2000/svg",arguments[0]):f.createElement.apply(f,arguments)}e._cssomPrefixes=c;var i={elem:b("modernizr")};l._q.push(function(){delete i.elem});var g={style:i.elem.style};function a(e,t,i,n){var a,o,r,s,l,d="modernizr",c=b("div"),u=((l=f.body)||((l=b(v?"svg":"body")).fake=!0),l);if(parseInt(i,10))for(;i--;)(r=b("div")).id=n?n[i]:d+(i+1),c.appendChild(r);return(a=b("style")).type="text/css",a.id="s"+d,(u.fake?u:c).appendChild(a),u.appendChild(c),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(f.createTextNode(e)),c.id=d,u.fake&&(u.style.background="",u.style.overflow="hidden",s=m.style.overflow,m.style.overflow="hidden",m.appendChild(u)),o=t(c,e),u.fake?(u.parentNode.removeChild(u),m.style.overflow=s,m.offsetHeight):c.parentNode.removeChild(c),!!o}function r(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function y(e,t){var i=e.length;if("CSS"in o&&"supports"in o.CSS){for(;i--;)if(o.CSS.supports(r(e[i]),t))return!0;return!1}if("CSSSupportsRule"in o){for(var n=[];i--;)n.push("("+r(e[i])+":"+t+")");return a("@supports ("+(n=n.join(" or "))+") { #modernizr { position: absolute; } }",function(e){return"absolute"==function(e,t,i){var n;if("getComputedStyle"in o){n=getComputedStyle.call(o,e,t);var a=o.console;null!==n?i&&(n=n.getPropertyValue(i)):a&&a[a.error?"error":"log"].call(a,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else n=!t&&e.currentStyle&&e.currentStyle[i];return n}(e,null,"position")})}return p}l._q.unshift(function(){delete g.style});var u=e._config.usePrefixes?t.toLowerCase().split(" "):[];function x(e,t){return function(){return e.apply(t,arguments)}}function n(e,t,i,n,a){var o=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+c.join(o+" ")+o).split(" ");return h(t,"string")||h(t,"undefined")?function(e,t,i,n){if(n=!h(n,"undefined")&&n,!h(i,"undefined")){var a=y(e,i);if(!h(a,"undefined"))return a}for(var o,r,s,l,d,c=["modernizr","tspan","samp"];!g.style&&c.length;)o=!0,g.modElem=b(c.shift()),g.style=g.modElem.style;function u(){o&&(delete g.style,delete g.modElem)}for(s=e.length,r=0;r<s;r++)if(l=e[r],d=g.style[l],~(""+l).indexOf("-")&&(l=l.replace(/([a-z])-([a-z])/g,function(e,t,i){return t+i.toUpperCase()}).replace(/^-/,"")),g.style[l]!==p){if(n||h(i,"undefined"))return u(),"pfx"!=t||l;try{g.style[l]=i}catch(e){}if(g.style[l]!=d)return u(),"pfx"!=t||l}return u(),!1}(r,t,n,a):function(e,t,i){var n;for(var a in e)if(e[a]in t)return!1===i?e[a]:h(n=t[e[a]],"function")?x(n,i||t):n;return!1}(r=(e+" "+u.join(o+" ")+o).split(" "),t,i)}function w(e,t,i){return n(e,p,p,t,i)}e._domPrefixes=u,e.testAllProps=n,e.testAllProps=w,l.addTest("flexbox",w("flexBasis","1px",!0)),l.addTest("filereader",!!(o.File&&o.FileList&&o.FileReader));var k=b("input"),C="search tel url email datetime date month week time datetime-local number range color".split(" "),S={};l.inputtypes=function(e){for(var t,i,n,a=e.length,o=0;o<a;o++)k.setAttribute("type",t=e[o]),(n="text"!==k.type&&"style"in k)&&(k.value="1)",k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(t)&&k.style.WebkitAppearance!==p?(m.appendChild(k),n=(i=f.defaultView).getComputedStyle&&"textfield"!==i.getComputedStyle(k,null).WebkitAppearance&&0!==k.offsetHeight,m.removeChild(k)):/^(search|tel)$/.test(t)||(n=/^(url|email)$/.test(t)?k.checkValidity&&!1===k.checkValidity():"1)"!=k.value)),S[e[o]]=!!n;return S}(C),function(){var e,t,i,n,a,o;for(var r in s)if(s.hasOwnProperty(r)){if(e=[],(t=s[r]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(i=0;i<t.options.aliases.length;i++)e.push(t.options.aliases[i].toLowerCase());for(n=h(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)1===(o=e[a].split(".")).length?l[o[0]]=n:(!l[o[0]]||l[o[0]]instanceof Boolean||(l[o[0]]=new Boolean(l[o[0]])),l[o[0]][o[1]]=n),d.push((n?"":"no-")+o.join("-"))}}(),function(e){var t=m.className,i=l._config.classPrefix||"";if(v&&(t=t.baseVal),l._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");t=t.replace(n,"$1"+i+"js$2")}l._config.enableClasses&&(t+=" "+i+e.join(" "+i),v?m.className.baseVal=t:m.className=t)}(d),delete e.addTest,delete e.addAsyncTest;for(var T=0;T<l._q.length;T++)l._q[T]();o.DcfModernizr=l}(window,document),dcf.define("modernizr",function(e){return function(){return e.DcfModernizr}}(this)),function(ye){var Ee,ze=this||eval("this"),Ae=ze.document,Be=ze.navigator,Ce=ze.jQuery,De=ze.JSON;Ee=function(e,n){function i(e,t){return(null===e||typeof e in v)&&e===t}function o(e,t){var i;return function(){i||(i=T.a.setTimeout(function(){i=ye,e()},t))}}function r(e,t){var i;return function(){clearTimeout(i),i=T.a.setTimeout(e,t)}}function l(e,t){t&&t!==b?"beforeChange"===t?this.Ob(e):this.Ja(e,t):this.Pb(e)}function a(e,t){null!==t&&t.k&&t.k()}function s(e,t){var i=this.Mc,n=i[k];n.T||(this.ob&&this.Oa[t]?(i.Sb(t,e,this.Oa[t]),this.Oa[t]=null,--this.ob):n.s[t]||i.Sb(t,e,n.t?{$:e}:i.yc(e)),e.Ha&&e.Hc())}function t(e,l,d,c){T.d[e]={init:function(n,a,e,t,o){var r,s;return T.m(function(){var e=a(),t=T.a.c(e),i=(t=!d!=!t,!s);(i||l||t!==r)&&(i&&T.xa.Ca()&&(s=T.a.wa(T.f.childNodes(n),!0)),t?(i||T.f.fa(n,T.a.wa(s)),T.hb(c?c(o,e):o,n)):T.f.za(n),r=t)},null,{i:n}),{controlsDescendantBindings:!0}}},T.h.va[e]=!1,T.f.aa[e]=!0}var d,c,u,f,p,h,m,T=void 0!==e?e:{};T.b=function(e,t){for(var i=e.split("."),n=T,a=0;a<i.length-1;a++)n=n[i[a]];n[i[i.length-1]]=t},T.H=function(e,t,i){e[t]=i},T.version="3.4.2",T.b("version",T.version),T.options={deferUpdates:!1,useOnlyNativeEvents:!1},T.a=function(){function u(e,t){for(var i in e)e.hasOwnProperty(i)&&t(i,e[i])}function e(e,t){if(t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function t(e,t){return e.__proto__=t,e}function a(e,t,i,n){var a=e[t].match(d)||[];T.a.r(i.match(d),function(e){T.a.ra(a,e,n)}),e[t]=a.join(" ")}var i={__proto__:[]}instanceof Array,n="function"==typeof Symbol,o={},r={};o[Be&&/Firefox\/2/i.test(Be.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],o.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),u(o,function(e,t){if(t.length)for(var i=0,n=t.length;i<n;i++)r[t[i]]=e});var s={propertychange:!0},l=Ae&&function(){for(var e=3,t=Ae.createElement("div"),i=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",i[0];);return 4<e?e:ye}(),d=/\S+/g;return{gc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],r:function(e,t){for(var i=0,n=e.length;i<n;i++)t(e[i],i)},o:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},Vb:function(e,t,i){for(var n=0,a=e.length;n<a;n++)if(t.call(i,e[n],n))return e[n];return null},Na:function(e,t){var i=T.a.o(e,t);0<i?e.splice(i,1):0===i&&e.shift()},Wb:function(e){for(var t=[],i=0,n=(e=e||[]).length;i<n;i++)T.a.o(t,e[i])<0&&t.push(e[i]);return t},ib:function(e,t){for(var i=[],n=0,a=(e=e||[]).length;n<a;n++)i.push(t(e[n],n));return i},Ma:function(e,t){for(var i=[],n=0,a=(e=e||[]).length;n<a;n++)t(e[n],n)&&i.push(e[n]);return i},ta:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var i=0,n=t.length;i<n;i++)e.push(t[i]);return e},ra:function(e,t,i){var n=T.a.o(T.a.Bb(e),t);n<0?i&&e.push(t):i||e.splice(n,1)},la:i,extend:e,$a:t,ab:i?t:e,D:u,Ea:function(e,t){if(!e)return e;var i,n={};for(i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i],i,e));return n},rb:function(e){for(;e.firstChild;)T.removeNode(e.firstChild)},nc:function(e){for(var t=((e=T.a.W(e))[0]&&e[0].ownerDocument||Ae).createElement("div"),i=0,n=e.length;i<n;i++)t.appendChild(T.ba(e[i]));return t},wa:function(e,t){for(var i=0,n=e.length,a=[];i<n;i++){var o=e[i].cloneNode(!0);a.push(t?T.ba(o):o)}return a},fa:function(e,t){if(T.a.rb(e),t)for(var i=0,n=t.length;i<n;i++)e.appendChild(t[i])},uc:function(e,t){var i=e.nodeType?[e]:e;if(0<i.length){for(var n=i[0],a=n.parentNode,o=0,r=t.length;o<r;o++)a.insertBefore(t[o],n);for(o=0,r=i.length;o<r;o++)T.removeNode(i[o])}},Ba:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var i=e[0],n=e[e.length-1];for(e.length=0;i!==n;)e.push(i),i=i.nextSibling;e.push(n)}}return e},wc:function(e,t){l<7?e.setAttribute("selected",t):e.selected=t},cb:function(e){return null===e||e===ye?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},sd:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},Rc:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},qb:function(e){return T.a.Rc(e,e.ownerDocument.documentElement)},Tb:function(e){return!!T.a.Vb(e,T.a.qb)},A:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Zb:function(e){return T.onError?function(){try{return e.apply(this,arguments)}catch(e){throw T.onError&&T.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(T.a.Zb(e),t)},dc:function(e){setTimeout(function(){throw T.onError&&T.onError(e),e},0)},q:function(t,e,i){var n=T.a.Zb(i);if(i=l&&s[e],T.options.useOnlyNativeEvents||i||!Ce)if(i||"function"!=typeof t.addEventListener){if(void 0===t.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var a=function(e){n.call(t,e)},o="on"+e;t.attachEvent(o,a),T.a.G.qa(t,function(){t.detachEvent(o,a)})}else t.addEventListener(e,n,!1);else Ce(t).bind(e,n)},Fa:function(e,t){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var i;if(i=!("input"!==T.a.A(e)||!e.type||"click"!=t.toLowerCase()||"checkbox"!=(i=e.type)&&"radio"!=i),T.options.useOnlyNativeEvents||!Ce||i)if("function"==typeof Ae.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(i=Ae.createEvent(r[t]||"HTMLEvents")).initEvent(t,!0,!0,ze,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(i)}else if(i&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}else Ce(e).trigger(t)},c:function(e){return T.I(e)?e():e},Bb:function(e){return T.I(e)?e.p():e},fb:function(t,e,i){var n;e&&("object"==typeof t.classList?(n=t.classList[i?"add":"remove"],T.a.r(e.match(d),function(e){n.call(t.classList,e)})):"string"==typeof t.className.baseVal?a(t.className,"baseVal",e,i):a(t,"className",e,i))},bb:function(e,t){var i=T.a.c(t);null!==i&&i!==ye||(i="");var n=T.f.firstChild(e);!n||3!=n.nodeType||T.f.nextSibling(n)?T.f.fa(e,[e.ownerDocument.createTextNode(i)]):n.data=i,T.a.Wc(e)},vc:function(e,t){if(e.name=t,l<=7)try{e.mergeAttributes(Ae.createElement("<input name='"+e.name+"'/>"),!1)}catch(e){}},Wc:function(e){9<=l&&(e=1==e.nodeType?e:e.parentNode).style&&(e.style.zoom=e.style.zoom)},Sc:function(e){if(l){var t=e.style.width;e.style.width=0,e.style.width=t}},nd:function(e,t){e=T.a.c(e),t=T.a.c(t);for(var i=[],n=e;n<=t;n++)i.push(n);return i},W:function(e){for(var t=[],i=0,n=e.length;i<n;i++)t.push(e[i]);return t},bc:function(e){return n?Symbol(e):e},xd:6===l,yd:7===l,C:l,ic:function(e,t){for(var i=T.a.W(e.getElementsByTagName("input")).concat(T.a.W(e.getElementsByTagName("textarea"))),n="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},a=[],o=i.length-1;0<=o;o--)n(i[o])&&a.push(i[o]);return a},kd:function(e){return"string"==typeof e&&(e=T.a.cb(e))?De&&De.parse?De.parse(e):new Function("return "+e)():null},Gb:function(e,t,i){if(!De||!De.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return De.stringify(T.a.c(e),t,i)},ld:function(e,t,i){var n=(i=i||{}).params||{},a=i.includeFields||this.gc,o=e;if("object"==typeof e&&"form"===T.a.A(e)){o=e.action;for(var r=a.length-1;0<=r;r--)for(var s=T.a.ic(e,a[r]),l=s.length-1;0<=l;l--)n[s[l].name]=s[l].value}t=T.a.c(t);var d=Ae.createElement("form");for(var c in d.style.display="none",d.action=o,d.method="post",t)(e=Ae.createElement("input")).type="hidden",e.name=c,e.value=T.a.Gb(T.a.c(t[c])),d.appendChild(e);u(n,function(e,t){var i=Ae.createElement("input");i.type="hidden",i.name=e,i.value=t,d.appendChild(i)}),Ae.body.appendChild(d),i.submitter?i.submitter(d):d.submit(),setTimeout(function(){d.parentNode.removeChild(d)},0)}}}(),T.b("utils",T.a),T.b("utils.arrayForEach",T.a.r),T.b("utils.arrayFirst",T.a.Vb),T.b("utils.arrayFilter",T.a.Ma),T.b("utils.arrayGetDistinctValues",T.a.Wb),T.b("utils.arrayIndexOf",T.a.o),T.b("utils.arrayMap",T.a.ib),T.b("utils.arrayPushAll",T.a.ta),T.b("utils.arrayRemoveItem",T.a.Na),T.b("utils.extend",T.a.extend),T.b("utils.fieldsIncludedWithJsonPost",T.a.gc),T.b("utils.getFormFields",T.a.ic),T.b("utils.peekObservable",T.a.Bb),T.b("utils.postJson",T.a.ld),T.b("utils.parseJson",T.a.kd),T.b("utils.registerEventHandler",T.a.q),T.b("utils.stringifyJson",T.a.Gb),T.b("utils.range",T.a.nd),T.b("utils.toggleDomNodeCssClass",T.a.fb),T.b("utils.triggerEvent",T.a.Fa),T.b("utils.unwrapObservable",T.a.c),T.b("utils.objectForEach",T.a.D),T.b("utils.addOrRemoveItem",T.a.ra),T.b("utils.setTextContent",T.a.bb),T.b("unwrap",T.a.c),Function.prototype.bind||(Function.prototype.bind=function(t){var i=this;if(1===arguments.length)return function(){return i.apply(t,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice(0);return e.push.apply(e,arguments),i.apply(t,e)}}),T.a.e=new function(){function n(e,t){var i=e[o];if(!i||"null"===i||!r[i]){if(!t)return ye;i=e[o]="ko"+a++,r[i]={}}return r[i]}var a=0,o="__ko__"+(new Date).getTime(),r={};return{get:function(e,t){var i=n(e,!1);return i===ye?ye:i[t]},set:function(e,t,i){i===ye&&n(e,!1)===ye||(n(e,!0)[t]=i)},clear:function(e){var t=e[o];return!(!t||(delete r[t],e[o]=null))},J:function(){return a+++o}}},T.b("utils.domData",T.a.e),T.b("utils.domData.clear",T.a.e.clear),T.a.G=new function(){function n(e,t){var i=T.a.e.get(e,o);return i===ye&&t&&(i=[],T.a.e.set(e,o,i)),i}function a(e){if(t=n(e,!1))for(var t=t.slice(0),i=0;i<t.length;i++)t[i](e);if(T.a.e.clear(e),T.a.G.cleanExternalData(e),s[e.nodeType])for(t=e.firstChild;e=t;)t=e.nextSibling,8===e.nodeType&&a(e)}var o=T.a.e.J(),r={1:!0,8:!0,9:!0},s={1:!0,9:!0};return{qa:function(e,t){if("function"!=typeof t)throw Error("Callback must be a function");n(e,!0).push(t)},tc:function(e,t){var i=n(e,!1);i&&(T.a.Na(i,t),0==i.length&&T.a.e.set(e,o,ye))},ba:function(e){if(r[e.nodeType]&&(a(e),s[e.nodeType])){var t=[];T.a.ta(t,e.getElementsByTagName("*"));for(var i=0,n=t.length;i<n;i++)a(t[i])}return e},removeNode:function(e){T.ba(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){Ce&&"function"==typeof Ce.cleanData&&Ce.cleanData([e])}}},T.ba=T.a.G.ba,T.removeNode=T.a.G.removeNode,T.b("cleanNode",T.ba),T.b("removeNode",T.removeNode),T.b("utils.domNodeDisposal",T.a.G),T.b("utils.domNodeDisposal.addDisposeCallback",T.a.G.qa),T.b("utils.domNodeDisposal.removeDisposeCallback",T.a.G.tc),d=[0,"",""],p={thead:c=[1,"<table>","</table>"],tbody:c,tfoot:c,tr:[2,"<table><tbody>","</tbody></table>"],td:u=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:u,option:f=[1,"<select multiple='multiple'>","</select>"],optgroup:f},h=T.a.C<=8,T.a.na=function(e,t){var i;if(Ce){if(Ce.parseHTML)i=Ce.parseHTML(e,t)||[];else if((i=Ce.clean([e],t))&&i[0]){for(var n=i[0];n.parentNode&&11!==n.parentNode.nodeType;)n=n.parentNode;n.parentNode&&n.parentNode.removeChild(n)}}else{(i=t)||(i=Ae),n=i.parentWindow||i.defaultView||ze;var a,o=T.a.cb(e).toLowerCase(),r=i.createElement("div");for(o=(a=(o=o.match(/^<([a-z]+)[ >]/))&&p[o[1]]||d)[0],a="ignored<div>"+a[1]+e+a[2]+"</div>","function"==typeof n.innerShiv?r.appendChild(n.innerShiv(a)):(h&&i.appendChild(r),r.innerHTML=a,h&&r.parentNode.removeChild(r));o--;)r=r.lastChild;i=T.a.W(r.lastChild.childNodes)}return i},T.a.Eb=function(e,t){if(T.a.rb(e),null!==(t=T.a.c(t))&&t!==ye)if("string"!=typeof t&&(t=t.toString()),Ce)Ce(e).html(t);else for(var i=T.a.na(t,e.ownerDocument),n=0;n<i.length;n++)e.appendChild(i[n])},T.b("utils.parseHtmlFragment",T.a.na),T.b("utils.setHtml",T.a.Eb),T.N=(m={},{yb:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return m[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},Bc:function(e,t){var i=m[e];if(i===ye)throw Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return i.apply(null,t||[]),!0}finally{delete m[e]}},Cc:function(e,t){var i=[];!function e(t,i){if(t)if(8==t.nodeType)null!=(n=T.N.pc(t.nodeValue))&&i.push({Qc:t,hd:n});else if(1==t.nodeType)for(var n=0,a=t.childNodes,o=a.length;n<o;n++)e(a[n],i)}(e,i);for(var n=0,a=i.length;n<a;n++){var o=i[n].Qc,r=[o];t&&T.a.ta(r,t),T.N.Bc(i[n].hd,r),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},pc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}),T.b("memoization",T.N),T.b("memoization.memoize",T.N.yb),T.b("memoization.unmemoize",T.N.Bc),T.b("memoization.parseMemoText",T.N.pc),T.b("memoization.unmemoizeDomNodeAndDescendants",T.N.Cc),T.Z=function(){function e(){if(o)for(var e,t=o,i=0;s<o;)if(e=a[s++]){if(t<s){if(5e3<=++i){s=o,T.a.dc(Error("'Too much recursion' after processing "+i+" task groups."));break}t=o}try{e()}catch(e){T.a.dc(e)}}}function t(){e(),s=o=a.length=0}var i,n,a=[],o=0,r=1,s=0;return{scheduler:ze.MutationObserver?(i=t,n=Ae.createElement("div"),new MutationObserver(i).observe(n,{attributes:!0}),function(){n.classList.toggle("foo")}):Ae&&"onreadystatechange"in Ae.createElement("script")?function(e){var t=Ae.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,Ae.documentElement.removeChild(t),t=null,e()},Ae.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},Za:function(e){return o||T.Z.scheduler(t),a[o++]=e,r++},cancel:function(e){s<=(e-=r-o)&&e<o&&(a[e]=null)},resetForTesting:function(){var e=o-s;return s=o=a.length=0,e},rd:e}}(),T.b("tasks",T.Z),T.b("tasks.schedule",T.Z.Za),T.b("tasks.runEarly",T.Z.rd),T.Aa={throttle:function(t,i){t.throttleEvaluation=i;var n=null;return T.B({read:t,write:function(e){clearTimeout(n),n=T.a.setTimeout(function(){t(e)},i)}})},rateLimit:function(e,t){var i,n,a;"number"==typeof t?i=t:(i=t.timeout,n=t.method),e.gb=!1,a="notifyWhenChangesStop"==n?r:o,e.Wa(function(e){return a(e,i)})},deferred:function(n,e){if(!0!==e)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");n.gb||(n.gb=!0,n.Wa(function(e){var t,i=!1;return function(){if(!i){T.Z.cancel(t),t=T.Z.Za(e);try{i=!0,n.notifySubscribers(ye,"dirty")}finally{i=!1}}}}))},notify:function(e,t){e.equalityComparer="always"==t?null:i}};var v={undefined:1,boolean:1,number:1,string:1};T.b("extenders",T.Aa),T.zc=function(e,t,i){this.$=e,this.jb=t,this.Pc=i,this.T=!1,T.H(this,"dispose",this.k)},T.zc.prototype.k=function(){this.T=!0,this.Pc()},T.K=function(){T.a.ab(this,g),g.ub(this)};var b="change",g={ub:function(e){e.F={change:[]},e.Qb=1},Y:function(e,t,i){var n=this;i=i||b;var a=new T.zc(n,t?e.bind(t):e,function(){T.a.Na(n.F[i],a),n.Ka&&n.Ka(i)});return n.ua&&n.ua(i),n.F[i]||(n.F[i]=[]),n.F[i].push(a),a},notifySubscribers:function(e,t){if((t=t||b)===b&&this.Kb(),this.Ra(t)){var i=t===b&&this.Fc||this.F[t].slice(0);try{T.l.Xb();for(var n,a=0;n=i[a];++a)n.T||n.jb(e)}finally{T.l.end()}}},Pa:function(){return this.Qb},Zc:function(e){return this.Pa()!==e},Kb:function(){++this.Qb},Wa:function(e){var t,i,n,a,o=this,r=T.I(o);o.Ja||(o.Ja=o.notifySubscribers,o.notifySubscribers=l);var s=e(function(){o.Ha=!1,r&&a===o&&(a=o.Mb?o.Mb():o());var e=i||o.Ua(n,a);i=t=!1,e&&o.Ja(n=a)});o.Pb=function(e){o.Fc=o.F[b].slice(0),o.Ha=t=!0,a=e,s()},o.Ob=function(e){t||(n=e,o.Ja(e,"beforeChange"))},o.Hc=function(){o.Ua(n,o.p(!0))&&(i=!0)}},Ra:function(e){return this.F[e]&&this.F[e].length},Xc:function(e){if(e)return this.F[e]&&this.F[e].length||0;var i=0;return T.a.D(this.F,function(e,t){"dirty"!==e&&(i+=t.length)}),i},Ua:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:function(e){var n=this;return e&&T.a.D(e,function(e,t){var i=T.Aa[e];"function"==typeof i&&(n=i(n,t)||n)}),n}};T.H(g,"subscribe",g.Y),T.H(g,"extend",g.extend),T.H(g,"getSubscriptionsCount",g.Xc),T.a.la&&T.a.$a(g,Function.prototype),T.K.fn=g,T.lc=function(e){return null!=e&&"function"==typeof e.Y&&"function"==typeof e.notifySubscribers},T.b("subscribable",T.K),T.b("isSubscribable",T.lc),T.xa=T.l=function(){function n(e){i.push(t),t=e}function a(){t=i.pop()}var t,i=[],o=0;return{Xb:n,end:a,sc:function(e){if(t){if(!T.lc(e))throw Error("Only subscribable things can act as dependencies");t.jb.call(t.Lc,e,e.Gc||(e.Gc=++o))}},w:function(e,t,i){try{return n(),e.apply(t,i||[])}finally{a()}},Ca:function(){if(t)return t.m.Ca()},Va:function(){if(t)return t.Va}}}(),T.b("computedContext",T.xa),T.b("computedContext.getDependenciesCount",T.xa.Ca),T.b("computedContext.isInitial",T.xa.Va),T.b("ignoreDependencies",T.wd=T.l.w);var y=T.a.bc("_latestValue");T.O=function(e){function t(){return 0<arguments.length?(t.Ua(t[y],arguments[0])&&(t.ia(),t[y]=arguments[0],t.ha()),this):(T.l.sc(t),t[y])}return t[y]=e,T.a.la||T.a.extend(t,T.K.fn),T.K.fn.ub(t),T.a.ab(t,x),T.options.deferUpdates&&T.Aa.deferred(t,!0),t};var x={equalityComparer:i,p:function(){return this[y]},ha:function(){this.notifySubscribers(this[y])},ia:function(){this.notifySubscribers(this[y],"beforeChange")}};T.a.la&&T.a.$a(x,T.K.fn);var w=T.O.md="__ko_proto__";x[w]=T.O,T.Qa=function(e,t){return null!==e&&e!==ye&&e[w]!==ye&&(e[w]===t||T.Qa(e[w],t))},T.I=function(e){return T.Qa(e,T.O)},T.Da=function(e){return!!("function"==typeof e&&e[w]===T.O||"function"==typeof e&&e[w]===T.B&&e.$c)},T.b("observable",T.O),T.b("isObservable",T.I),T.b("isWriteableObservable",T.Da),T.b("isWritableObservable",T.Da),T.b("observable.fn",x),T.H(x,"peek",x.p),T.H(x,"valueHasMutated",x.ha),T.H(x,"valueWillMutate",x.ia),T.ma=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=T.O(e),T.a.ab(e,T.ma.fn),e.extend({trackArrayChanges:!0})},T.ma.fn={remove:function(t){for(var e=this.p(),i=[],n="function"!=typeof t||T.I(t)?function(e){return e===t}:t,a=0;a<e.length;a++){var o=e[a];n(o)&&(0===i.length&&this.ia(),i.push(o),e.splice(a,1),a--)}return i.length&&this.ha(),i},removeAll:function(t){if(t!==ye)return t?this.remove(function(e){return 0<=T.a.o(t,e)}):[];var e=this.p(),i=e.slice(0);return this.ia(),e.splice(0,e.length),this.ha(),i},destroy:function(t){var e=this.p(),i="function"!=typeof t||T.I(t)?function(e){return e===t}:t;this.ia();for(var n=e.length-1;0<=n;n--)i(e[n])&&(e[n]._destroy=!0);this.ha()},destroyAll:function(t){return t===ye?this.destroy(function(){return!0}):t?this.destroy(function(e){return 0<=T.a.o(t,e)}):[]},indexOf:function(e){var t=this();return T.a.o(t,e)},replace:function(e,t){var i=this.indexOf(e);0<=i&&(this.ia(),this.p()[i]=t,this.ha())}},T.a.la&&T.a.$a(T.ma.fn,T.O.fn),T.a.r("pop push reverse shift sort splice unshift".split(" "),function(i){T.ma.fn[i]=function(){var e=this.p();this.ia(),this.Yb(e,i,arguments);var t=e[i].apply(e,arguments);return this.ha(),t===e?this:t}}),T.a.r(["slice"],function(t){T.ma.fn[t]=function(){var e=this();return e[t].apply(e,arguments)}}),T.b("observableArray",T.ma),T.Aa.trackArrayChanges=function(n,e){if(n.kb={},e&&"object"==typeof e&&T.a.extend(n.kb,e),n.kb.sparse=!0,!n.Yb){var t,a,u=!1,f=null,p=0,i=n.ua,o=n.Ka;n.ua=function(e){i&&i.call(n,e),"arrayChange"===e&&function(){if(!u){u=!0,a=n.notifySubscribers,n.notifySubscribers=function(e,t){return t&&t!==b||++p,a.apply(this,arguments)};var i=[].concat(n.p()||[]);f=null,t=n.Y(function(e){var t;e=[].concat(e||[]),n.Ra("arrayChange")&&((!f||1<p)&&(f=T.a.lb(i,e,n.kb)),t=f),i=e,f=null,p=0,t&&t.length&&n.notifySubscribers(t,"arrayChange")})}}()},n.Ka=function(e){o&&o.call(n,e),"arrayChange"!==e||n.Ra("arrayChange")||(a&&(n.notifySubscribers=a,a=ye),t.k(),u=!1)},n.Yb=function(e,t,i){function n(e,t,i){return a[a.length]={status:e,value:t,index:i}}if(u&&!p){var a=[],o=e.length,r=i.length,s=0;switch(t){case"push":s=o;case"unshift":for(t=0;t<r;t++)n("added",i[t],s+t);break;case"pop":s=o-1;case"shift":o&&n("deleted",e[s],s);break;case"splice":t=Math.min(Math.max(0,i[0]<0?o+i[0]:i[0]),o),o=1===r?o:Math.min(t+(i[1]||0),o),r=t+r-2,s=Math.max(o,r);for(var l=[],d=[],c=2;t<s;++t,++c)t<o&&d.push(n("deleted",e[t],t)),t<r&&l.push(n("added",i[c],t));T.a.hc(d,l);break;default:return}f=a}}}};var k=T.a.bc("_state");T.m=T.B=function(e,t,i){function n(){if(0<arguments.length){if("function"!=typeof a)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return a.apply(o.sb,arguments),this}return T.l.sc(n),(o.V||o.t&&n.Sa())&&n.U(),o.M}if("object"==typeof e?i=e:(i=i||{},e&&(i.read=e)),"function"!=typeof i.read)throw Error("Pass a function that returns the value of the ko.computed");var a=i.write,o={M:ye,da:!0,V:!0,Ta:!1,Hb:!1,T:!1,Ya:!1,t:!1,od:i.read,sb:t||i.owner,i:i.disposeWhenNodeIsRemoved||i.i||null,ya:i.disposeWhen||i.ya,pb:null,s:{},L:0,fc:null};return n[k]=o,n.$c="function"==typeof a,T.a.la||T.a.extend(n,T.K.fn),T.K.fn.ub(n),T.a.ab(n,C),i.pure?(o.Ya=!0,o.t=!0,T.a.extend(n,S)):i.deferEvaluation&&T.a.extend(n,I),T.options.deferUpdates&&T.Aa.deferred(n,!0),o.i&&(o.Hb=!0,o.i.nodeType||(o.i=null)),o.t||i.deferEvaluation||n.U(),o.i&&n.ca()&&T.a.G.qa(o.i,o.pb=function(){n.k()}),n};var C={equalityComparer:i,Ca:function(){return this[k].L},Sb:function(e,t,i){if(this[k].Ya&&t===this)throw Error("A 'pure' computed must not be called recursively");(this[k].s[e]=i).Ia=this[k].L++,i.pa=t.Pa()},Sa:function(){var e,t,i=this[k].s;for(e in i)if(i.hasOwnProperty(e)&&(t=i[e],this.oa&&t.$.Ha||t.$.Zc(t.pa)))return!0},gd:function(){this.oa&&!this[k].Ta&&this.oa(!1)},ca:function(){var e=this[k];return e.V||0<e.L},qd:function(){this.Ha?this[k].V&&(this[k].da=!0):this.ec()},yc:function(e){if(!e.gb||this[k].i)return e.Y(this.ec,this);var t=e.Y(this.gd,this,"dirty"),i=e.Y(this.qd,this);return{$:e,k:function(){t.k(),i.k()}}},ec:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[k].fc),this[k].fc=T.a.setTimeout(function(){e.U(!0)},t)):e.oa?e.oa(!0):e.U(!0)},U:function(e){var t=this[k],i=t.ya,n=!1;if(!t.Ta&&!t.T){if(t.i&&!T.a.qb(t.i)||i&&i()){if(!t.Hb)return void this.k()}else t.Hb=!1;t.Ta=!0;try{n=this.Vc(e)}finally{t.Ta=!1}return t.L||this.k(),n}},Vc:function(e){var t=this[k],i=!1,n=t.Ya?ye:!t.L,a={Mc:this,Oa:t.s,ob:t.L};return T.l.Xb({Lc:a,jb:s,m:this,Va:n}),t.s={},t.L=0,a=this.Uc(t,a),this.Ua(t.M,a)&&(t.t||this.notifySubscribers(t.M,"beforeChange"),t.M=a,t.t?this.Kb():e&&this.notifySubscribers(t.M),i=!0),n&&this.notifySubscribers(t.M,"awake"),i},Uc:function(e,t){try{var i=e.od;return e.sb?i.call(e.sb):i()}finally{T.l.end(),t.ob&&!e.t&&T.a.D(t.Oa,a),e.da=e.V=!1}},p:function(e){var t=this[k];return(t.V&&(e||!t.L)||t.t&&this.Sa())&&this.U(),t.M},Wa:function(e){T.K.fn.Wa.call(this,e),this.Mb=function(){return this[k].da?this.U():this[k].V=!1,this[k].M},this.oa=function(e){this.Ob(this[k].M),this[k].V=!0,e&&(this[k].da=!0),this.Pb(this)}},k:function(){var e=this[k];!e.t&&e.s&&T.a.D(e.s,function(e,t){t.k&&t.k()}),e.i&&e.pb&&T.a.G.tc(e.i,e.pb),e.s=null,e.L=0,e.T=!0,e.da=!1,e.V=!1,e.t=!1,e.i=null}},S={ua:function(e){var a=this,o=a[k];if(!o.T&&o.t&&"change"==e){if(o.t=!1,o.da||a.Sa())o.s=null,o.L=0,a.U()&&a.Kb();else{var i=[];T.a.D(o.s,function(e,t){i[t.Ia]=e}),T.a.r(i,function(e,t){var i=o.s[e],n=a.yc(i.$);n.Ia=t,n.pa=i.pa,o.s[e]=n})}o.T||a.notifySubscribers(o.M,"awake")}},Ka:function(e){var i=this[k];i.T||"change"!=e||this.Ra("change")||(T.a.D(i.s,function(e,t){t.k&&(i.s[e]={$:t.$,Ia:t.Ia,pa:t.pa},t.k())}),i.t=!0,this.notifySubscribers(ye,"asleep"))},Pa:function(){var e=this[k];return e.t&&(e.da||this.Sa())&&this.U(),T.K.fn.Pa.call(this)}},I={ua:function(e){"change"!=e&&"beforeChange"!=e||this.p()}};T.a.la&&T.a.$a(C,T.K.fn);var F,E=T.O.md;T.m[E]=T.O,C[E]=T.m,T.bd=function(e){return T.Qa(e,T.m)},T.cd=function(e){return T.Qa(e,T.m)&&e[k]&&e[k].Ya},T.b("computed",T.m),T.b("dependentObservable",T.m),T.b("isComputed",T.bd),T.b("isPureComputed",T.cd),T.b("computed.fn",C),T.H(C,"peek",C.p),T.H(C,"dispose",C.k),T.H(C,"isActive",C.ca),T.H(C,"getDependenciesCount",C.Ca),T.rc=function(e,t){return"function"==typeof e?T.m(e,t,{pure:!0}):((e=T.a.extend({},e)).pure=!0,T.m(e,t))},T.b("pureComputed",T.rc),function(){function s(n,a,o){if(o=o||new e,"object"!=typeof(n=a(n))||null===n||n===ye||n instanceof RegExp||n instanceof Date||n instanceof String||n instanceof Number||n instanceof Boolean)return n;var r=n instanceof Array?[]:{};return o.save(n,r),function(e,t){if(e instanceof Array){for(var i=0;i<e.length;i++)t(i);"function"==typeof e.toJSON&&t("toJSON")}else for(i in e)t(i)}(n,function(e){var t=a(n[e]);switch(typeof t){case"boolean":case"number":case"string":case"function":r[e]=t;break;case"object":case"undefined":var i=o.get(t);r[e]=i!==ye?i:s(t,a,o)}}),r}function e(){this.keys=[],this.Lb=[]}T.Ac=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return s(e,function(e){for(var t=0;T.I(e)&&t<10;t++)e=e();return e})},T.toJSON=function(e,t,i){return e=T.Ac(e),T.a.Gb(e,t,i)},e.prototype={save:function(e,t){var i=T.a.o(this.keys,e);0<=i?this.Lb[i]=t:(this.keys.push(e),this.Lb.push(t))},get:function(e){return 0<=(e=T.a.o(this.keys,e))?this.Lb[e]:ye}}}(),T.b("toJS",T.Ac),T.b("toJSON",T.toJSON),T.j={u:function(e){switch(T.a.A(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?T.a.e.get(e,T.d.options.zb):T.a.C<=7?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?T.j.u(e.options[e.selectedIndex]):ye;default:return e.value}},ja:function(e,t,i){switch(T.a.A(e)){case"option":switch(typeof t){case"string":T.a.e.set(e,T.d.options.zb,ye),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t;break;default:T.a.e.set(e,T.d.options.zb,t),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof t?t:""}break;case"select":""!==t&&null!==t||(t=ye);for(var n,a=-1,o=0,r=e.options.length;o<r;++o)if((n=T.j.u(e.options[o]))==t||""==n&&t===ye){a=o;break}(i||0<=a||t===ye&&1<e.size)&&(e.selectedIndex=a);break;default:null!==t&&t!==ye||(t=""),e.value=t}}},T.b("selectExtensions",T.j),T.b("selectExtensions.readValue",T.j.u),T.b("selectExtensions.writeValue",T.j.ja),T.h=function(){function n(e){123===(e=T.a.cb(e)).charCodeAt(0)&&(e=e.slice(1,-1));var t,i=[],n=e.match(u),a=[],o=0;if(n){n.push(",");for(var r,s=0;r=n[s];++s){var l=r.charCodeAt(0);if(44===l){if(o<=0){i.push(t&&a.length?{key:t,value:a.join("")}:{unknown:t||a.join("")}),t=o=0,a=[];continue}}else if(58===l){if(!o&&!t&&1===a.length){t=a.pop();continue}}else 47===l&&s&&1<r.length?(l=n[s-1].match(f))&&!p[l[0]]&&((n=(e=e.substr(e.indexOf(r)+1)).match(u)).push(","),s=-1,r="/"):40===l||123===l||91===l?++o:41===l||125===l||93===l?--o:t||a.length||34!==l&&39!==l||(r=r.slice(1,-1));a.push(r)}}return i}var d=["true","false","null","undefined"],c=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,u=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,p={in:1,return:1,typeof:1},h={};return{va:[],ga:h,Ab:n,Xa:function(e,t){function a(e,t){var i;if(!l){var n=T.getBindingHandler(e);if(n&&n.preprocess&&!(t=n.preprocess(t,e,a)))return;(n=h[e])&&(i=t,n=i=!(0<=T.a.o(d,i))&&null!==(n=i.match(c))&&(n[1]?"Object("+n[1]+")"+n[2]:i)),n&&r.push("'"+e+"':function(_z){"+i+"=_z}")}s&&(t="function(){return "+t+" }"),o.push("'"+e+"':"+t)}var o=[],r=[],s=(t=t||{}).valueAccessors,l=t.bindingParams,i="string"==typeof e?n(e):e;return T.a.r(i,function(e){a(e.key||e.unknown,e.value)}),r.length&&a("_ko_property_writers","{"+r.join(",")+" }"),o.join(",")},fd:function(e,t){for(var i=0;i<e.length;i++)if(e[i].key==t)return!0;return!1},Ga:function(e,t,i,n,a){e&&T.I(e)?!T.Da(e)||a&&e.p()===n||e(n):(e=t.get("_ko_property_writers"))&&e[i]&&e[i](n)}}}(),T.b("expressionRewriting",T.h),T.b("expressionRewriting.bindingRewriteValidators",T.h.va),T.b("expressionRewriting.parseObjectLiteral",T.h.Ab),T.b("expressionRewriting.preProcessBindings",T.h.Xa),T.b("expressionRewriting._twoWayBindings",T.h.ga),T.b("jsonExpressionRewriting",T.h),T.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",T.h.Xa),function(){function o(e){return 8==e.nodeType&&i.test(t?e.text:e.nodeValue)}function r(e){return 8==e.nodeType&&a.test(t?e.text:e.nodeValue)}function n(e,t){for(var i=e,n=1,a=[];i=i.nextSibling;){if(r(i)&&0==--n)return a;a.push(i),o(i)&&n++}if(!t)throw Error("Cannot find closing comment tag to match: "+e.nodeValue);return null}function s(e,t){var i=n(e,t);return i?0<i.length?i[i.length-1].nextSibling:e.nextSibling:null}var t=Ae&&"\x3c!--test--\x3e"===Ae.createComment("test").text,i=t?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,a=t?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};T.f={aa:{},childNodes:function(e){return o(e)?n(e):e.childNodes},za:function(e){if(o(e))for(var t=0,i=(e=T.f.childNodes(e)).length;t<i;t++)T.removeNode(e[t]);else T.a.rb(e)},fa:function(e,t){if(o(e)){T.f.za(e);for(var i=e.nextSibling,n=0,a=t.length;n<a;n++)i.parentNode.insertBefore(t[n],i)}else T.a.fa(e,t)},qc:function(e,t){o(e)?e.parentNode.insertBefore(t,e.nextSibling):e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},kc:function(e,t,i){i?o(e)?e.parentNode.insertBefore(t,i.nextSibling):i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):T.f.qc(e,t)},firstChild:function(e){return o(e)?!e.nextSibling||r(e.nextSibling)?null:e.nextSibling:e.firstChild},nextSibling:function(e){return o(e)&&(e=s(e)),e.nextSibling&&r(e.nextSibling)?null:e.nextSibling},Yc:o,vd:function(e){return(e=(t?e.text:e.nodeValue).match(i))?e[1]:null},oc:function(e){if(l[T.a.A(e)]){var t=e.firstChild;if(t)do{if(1===t.nodeType){var i,n=null;if(i=t.firstChild)do{if(n)n.push(i);else if(o(i)){var a=s(i,!0);a?i=a:n=[i]}else r(i)&&(n=[i])}while(i=i.nextSibling);if(i=n)for(n=t.nextSibling,a=0;a<i.length;a++)n?e.insertBefore(i[a],n):e.appendChild(i[a])}}while(t=t.nextSibling)}}}}(),T.b("virtualElements",T.f),T.b("virtualElements.allowedBindings",T.f.aa),T.b("virtualElements.emptyNode",T.f.za),T.b("virtualElements.insertAfter",T.f.kc),T.b("virtualElements.prepend",T.f.qc),T.b("virtualElements.setDomNodeChildren",T.f.fa),T.S=function(){this.Kc={}},T.a.extend(T.S.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||T.g.getComponentNameForNode(e);case 8:return T.f.Yc(e);default:return!1}},getBindings:function(e,t){var i=(i=this.getBindingsString(e,t))?this.parseBindingsString(i,t,e):null;return T.g.Rb(i,e,t,!1)},getBindingAccessors:function(e,t){var i=(i=this.getBindingsString(e,t))?this.parseBindingsString(i,t,e,{valueAccessors:!0}):null;return T.g.Rb(i,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return T.f.vd(e);default:return null}},parseBindingsString:function(t,e,i,n){try{var a,o=this.Kc,r=t+(n&&n.valueAccessors||"");if(!(a=o[r])){var s,l="with($context){with($data||{}){return{"+T.h.Xa(t,n)+"}}}";s=new Function("$context","$element",l),a=o[r]=s}return a(e,i)}catch(e){throw e.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+e.message,e}}}),T.S.instance=new T.S,T.b("bindingProvider",T.S),function(){function r(e){return function(){return e}}function v(e){return e()}function s(i){return T.a.Ea(T.l.w(i),function(e,t){return function(){return i()[t]}})}function b(e,t){return s(this.getBindings.bind(this,e,t))}function o(e,t,i){var n,a=T.f.firstChild(t),o=T.S.instance,r=o.preprocessNode;if(r){for(;n=a;)a=T.f.nextSibling(n),r.call(o,n);a=T.f.firstChild(t)}for(;n=a;)a=T.f.nextSibling(n),l(e,n,i)}function l(e,t,i){var n=!0,a=1===t.nodeType;a&&T.f.oc(t),(a&&i||T.S.instance.nodeHasBindings(t))&&(n=d(t,null,e,i).shouldBindDescendants),n&&!u[T.a.A(t)]&&o(e,t,!a)}function d(a,e,o,t){var r,s,n,l,d,c,i=T.a.e.get(a,g);if(!e){if(i)throw Error("You cannot apply bindings multiple times to the same element.");T.a.e.set(a,g,!0)}if(!i&&t&&T.xc(a,o),e&&"function"!=typeof e)r=e;else{var u=T.S.instance,f=u.getBindingAccessors||b,p=T.B(function(){return(r=e?e(o,a):f.call(u,a,o))&&o.Q&&o.Q(),r},null,{i:a});r&&p.ca()||(p=null)}if(r){var h=p?function(e){return function(){return v(p()[e])}}:function(e){return r[e]},m=function(){return T.a.Ea(p?p():r,v)};m.get=function(e){return r[e]&&v(h(e))},m.has=function(e){return e in r},n=r,l=[],d={},c=[],T.a.D(n,function t(e){if(!d[e]){var i=T.getBindingHandler(e);i&&(i.after&&(c.push(e),T.a.r(i.after,function(e){if(n[e]){if(-1!==T.a.o(c,e))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+c.join(", "));t(e)}}),c.length--),l.push({key:e,jc:i})),d[e]=!0}}),t=l,T.a.r(t,function(e){var t=e.jc.init,i=e.jc.update,n=e.key;if(8===a.nodeType&&!T.f.aa[n])throw Error("The binding '"+n+"' cannot be used with virtual elements");try{"function"==typeof t&&T.l.w(function(){var e=t(a,h(n),m,o.$data,o);if(e&&e.controlsDescendantBindings){if(s!==ye)throw Error("Multiple bindings ("+s+" and "+n+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");s=n}}),"function"==typeof i&&T.B(function(){i(a,h(n),m,o.$data,o)},null,{i:a})}catch(e){throw e.message='Unable to process binding "'+n+": "+r[n]+'"\nMessage: '+e.message,e}})}return{shouldBindDescendants:s===ye}}function c(e){return e&&e instanceof T.R?e:new T.R(e)}T.d={};var u={script:!0,textarea:!0,template:!0};T.getBindingHandler=function(e){return T.d[e]},T.R=function(i,n,a,o,e){function t(){var e=d?i():i,t=T.a.c(e);return n?(n.Q&&n.Q(),T.a.extend(l,n),l.Q=s):(l.$parents=[],l.$root=t,l.ko=T),l.$rawData=e,l.$data=t,a&&(l[a]=t),o&&o(l,n,t),l.$data}var r,s,l=this,d="function"==typeof i&&!T.I(i);e&&e.exportDependencies?t():(s=T.B(t,null,{ya:function(){return r&&!T.a.Tb(r)},i:!0})).ca()&&((l.Q=s).equalityComparer=null,r=[],s.Dc=function(e){r.push(e),T.a.G.qa(e,function(e){T.a.Na(r,e),r.length||(s.k(),l.Q=s=ye)})})},T.R.prototype.createChildContext=function(e,t,i,n){return new T.R(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),i&&i(e)},n)},T.R.prototype.extend=function(i){return new T.R(this.Q||this.$data,this,null,function(e,t){e.$rawData=t.$rawData,T.a.extend(e,"function"==typeof i?i():i)})},T.R.prototype.ac=function(e,t){return this.createChildContext(e,t,null,{exportDependencies:!0})};var g=T.a.e.J(),i=T.a.e.J();T.xc=function(e,t){if(2!=arguments.length)return T.a.e.get(e,i);T.a.e.set(e,i,t),t.Q&&t.Q.Dc(e)},T.La=function(e,t,i){return 1===e.nodeType&&T.f.oc(e),d(e,t,c(i),!0)},T.Ic=function(e,t,i){return i=c(i),T.La(e,(a=i,o=e,"function"==typeof(n=t)?s(n.bind(null,a,o)):T.a.Ea(n,r)),i);var n,a,o},T.hb=function(e,t){1!==t.nodeType&&8!==t.nodeType||o(c(e),t,!0)},T.Ub=function(e,t){if(!Ce&&ze.jQuery&&(Ce=ze.jQuery),t&&1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||ze.document.body,l(c(e),t,!0)},T.nb=function(e){switch(e.nodeType){case 1:case 8:var t=T.xc(e);if(t)return t;if(e.parentNode)return T.nb(e.parentNode)}return ye},T.Oc=function(e){return(e=T.nb(e))?e.$data:ye},T.b("bindingHandlers",T.d),T.b("applyBindings",T.Ub),T.b("applyBindingsToDescendants",T.hb),T.b("applyBindingAccessorsToNode",T.La),T.b("applyBindingsToNode",T.Ic),T.b("contextFor",T.nb),T.b("dataFor",T.Oc)}(),function(s){function n(n,e){var a,i,o,r=d.hasOwnProperty(n)?d[n]:s;r?r.Y(e):((r=d[n]=new T.K).Y(e),o=function(e,t){var i=!(!t||!t.synchronous);c[n]={definition:e,dd:i},delete d[n],a||i?r.notifySubscribers(e):T.Z.Za(function(){r.notifySubscribers(e)})},l("getConfig",[i=n],function(t){t?l("loadComponent",[i,t],function(e){o(e,t)}):o(null,null)}),a=!0)}function l(t,i,n,a){a||(a=T.g.loaders.slice(0));var e=a.shift();if(e){var o=e[t];if(o){var r=!1;if(o.apply(e,i.concat(function(e){r?n(null):null!==e?n(e):l(t,i,n,a)}))!==s&&(r=!0,!e.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else l(t,i,n,a)}else n(null)}var d={},c={};T.g={get:function(e,t){var i=c.hasOwnProperty(e)?c[e]:s;i?i.dd?T.l.w(function(){t(i.definition)}):T.Z.Za(function(){t(i.definition)}):n(e,t)},$b:function(e){delete c[e]},Nb:l},T.g.loaders=[],T.b("components",T.g),T.b("components.get",T.g.get),T.b("components.clearCachedDefinition",T.g.$b)}(),function(){function a(e){switch(T.a.A(e)){case"script":return T.a.na(e.text);case"textarea":return T.a.na(e.value);case"template":if(o(e.content))return T.a.wa(e.content.childNodes)}return T.a.wa(e.childNodes)}function o(e){return ze.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function l(e,t,i){"string"==typeof t.require?n||ze.require?(n||ze.require)([t.require],i):e("Uses require, but no AMD loader is present"):i(t)}function r(t){return function(e){throw Error("Component '"+t+"': "+e)}}var i={};T.g.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(T.g.wb(e))throw Error("Component "+e+" is already registered");i[e]=t},T.g.wb=function(e){return i.hasOwnProperty(e)},T.g.ud=function(e){delete i[e],T.g.$b(e)},T.g.cc={getConfig:function(e,t){t(i.hasOwnProperty(e)?i[e]:null)},loadComponent:function(t,e,i){var n=r(t);l(n,e,function(e){!function(t,e,i,n){function a(){0==--r&&n(o)}var o={},r=2,s=i.template;i=i.viewModel,s?l(e,s,function(e){T.g.Nb("loadTemplate",[t,e],function(e){o.template=e,a()})}):a(),i?l(e,i,function(e){T.g.Nb("loadViewModel",[t,e],function(e){o[d]=e,a()})}):a()}(t,n,e,i)})},loadTemplate:function(e,t,i){if(e=r(e),"string"==typeof t)i(T.a.na(t));else if(t instanceof Array)i(t);else if(o(t))i(T.a.W(t.childNodes));else if(t.element)if(t=t.element,ze.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType)i(a(t));else if("string"==typeof t){var n=Ae.getElementById(t);n?i(a(n)):e("Cannot find element with ID "+t)}else e("Unknown element type: "+t);else e("Unknown template value: "+t)},loadViewModel:function(e,t,i){!function e(t,i,n){if("function"==typeof i)n(function(e){return new i(e)});else if("function"==typeof i[d])n(i[d]);else if("instance"in i){var a=i.instance;n(function(){return a})}else"viewModel"in i?e(t,i.viewModel,n):t("Unknown viewModel value: "+i)}(r(e),t,i)}};var d="createViewModel";T.b("components.register",T.g.register),T.b("components.isRegistered",T.g.wb),T.b("components.unregister",T.g.ud),T.b("components.defaultLoader",T.g.cc),T.g.loaders.push(T.g.cc),T.g.Ec=i}(),function(){T.g.getComponentNameForNode=function(e){var t=T.a.A(e);if(T.g.wb(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||T.a.C<=8&&e.tagName===t))return t},T.g.Rb=function(e,t,i,n){if(1===t.nodeType){var a=T.g.getComponentNameForNode(t);if(a){if((e=e||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var o={name:a,params:function(i,e){if(t=i.getAttribute("params")){var t=r.parseBindingsString(t,e,i,{valueAccessors:!0,bindingParams:!0}),n=(t=T.a.Ea(t,function(e){return T.m(e,null,{i:i})}),T.a.Ea(t,function(t){var e=t.p();return t.ca()?T.m({read:function(){return T.a.c(t())},write:T.Da(e)&&function(e){t()(e)},i:i}):e}));return n.hasOwnProperty("$raw")||(n.$raw=t),n}return{$raw:{}}}(t,i)};e.component=n?function(){return o}:o}}return e};var n,t,r=new T.S;T.a.C<9&&(T.g.register=(t=T.g.register,function(e){return Ae.createElement(e),t.apply(this,arguments)}),Ae.createDocumentFragment=(n=Ae.createDocumentFragment,function(){var e,t=n(),i=T.g.Ec;for(e in i)i.hasOwnProperty(e)&&t.createElement(e);return t}))}(),F=0,T.d.component={init:function(c,t,e,i,u){function f(){var e=p&&p.dispose;"function"==typeof e&&e.call(p),h=p=null}var p,h,m=T.a.W(T.f.childNodes(c));return T.a.G.qa(c,f),T.m(function(){var s,l,e=T.a.c(t());if("string"==typeof e?s=e:(s=T.a.c(e.name),l=T.a.c(e.params)),!s)throw Error("No component name specified");var d=h=++F;T.g.get(s,function(e){if(h===d){if(f(),!e)throw Error("Unknown component '"+s+"'");!function(e,t,i){if(!(t=t.template))throw Error("Component '"+e+"' has no template");e=T.a.wa(t),T.f.fa(i,e)}(s,e,c);var t=(n=c,a=m,o=l,(r=(i=e).createViewModel)?r.call(i,o,{element:n,templateNodes:a}):o);e=u.createChildContext(t,void 0,function(e){e.$component=t,e.$componentTemplateNodes=m}),p=t,T.hb(e,c)}var i,n,a,o,r})},null,{i:c}),{controlsDescendantBindings:!0}}},T.f.aa.component=!0;var N={class:"className",for:"htmlFor"};T.d.attr={update:function(n,e){var t=T.a.c(e())||{};T.a.D(t,function(e,t){var i=!1===(t=T.a.c(t))||null===t||t===ye;i&&n.removeAttribute(e),T.a.C<=8&&e in N?(e=N[e],i?n.removeAttribute(e):n[e]=t):i||n.setAttribute(e,t.toString()),"name"===e&&T.a.vc(n,i?"":t.toString())})}},T.d.checked={after:["value","attr"],init:function(a,o,r){function e(){var e=a.checked,t=f?s():e;if(!T.xa.Va()&&(!l||e)){var i=T.l.w(o);if(d){var n=c?i.p():i;u!==t?(e&&(T.a.ra(n,t,!0),T.a.ra(n,u,!1)),u=t):T.a.ra(n,t,e),c&&T.Da(i)&&i(n)}else T.h.Ga(i,r,"checked",t,!0)}}var s=T.rc(function(){return r.has("checkedValue")?T.a.c(r.get("checkedValue")):r.has("value")?T.a.c(r.get("value")):a.value}),t="checkbox"==a.type,l="radio"==a.type;if(t||l){var i=o(),d=t&&T.a.c(i)instanceof Array,c=!(d&&i.push&&i.splice),u=d?s():ye,f=l||d;l&&!a.name&&T.d.uniqueName.init(a,function(){return!0}),T.m(e,null,{i:a}),T.a.q(a,"click",e),T.m(function(){var e=T.a.c(o());a.checked=d?0<=T.a.o(e,s()):t?e:s()===e},null,{i:a}),i=ye}}},T.h.ga.checked=!0,T.d.checkedValue={update:function(e,t){e.value=T.a.c(t())}},T.d.css={update:function(i,e){var t=T.a.c(e());null!==t&&"object"==typeof t?T.a.D(t,function(e,t){t=T.a.c(t),T.a.fb(i,e,t)}):(t=T.a.cb(String(t||"")),T.a.fb(i,i.__ko__cssValue,!1),i.__ko__cssValue=t,T.a.fb(i,t,!0))}},T.d.enable={update:function(e,t){var i=T.a.c(t());i&&e.disabled?e.removeAttribute("disabled"):i||e.disabled||(e.disabled=!0)}},T.d.disable={update:function(e,t){T.d.enable.update(e,function(){return!T.a.c(t())})}},T.d.event={init:function(e,o,r,s,l){var t=o()||{};T.a.D(t,function(a){"string"==typeof a&&T.a.q(e,a,function(e){var t,i=o()[a];if(i){try{var n=T.a.W(arguments);s=l.$data,n.unshift(s),t=i.apply(s,n)}finally{!0!==t&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===r.get(a+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},T.d.foreach={mc:function(i){return function(){var e=i(),t=T.a.Bb(e);return t&&"number"!=typeof t.length?(T.a.c(e),{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:T.X.vb}):{foreach:e,templateEngine:T.X.vb}}},init:function(e,t){return T.d.template.init(e,T.d.foreach.mc(t))},update:function(e,t,i,n,a){return T.d.template.update(e,T.d.foreach.mc(t),i,n,a)}},T.h.va.foreach=!1,T.f.aa.foreach=!0,T.d.hasfocus={init:function(n,a,o){function e(e){n.__ko_hasfocusUpdating=!0;var t=n.ownerDocument;if("activeElement"in t){var i;try{i=t.activeElement}catch(e){i=t.body}e=i===n}t=a(),T.h.Ga(t,o,"hasfocus",e,!0),n.__ko_hasfocusLastValue=e,n.__ko_hasfocusUpdating=!1}var t=e.bind(null,!0),i=e.bind(null,!1);T.a.q(n,"focus",t),T.a.q(n,"focusin",t),T.a.q(n,"blur",i),T.a.q(n,"focusout",i)},update:function(e,t){var i=!!T.a.c(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===i||(i?e.focus():e.blur(),!i&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),T.l.w(T.a.Fa,null,[e,i?"focusin":"focusout"]))}},T.h.ga.hasfocus=!0,T.d.hasFocus=T.d.hasfocus,T.h.ga.hasFocus=!0,T.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){T.a.Eb(e,t())}},t("if"),t("ifnot",!1,!0),t("with",!0,!1,function(e,t){return e.ac(t)});var V={};T.d.options={init:function(e){if("select"!==T.a.A(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(n,e,a){function t(){return T.a.Ma(n.options,function(e){return e.selected})}function o(e,t,i){var n=typeof t;return"function"==n?t(e):"string"==n?e[t]:i}function i(e,t){if(p&&d)T.j.ja(n,T.a.c(a.get("value")),!0);else if(f.length){var i=0<=T.a.o(f,T.j.u(t[0]));T.a.wc(t[0],i),p&&!i&&T.l.w(T.a.Fa,null,[n,"change"])}}var r=n.multiple,s=0!=n.length&&r?n.scrollTop:null,l=T.a.c(e()),d=a.get("valueAllowUnset")&&a.has("value"),c=a.get("optionsIncludeDestroyed");e={};var u,f=[];d||(r?f=T.a.ib(t(),T.j.u):0<=n.selectedIndex&&f.push(T.j.u(n.options[n.selectedIndex]))),l&&(void 0===l.length&&(l=[l]),u=T.a.Ma(l,function(e){return c||e===ye||null===e||!T.a.c(e._destroy)}),a.has("optionsCaption")&&null!==(l=T.a.c(a.get("optionsCaption")))&&l!==ye&&u.unshift(V));var p=!1;e.beforeRemove=function(e){n.removeChild(e)},l=i,a.has("optionsAfterRender")&&"function"==typeof a.get("optionsAfterRender")&&(l=function(e,t){i(0,t),T.l.w(a.get("optionsAfterRender"),null,[t[0],e!==V?e:ye])}),T.a.Db(n,u,function(e,t,i){return i.length&&(f=!d&&i[0].selected?[T.j.u(i[0])]:[],p=!0),t=n.ownerDocument.createElement("option"),e===V?(T.a.bb(t,a.get("optionsCaption")),T.j.ja(t,ye)):(i=o(e,a.get("optionsValue"),e),T.j.ja(t,T.a.c(i)),e=o(e,a.get("optionsText"),i),T.a.bb(t,e)),[t]},e,l),T.l.w(function(){d?T.j.ja(n,T.a.c(a.get("value")),!0):(r?f.length&&t().length<f.length:f.length&&0<=n.selectedIndex?T.j.u(n.options[n.selectedIndex])!==f[0]:f.length||0<=n.selectedIndex)&&T.a.Fa(n,"change")}),T.a.Sc(n),s&&20<Math.abs(s-n.scrollTop)&&(n.scrollTop=s)}},T.d.options.zb=T.a.e.J(),T.d.selectedOptions={after:["options","foreach"],init:function(i,n,a){T.a.q(i,"change",function(){var e=n(),t=[];T.a.r(i.getElementsByTagName("option"),function(e){e.selected&&t.push(T.j.u(e))}),T.h.Ga(e,a,"selectedOptions",t)})},update:function(e,t){if("select"!=T.a.A(e))throw Error("values binding applies only to SELECT elements");var i=T.a.c(t()),n=e.scrollTop;i&&"number"==typeof i.length&&T.a.r(e.getElementsByTagName("option"),function(e){var t=0<=T.a.o(i,T.j.u(e));e.selected!=t&&T.a.wc(e,t)}),e.scrollTop=n}},T.h.ga.selectedOptions=!0,T.d.style={update:function(i,e){var t=T.a.c(e()||{});T.a.D(t,function(e,t){null!==(t=T.a.c(t))&&t!==ye&&!1!==t||(t=""),i.style[e]=t})}},T.d.submit={init:function(n,a,e,t,o){if("function"!=typeof a())throw Error("The value for a submit binding must be a function");T.a.q(n,"submit",function(e){var t,i=a();try{t=i.call(o.$data,n)}finally{!0!==t&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}})}},T.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){T.a.bb(e,t())}},T.f.aa.text=!0,function(){if(ze&&ze.navigator)var e=function(e){if(e)return parseFloat(e[1])},c=ze.opera&&ze.opera.version&&parseInt(ze.opera.version()),t=ze.navigator.userAgent,u=e(t.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),f=e(t.match(/Firefox\/([^ ]*)/));if(T.a.C<10)var n=T.a.e.J(),a=T.a.e.J(),o=function(e){var t=this.activeElement;(t=t&&T.a.e.get(t,a))&&t(e)},p=function(e,t){var i=e.ownerDocument;T.a.e.get(i,n)||(T.a.e.set(i,n,!0),T.a.q(i,"selectionchange",o)),T.a.e.set(e,a,t)};T.d.textInput={init:function(i,n,t){function e(e,t){T.a.q(i,e,t)}function a(){r||(s=i.value,r=T.a.setTimeout(o,4))}function o(){clearTimeout(r),s=r=ye;var e=i.value;l!==e&&(l=e,T.h.Ga(n(),t,"textInput",e))}var r,s,l=i.value,d=9==T.a.C?a:o;T.a.C<10?(e("propertychange",function(e){"value"===e.propertyName&&d(e)}),8==T.a.C&&(e("keyup",o),e("keydown",o)),8<=T.a.C&&(p(i,d),e("dragend",a))):(e("input",o),u<5&&"textarea"===T.a.A(i)?(e("keydown",a),e("paste",a),e("cut",a)):c<11?e("keydown",a):f<4&&(e("DOMAutoComplete",o),e("dragdrop",o),e("drop",o))),e("change",o),T.m(function e(){var t=T.a.c(n());null!==t&&t!==ye||(t=""),s!==ye&&t===s?T.a.setTimeout(e,4):i.value!==t&&(l=t,i.value=t)},null,{i:i})}},T.h.ga.textInput=!0,T.d.textinput={preprocess:function(e,t,i){i("textInput",e)}}}(),T.d.uniqueName={init:function(e,t){if(t()){var i="ko_unique_"+ ++T.d.uniqueName.Nc;T.a.vc(e,i)}}},T.d.uniqueName.Nc=0,T.d.value={after:["options","foreach"],init:function(n,a,o){if("input"!=n.tagName.toLowerCase()||"checkbox"!=n.type&&"radio"!=n.type){var e=["change"],t=o.get("valueUpdate"),i=!1,r=null;t&&("string"==typeof t&&(t=[t]),T.a.ta(e,t),e=T.a.Wb(e));var s=function(){r=null,i=!1;var e=a(),t=T.j.u(n);T.h.Ga(e,o,"value",t)};!T.a.C||"input"!=n.tagName.toLowerCase()||"text"!=n.type||"off"==n.autocomplete||n.form&&"off"==n.form.autocomplete||-1!=T.a.o(e,"propertychange")||(T.a.q(n,"propertychange",function(){i=!0}),T.a.q(n,"focus",function(){i=!1}),T.a.q(n,"blur",function(){i&&s()})),T.a.r(e,function(e){var t=s;T.a.sd(e,"after")&&(t=function(){r=T.j.u(n),T.a.setTimeout(s,0)},e=e.substring(5)),T.a.q(n,e,t)});var l=function(){var e=T.a.c(a()),t=T.j.u(n);if(null!==r&&e===r)T.a.setTimeout(l,0);else if(e!==t)if("select"===T.a.A(n)){var i=o.get("valueAllowUnset");(t=function(){T.j.ja(n,e,i)})(),i||e===T.j.u(n)?T.a.setTimeout(t,0):T.l.w(T.a.Fa,null,[n,"change"])}else T.j.ja(n,e)};T.m(l,null,{i:n})}else T.La(n,{checkedValue:a})},update:function(){}},T.h.ga.value=!0,T.d.visible={update:function(e,t){var i=T.a.c(t()),n="none"!=e.style.display;i&&!n?e.style.display="":!i&&n&&(e.style.display="none")}},T.d.click={init:function(e,t,i,n,a){return T.d.event.init.call(this,e,function(){var e={};return e.click=t(),e},i,n,a)}},T.P=function(){},T.P.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},T.P.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},T.P.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){var i=(t=t||Ae).getElementById(e);if(!i)throw Error("Cannot find template with ID "+e);return new T.v.n(i)}if(1==e.nodeType||8==e.nodeType)return new T.v.sa(e);throw Error("Unknown template type: "+e)},T.P.prototype.renderTemplate=function(e,t,i,n){return e=this.makeTemplateSource(e,n),this.renderTemplateSource(e,t,i,n)},T.P.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},T.P.prototype.rewriteTemplate=function(e,t,i){t=t((e=this.makeTemplateSource(e,i)).text()),e.text(t),e.data("isRewritten",!0)},T.b("templateEngine",T.P),T.Ib=function(){function r(e,t,i,n){e=T.h.Ab(e);for(var a=T.h.va,o=0;o<e.length;o++){var r=e[o].key;if(a.hasOwnProperty(r)){var s=a[r];if("function"==typeof s){if(r=s(e[o].value))throw Error(r)}else if(!s)throw Error("This template engine does not support the '"+r+"' binding within its templates")}}return i="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+T.h.Xa(e,{valueAccessors:!0})+" } })()},'"+i.toLowerCase()+"')",n.createJavaScriptEvaluatorBlock(i)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Tc:function(e,t,i){t.isTemplateRewritten(e,i)||t.rewriteTemplate(e,function(e){return T.Ib.jd(e,t)},i)},jd:function(e,o){return e.replace(t,function(e,t,i,n,a){return r(a,t,i,o)}).replace(i,function(e,t){return r(t,"\x3c!-- ko --\x3e","#comment",o)})},Jc:function(n,a){return T.N.yb(function(e,t){var i=e.nextSibling;i&&i.nodeName.toLowerCase()===a&&T.La(i,n,t)})}}}(),T.b("__tr_ambtns",T.Ib.Jc),function(){T.v={},T.v.n=function(e){if(this.n=e){var t=T.a.A(e);this.eb="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},T.v.n.prototype.text=function(){var e=1===this.eb?"text":2===this.eb?"value":"innerHTML";if(0==arguments.length)return this.n[e];var t=arguments[0];"innerHTML"===e?T.a.Eb(this.n,t):this.n[e]=t};var t=T.a.e.J()+"_";T.v.n.prototype.data=function(e){if(1===arguments.length)return T.a.e.get(this.n,t+e);T.a.e.set(this.n,t+e,arguments[1])};var i=T.a.e.J();T.v.n.prototype.nodes=function(){var e=this.n;if(0==arguments.length)return(T.a.e.get(e,i)||{}).mb||(3===this.eb?e.content:4===this.eb?e:ye);T.a.e.set(e,i,{mb:arguments[0]})},T.v.sa=function(e){this.n=e},T.v.sa.prototype=new T.v.n,T.v.sa.prototype.text=function(){if(0==arguments.length){var e=T.a.e.get(this.n,i)||{};return e.Jb===ye&&e.mb&&(e.Jb=e.mb.innerHTML),e.Jb}T.a.e.set(this.n,i,{Jb:arguments[0]})},T.b("templateSources",T.v),T.b("templateSources.domElement",T.v.n),T.b("templateSources.anonymousTemplate",T.v.sa)}(),function(){function n(e,t,i){var n;for(t=T.f.nextSibling(t);e&&(n=e)!==t;)i(n,e=T.f.nextSibling(n))}function d(e,t){if(e.length){var a=e[0],o=e[e.length-1],i=a.parentNode,r=T.S.instance,s=r.preprocessNode;if(s){if(n(a,o,function(e,t){var i=e.previousSibling,n=s.call(r,e);n&&(e===a&&(a=n[0]||t),e===o&&(o=n[n.length-1]||i))}),e.length=0,!a)return;a===o?e.push(a):(e.push(a,o),T.a.Ba(e,i))}n(a,o,function(e){1!==e.nodeType&&8!==e.nodeType||T.Ub(t,e)}),n(a,o,function(e){1!==e.nodeType&&8!==e.nodeType||T.N.Cc(e,[t])}),T.a.Ba(e,i)}}function l(e){return e.nodeType?e:0<e.length?e[0]:null}function c(e,t,i,n,a){a=a||{};var o=(e&&l(e)||i||{}).ownerDocument,r=a.templateEngine||f;if(T.Ib.Tc(i,r,o),"number"!=typeof(i=r.renderTemplate(i,n,a,o)).length||0<i.length&&"number"!=typeof i[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(o=!1,t){case"replaceChildren":T.f.fa(e,i),o=!0;break;case"replaceNode":T.a.uc(e,i),o=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t)}return o&&(d(i,n),a.afterRender&&T.l.w(a.afterRender,null,[i,n.$data])),i}function u(e,t,i){return T.I(e)?e():"function"==typeof e?e(t,i):e}var f;T.Fb=function(e){if(e!=ye&&!(e instanceof T.P))throw Error("templateEngine must inherit from ko.templateEngine");f=e},T.Cb=function(i,n,a,o,r){if(((a=a||{}).templateEngine||f)==ye)throw Error("Set a template engine before calling renderTemplate");if(r=r||"replaceChildren",o){var s=l(o);return T.B(function(){var e=n&&n instanceof T.R?n:new T.R(n,null,null,null,{exportDependencies:!0}),t=u(i,e.$data,e);e=c(o,r,t,e,a),"replaceNode"==r&&(s=l(o=e))},null,{ya:function(){return!s||!T.a.qb(s)},i:s&&"replaceNode"==r?s.parentNode:s})}return T.N.yb(function(e){T.Cb(i,n,a,e,"replaceNode")})},T.pd=function(i,t,n,a,o){function r(e,t){d(t,l),n.afterRender&&n.afterRender(t,e),l=null}function s(e,t){return l=o.createChildContext(e,n.as,function(e){e.$index=t}),c(null,"ignoreTargetNode",u(i,e,l),l,n)}var l;return T.B(function(){var e=T.a.c(t)||[];void 0===e.length&&(e=[e]),e=T.a.Ma(e,function(e){return n.includeDestroyed||e===ye||null===e||!T.a.c(e._destroy)}),T.l.w(T.a.Db,null,[a,e,s,n,r])},null,{i:a})};var r=T.a.e.J();T.d.template={init:function(e,t){var i=T.a.c(t());if("string"==typeof i||i.name)T.f.za(e);else{if("nodes"in i){if(i=i.nodes||[],T.I(i))throw Error('The "nodes" option must be a plain, non-observable array.')}else i=T.f.childNodes(e);i=T.a.nc(i),new T.v.sa(e).nodes(i)}return{controlsDescendantBindings:!0}},update:function(e,t,i,n,a){var o=t();i=!0,n=null,"string"==typeof(t=T.a.c(o))?t={}:(o=t.name,"if"in t&&(i=T.a.c(t.if)),i&&"ifnot"in t&&(i=!T.a.c(t.ifnot))),"foreach"in t?n=T.pd(o||e,i&&t.foreach||[],t,e,a):i?(a="data"in t?a.ac(t.data,t.as):a,n=T.Cb(o||e,a,t,e)):T.f.za(e),a=n,(t=T.a.e.get(e,r))&&"function"==typeof t.k&&t.k(),T.a.e.set(e,r,a&&a.ca()?a:ye)}},T.h.va.template=function(e){return 1==(e=T.h.Ab(e)).length&&e[0].unknown||T.h.fd(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},T.f.aa.template=!0}(),T.b("setTemplateEngine",T.Fb),T.b("renderTemplate",T.Cb),T.a.hc=function(e,t,i){var n,a,o,r,s;if(e.length&&t.length)for(n=a=0;(!i||n<i)&&(r=e[a]);++a){for(o=0;s=t[o];++o)if(r.value===s.value){r.moved=s.index,s.moved=r.index,t.splice(o,1),n=o=0;break}n+=o}},T.a.lb=function(){function n(e,t,i,n,a){var o,r,s,l,d,c=Math.min,u=Math.max,f=[],p=e.length,h=t.length,m=h-p||1,v=p+h+1;for(o=0;o<=p;o++)for(l=s,f.push(s=[]),d=c(h,o+m),r=u(0,o-1);r<=d;r++)s[r]=r?o?e[o-1]===t[r-1]?l[r-1]:c(l[r]||v,s[r-1]||v)+1:r+1:o+1;for(c=[],u=[],m=[],o=p,r=h;o||r;)h=f[o][r]-1,r&&h===f[o][r-1]?u.push(c[c.length]={status:i,value:t[--r],index:r}):o&&h===f[o-1][r]?m.push(c[c.length]={status:n,value:e[--o],index:o}):(--r,--o,a.sparse||c.push({status:"retained",value:t[r]}));return T.a.hc(m,u,!a.dontLimitMoves&&10*p),c.reverse()}return function(e,t,i){return i="boolean"==typeof i?{dontLimitMoves:i}:i||{},t=t||[],(e=e||[]).length<t.length?n(e,t,"added","deleted",i):n(t,e,"deleted","added",i)}}(),T.b("utils.compareArrays",T.a.lb),function(){function k(t,i,n,a,o){var r=[],e=T.B(function(){var e=i(n,o,T.a.Ba(r,t))||[];0<r.length&&(T.a.uc(r,e),a&&T.l.w(a,null,[n,e,o])),r.length=0,T.a.ta(r,e)},null,{i:t,ya:function(){return!T.a.Tb(r)}});return{ea:r,B:e.ca()?e:ye}}var C=T.a.e.J(),S=T.a.e.J();T.a.Db=function(i,e,t,n,a){function o(e,t){b=d[t],h!==t&&(x[e]=b),b.tb(h++),T.a.Ba(b.ea,i),f.push(b),v.push(b)}function r(t,i){if(t)for(var n=0,e=i.length;n<e;n++)i[n]&&T.a.r(i[n].ea,function(e){t(e,n,i[n].ka)})}e=e||[],n=n||{};var s,l=T.a.e.get(i,C)===ye,d=T.a.e.get(i,C)||[],c=T.a.ib(d,function(e){return e.ka}),u=T.a.lb(c,e,n.dontLimitMoves),f=[],p=0,h=0,m=[],v=[];e=[];for(var b,g,y,x=[],w=(c=[],0);g=u[w];w++)switch(y=g.moved,g.status){case"deleted":y===ye&&((b=d[p]).B&&(b.B.k(),b.B=ye),T.a.Ba(b.ea,i).length&&(n.beforeRemove&&(f.push(b),v.push(b),b.ka===S?b=null:e[w]=b),b&&m.push.apply(m,b.ea))),p++;break;case"retained":o(w,p++);break;case"added":y!==ye?o(w,y):(b={ka:g.value,tb:T.O(h++)},f.push(b),v.push(b),l||(c[w]=b))}for(T.a.e.set(i,C,f),r(n.beforeMove,x),T.a.r(m,n.beforeRemove?T.ba:T.removeNode),w=0,l=T.f.firstChild(i);b=v[w];w++){for(b.ea||T.a.extend(b,k(i,t,b.ka,a,b.tb)),p=0;u=b.ea[p];l=u.nextSibling,s=u,p++)u!==l&&T.f.kc(i,u,s);!b.ad&&a&&(a(b.ka,b.ea,b.tb),b.ad=!0)}for(r(n.beforeRemove,e),w=0;w<e.length;++w)e[w]&&(e[w].ka=S);r(n.afterMove,x),r(n.afterAdd,c)}}(),T.b("utils.setDomNodeChildrenFromArrayMapping",T.a.Db),T.X=function(){this.allowTemplateRewriting=!1},T.X.prototype=new T.P,T.X.prototype.renderTemplateSource=function(e,t,i,n){return(t=T.a.C<9||!e.nodes?null:e.nodes())?T.a.W(t.cloneNode(!0).childNodes):(e=e.text(),T.a.na(e,n))},T.X.vb=new T.X,T.Fb(T.X.vb),T.b("nativeTemplateEngine",T.X),function(){T.xb=function(){var o=this.ed=function(){if(!Ce||!Ce.tmpl)return 0;try{if(0<=Ce.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(e,t,i,n){if(n=n||Ae,i=i||{},o<2)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var a=e.data("precompiled");return a||(a=e.text()||"",a=Ce.template(null,"{{ko_with $item.koBindingContext}}"+a+"{{/ko_with}}"),e.data("precompiled",a)),e=[t.$data],t=Ce.extend({koBindingContext:t},i.templateOptions),(t=Ce.tmpl(a,e,t)).appendTo(n.createElement("div")),Ce.fragments={},t},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){Ae.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<o&&(Ce.tmpl.tag.ko_code={open:"__.push($1 || '');"},Ce.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},T.xb.prototype=new T.P;var e=new T.xb;0<e.ed&&T.Fb(e),T.b("jqueryTmplTemplateEngine",T.xb)}()},"function"==typeof dcf.define&&dcf.define.amd?dcf.define("knockout",["exports","require"],Ee):"object"==typeof exports&&"object"==typeof module?Ee(module.exports||exports):Ee(ze.ko={})}(),dcf.define("stringTemplateEngine",["knockout"],function(n){if(n){var t={},i={},e=new n.nativeTemplateEngine;n.templateSources.stringTemplate=function(e){this.templateName=e},n.utils.extend(n.templateSources.stringTemplate.prototype,{data:function(e,t){if(i[this.templateName]=i[this.templateName]||{},1===arguments.length)return i[this.templateName][e];i[this.templateName][e]=t},text:function(e){if(0===arguments.length)return t[this.templateName];t[this.templateName]=e}}),e.makeTemplateSource=function(e,t){var i;return"string"==typeof e?(i=(t||document).getElementById(e))?new n.templateSources.domElement(i):new n.templateSources.stringTemplate(e):e&&1==e.nodeType||8==e.nodeType?new n.templateSources.anonymousTemplate(e):void 0},n.templates=t,n.setTemplateEngine(e)}}),dcf.require(["polyfills","modernizr","stringTemplateEngine"],function(){}),dcf.define("dependencies",function(){}),dcf.define("domReady",[],function(){"use strict";var e,t,i,n="undefined"!=typeof window&&window.document,a=!n,o=n?document:null,r=[];function s(){var e=r;a&&e.length&&(r=[],function(e){var t;for(t=0;t<e.length;t+=1)e[t](o)}(e))}function l(){a||(a=!0,i&&clearInterval(i),s())}if(n){if(document.addEventListener)document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1);else if(window.attachEvent){window.attachEvent("onload",l),t=document.createElement("div");try{e=null===window.frameElement}catch(e){}t.doScroll&&e&&window.external&&(i=setInterval(function(){try{t.doScroll(),l()}catch(e){}},30))}"complete"===document.readyState&&l()}function d(e){return a?e(o):r.push(e),d}return d.version="2.0.1",d.load=function(e,t,i,n){n.isBuild?i(null):d(i)},d}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}var cx,escapable,gap,indent,meta,rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,n,a,o,r,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,i=0;i<o;i+=1)r[i]=str(i,l)||"null";return a=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+s+"]":"["+r.join(",")+"]",gap=s,a}if(rep&&"object"==typeof rep)for(o=rep.length,i=0;i<o;i+=1)"string"==typeof rep[i]&&(a=str(n=rep[i],l))&&r.push(quote(n)+(gap?": ":":")+a);else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(a=str(n,l))&&r.push(quote(n)+(gap?": ":":")+a);return a=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+s+"}":"{"+r.join(",")+"}",gap=s,a}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,i){var n;if(indent=gap="","number"==typeof i)for(n=0;n<i;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if((rep=t)&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(e,t){var i,n,a=e[t];if(a&&"object"==typeof a)for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(void 0!==(n=walk(a,i))?a[i]=n:delete a[i]);return reviver.call(e,t,a)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),dcf.define("json2",function(){}),dcf.define("widgetutil",["json2"],function(){var t,s={createXHR:function(){return window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest},useCors:"withCredentials"in new XMLHttpRequest,jsonParse:function(e,t,i){e=e.replace(/^\s*module.exports\s=\s|\s*;\s*$/g,"");try{var n=JSON.parse(e);t&&t.apply(this,[n])}catch(e){i&&i.apply(this,[e])}},ajaxXdr:function(e,t,i,n){var a=new XDomainRequest;a.onprogress=function(){},a.ontimeout=function(){},a.onload=function(){s.jsonParse(a.responseText,n)},a.open(e,t),"get"===e.toLowerCase()?a.send():setTimeout(function(){a.send(JSON.stringify(i))})},ajaxCors:function(e,t,i,n,a,o){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&(400<=r.status&&a?a(r):s.jsonParse(r.responseText,n,a))},o&&"function"==typeof o&&r.upload.addEventListener("progress",function(e){o(e)},!1),r.open(e,t,!0),r.setRequestHeader("Content-type","application/json"),"get"===e.toLowerCase()?r.send():r.send(JSON.stringify(i))},ajax:function(e,t,i,n,a,o){if(this.useCors)this.ajaxCors(e,t,i,n,a,o);else{if(window.XDomainRequest)return this.ajaxXdr(e,t,i,n);alert("Could not determine JSON transport")}},get:function(e,t,i){return this.ajax("GET",e,null,t,i)},put:function(e,t,i,n){return this.ajax("PUT",e,t,i,n)},post:function(e,t,i,n,a){return this.ajax("POST",e,t,i,n,a)},getCookie:function(e){return document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)"+e+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")},setCookie:function(e,t){document.cookie=e+"="+t},expireCookie:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"},proxy:function(t,i){return function(){for(var e=[];e.length<arguments.length;e.push(arguments[e.length]));return e.push(this),t.apply(i,e)}},curry:function(t){for(var i=[];i.length<arguments.length-1;i.push(arguments[1+i.length]));return function(){for(var e=[];e.length<arguments.length;e.push(arguments[e.length]));t.apply(this,i.concat(e))}},each:function(e,t){for(var i=0;i<e.length;i++)t(i,e[i])},debounce:function(i,n,a){var o;return function(){var e=this,t=arguments;o?clearTimeout(o):a&&i.apply(e,t),o=setTimeout(function(){a||i.apply(e,t),o=null},n||100)}},addClasses:function(t,e){t&&t.classList&&"string"==typeof e&&e.split(" ").forEach(function(e){t.classList.add(e.trim())})},removeClasses:function(t,e){t&&t.classList&&"string"==typeof e&&e.split(" ").forEach(function(e){t.classList.remove(e.trim())})},getAbsoluteUrl:function(e){return t||(t=document.createElement("a")),t.href=e,t.href},addCompatibilityClasses:function(t){var e=[];+(/MSIE\s(\d+)/.exec(navigator.userAgent)||0)[1]<10&&e.push("ie9"),e.forEach(function(e){t.classList.add(e)})},inViewport:function(e){var t=document,i=e.getBoundingClientRect(),n=window.innerHeight||t.documentElement.clientHeight||t.body.clientHeight;return 0<i.top&&i.top<n},scrollIntoView:function(e){e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():e.scrollIntoView(!1)},getHashCode:function(e){var t,i=0;if(!e||0===e.length)return i;for(t=0;t<e.length;t++)i=(i<<5)-i+e.charCodeAt(t),i|=0;return i},objectCompare:function(t,i){var e=Object.keys(t);return"object"==typeof i&&e.length===Object.keys(i).length&&e.every(function(e){return t[e]===i[e]})},arrayObjectsCompare:function(e,i){return e.length===i.length&&e.every(function(e,t){return"object"==typeof i[t]?s.objectCompare(i[t],e):i[t]===e})},copyToClipboard:function(e){e&&(navigator.clipboard?navigator.clipboard.writeText(e):s.fallbackCopyTextToClipboard(e))},fallbackCopyTextToClipboard:function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(t)},extractObjectValues:function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&e.propertyIsEnumerable(i)&&t.push(e[i]);return t},isInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},convertToSVG:function(e,t){var i=document.createElement("span");i.innerHTML=e;var n=i.querySelectorAll(".convert-to-svg");if(n.length){for(var a=0;a<n.length;a++){var o=n[a].getAttribute("src"),r=n[a].getAttribute("height"),s=n[a].getAttribute("width"),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4==l.readyState&&200==l.status){var e=document.createElement("html");e.innerHTML=l.responseText;var t=e.querySelector("svg");r?t.setAttribute("height",r):s&&t.setAttribute("height",s),s?t.setAttribute("width",s):r&&t.setAttribute("width",r),n[a].replaceWith(t)}},l.open("GET",o,!1),l.send(null)}t(i.innerHTML)}}};return s}),dcf.define("text",["module"],function(e){"use strict";var d,a,r,s,l,n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,o=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,u=c&&location.protocol&&location.protocol.replace(/\:/,""),f=c&&location.hostname,p=c&&(location.port||void 0),h={},m=e.config&&e.config()||{};function v(e,t){return void 0===e||""===e?t:e}return d={version:"2.0.15",strip:function(e){if(e){var t=(e=e.replace(i,"")).match(o);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:m.createXhr||function(){var e,t,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){i=n[t];try{e=new ActiveXObject(i)}catch(e){}if(e){n=[i];break}}return e},parseName:function(e){var t,i,n,a=!1,o=e.lastIndexOf("."),r=0===e.indexOf("./")||0===e.indexOf("../");return-1!==o&&(!r||1<o)?(t=e.substring(0,o),i=e.substring(o+1)):t=e,-1!==(o=(n=i||t).indexOf("!"))&&(a="strip"===n.substring(o+1),n=n.substring(0,o),i?i=n:t=n),{moduleName:t,ext:i,strip:a}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,i,n){var a,o,r,s=d.xdRegExp.exec(e);return!s||(a=s[2],r=(o=(o=s[3]).split(":"))[1],o=o[0],(!a||a===t)&&(!o||o.toLowerCase()===i.toLowerCase())&&(!r&&!o||function(e,t,i,n){if(t===n)return!0;if(e===i){if("http"===e)return v(t,"80")===v(n,"80");if("https"===e)return v(t,"443")===v(n,"443")}return!1}(a,r,t,n)))},finishLoad:function(e,t,i,n){i=t?d.strip(i):i,m.isBuild&&(h[e]=i),n(i)},load:function(t,e,i,n){if(n&&n.isBuild&&!n.inlineText)i();else{m.isBuild=n&&n.isBuild;var a=d.parseName(t),o=a.moduleName+(a.ext?"."+a.ext:""),r=e.toUrl(o),s=m.useXhr||d.useXhr;0!==r.indexOf("empty:")?!c||s(r,u,f,p)?d.get(r,function(e){d.finishLoad(t,a.strip,e,i)},function(e){i.error&&i.error(e)}):e([o],function(e){d.finishLoad(a.moduleName+"."+a.ext,a.strip,e,i)}):i()}},write:function(e,t,i,n){if(h.hasOwnProperty(t)){var a=d.jsEscape(h[t]);i.asModule(e+"!"+t,"define(function () { return '"+a+"';});\n")}},writeFile:function(i,e,t,n,a){var o=d.parseName(e),r=o.ext?"."+o.ext:"",s=o.moduleName+r,l=t.toUrl(o.moduleName+r)+".js";d.load(s,t,function(e){var t=function(e){return n(l,e)};t.asModule=function(e,t){return n.asModule(e,l,t)},d.write(i,s,t,a)},a)}},"node"===m.env||!m.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(a=require.nodeRequire("fs"),d.get=function(e,t,i){try{var n=a.readFileSync(e,"utf8");"\ufeff"===n[0]&&(n=n.substring(1)),t(n)}catch(e){i&&i(e)}}):"xhr"===m.env||!m.env&&d.createXhr()?d.get=function(n,a,o,e){var t,r=d.createXhr();if(r.open("GET",n,!0),e)for(t in e)e.hasOwnProperty(t)&&r.setRequestHeader(t.toLowerCase(),e[t]);m.onXhr&&m.onXhr(r,n),r.onreadystatechange=function(e){var t,i;4===r.readyState&&(399<(t=r.status||0)&&t<600?((i=new Error(n+" HTTP status: "+t)).xhr=r,o&&o(i)):a(r.responseText),m.onXhrComplete&&m.onXhrComplete(r,n))},r.send(null)}:"rhino"===m.env||!m.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?d.get=function(e,t){var i,n,a=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),r=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),"utf-8")),s="";try{for(i=new java.lang.StringBuffer,(n=r.readLine())&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),null!==n&&i.append(n);null!==(n=r.readLine());)i.append(o),i.append(n);s=String(i.toString())}finally{r.close()}t(s)}:("xpconnect"===m.env||!m.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(r=Components.classes,s=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),l="@mozilla.org/windows-registry-key;1"in r,d.get=function(e,t){var i,n,a,o={};l&&(e=e.replace(/\//g,"\\")),a=new FileUtils.File(e);try{(i=r["@mozilla.org/network/file-input-stream;1"].createInstance(s.nsIFileInputStream)).init(a,1,0,!1),(n=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(s.nsIConverterInputStream)).init(i,"utf-8",i.available(),s.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),n.readString(i.available(),o),n.close(),i.close(),t(o.value)}catch(e){throw new Error((a&&a.path||"")+": "+e)}}),d}),dcf.define("text!modal.html",[],function(){return'<div data-bind="attr: {class: customStyle} ">\r\n    <div data-bind="html: modalText"></div>\r\n    <div class="close" data-bind="click: removeMe"></div>\r\n</div>\r\n'}),dcf.define("text!Modal/modalElements.html",[],function(){return'<div>\r\n    <div class="elements"></div>\r\n    <div class="close" data-bind="click: removeMe"></div>\r\n</div>\r\n'}),dcf.define("text!Modal/exitflow.html",[],function(){return'<div>\r\n    <div>\r\n        <div class="content-container" data-bind="html: content.content"></div>\r\n        <div class="navigation-container">\r\n            <a data-bind="click: removeMe, text: content.returnText"></a>\r\n            <a data-bind="attr: {href: content.exitUrl}, text: content.exitText">Exit Form</a>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),dcf.define("modal",["knockout","text!modal.html","text!Modal/modalElements.html","text!Modal/exitflow.html"],function(n,e,t,i){n.templates.modal=e,n.templates.modalExitFlow=i,n.templates.modalElements=t;var a=function(){};return a.prototype={showModal:function(e,t){var i=document.createElement("div");i.className="modal",i.setAttribute("data-bind","template: 'modal'"),i.onclick=function(e){e.target.classList.contains("modal")&&this.removeMe.call(i)}.bind(this),n.applyBindings({modalText:e,removeMe:this.removeMe.bind(i),customStyle:t},i),document.getElementsByClassName("dcf-container")[0].appendChild(i)},showElements:function(e){var t=document.createElement("div");t.className="modal",t.setAttribute("data-bind","template: 'modalElements'"),n.applyBindings({removeMe:this.removeMe.bind(t)},t),t.onclick=function(e){e.target.classList.contains("modal")&&this.removeMe.call(t)}.bind(this);var i=t.querySelector(".elements");e.forEach(function(e){e&&e.cloneNode&&i.appendChild(e.cloneNode(!0))}),document.getElementsByClassName("dcf-container")[0].appendChild(t)},showExitFlowModal:function(e){var t=document.createElement("div");t.className="dcf-exit-flow-modal",t.setAttribute("data-bind","template: 'modalExitFlow'"),n.applyBindings({content:e,removeMe:this.removeMe.bind(t)},t),document.body.appendChild(t)},removeMe:function(){null!=this.parentNode&&this.parentNode.removeChild(this)}},a}),dcf.define("timer",[],function(){function e(){}return window.performance&&window.performance.mark?{mark:function(e){e&&"string"==typeof e&&(window.performance.mark("mark_dcf_"+e),"function"==typeof console.timeStamp&&console.timeStamp("DCF_"+e))},measure:function(e,t,i){window.performance.measure("measure_dcf_"+e,"mark_dcf_"+t,"mark_dcf_"+i)}}:{mark:e,measure:e}}),dcf.define("text!widgetui/prompts.instanceerror.html",[],function(){return'<div class="dcf-instanceerror">\r\n    \x3c!--<h1>Workflow instance error</h1>\r\n    <p>\r\n        A workflow instance could not be created (are you sure that the workflow exists?)\r\n    </p>\r\n    <p>\r\n        Error message details can be seen below:\r\n    </p>--\x3e\r\n    <h1 data-bind="text: message"></h1>\r\n    \x3c!--<button data-bind="click: confirm">Ok</button>\r\n    <button data-bind="click: cancel">Cancel</button>--\x3e\r\n</div>\r\n'}),dcf.define("text!widgetui/prompts.forbidden.html",[],function(){return'<div class="dcf-forbidden">\r\n    <h1>Forbidden</h1>\r\n    <p>\r\n        You do not have access to this DCF form.\r\n    </p>\r\n    <p>\r\n        Error message details can be seen below:\r\n    </p>\r\n    <h1 data-bind="text: message"></h1>\r\n    <button data-bind="click: close">Ok</button>\r\n</div>\r\n'}),dcf.define("widgetui/prompts",["knockout","text!widgetui/prompts.instanceerror.html","text!widgetui/prompts.forbidden.html"],function(a,e,t){var o;function r(e){var t=document.createElement("div");return t.className="dcf-prompts",t.setAttribute("data-bind","template: '"+e+"'"),t}function s(e,t){e(t),o.removeChild(this)}return a.templates.prompts_instanceerror=e,a.templates.prompts_forbidden=t,{setRoot:function(e){e&&"function"==typeof e.appendChild&&(o=e)},instanceError:function(e,t){var i=r("prompts_instanceerror"),n={confirm:s.bind(i,t,!0),cancel:s.bind(i,t,!1),message:e};a.applyBindings(n,i),o.appendChild(i)},forbidden:function(e,t){var i=r("prompts_forbidden"),n={close:s.bind(i,t,!0),message:e};a.applyBindings(n,i),o.appendChild(i)}}}),dcf.define("adobedtm",[],function(){return{getSatellite:function(){return window._satellite}}}),dcf.define("text!progressbar/progressbar.html",[],function(){return'<span class="saxo-logo"></span>\r\n\x3c!-- ko if: $data.header --\x3e\r\n<div class="header">\r\n    <span data-bind="html: header"></span>\r\n</div>\r\n\x3c!-- /ko --\x3e\r\n\x3c!-- ko if: $data.descriptions --\x3e\r\n<div class="info-icon" data-bind="click: onInfoIconClick"><div class="icon">?</div></div>\r\n\x3c!-- /ko --\x3e\r\n<div class="steps-container">\r\n\r\n    \x3c!-- ko if: $data.statusText --\x3e\r\n    <div class="statusText">\r\n        <span data-bind="html: statusText"></span>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko foreach: { data: steps, as: \'step\' } --\x3e\r\n    <div data-bind="attr: { id: step.StepId, \'class\': step.cssClass }">\r\n\r\n        \x3c!-- ko if: step.Description --\x3e\r\n        <div class="help-text" data-bind="click: $parent.showHelp"></div>\r\n        \x3c!-- /ko --\x3e\r\n        <span class="stepindex" data-bind="text: $index() + 1"></span>\r\n\r\n        \x3c!--ko if: !$parent.isDeepSkyTheme && step.navigateBackEnabled --\x3e\r\n        <span class="steptitle clickable" data-bind="text: step.Title, click: $parent.onGoToStepClick"></span>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!--ko if: !$parent.isDeepSkyTheme && !step.navigateBackEnabled  --\x3e\r\n        <span class="steptitle" data-bind="text: step.Title"></span>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!--ko if: $parent.isDeepSkyTheme && step.Description --\x3e\r\n        <div class="pb-description" data-bind="html: step.Description"></div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n    <span class="hr-steptitle" data-bind="text: step.Title" style="display: none;"></span>\r\n    \x3c!-- /ko --\x3e\r\n    <div class="progressbar">\r\n        <div class="progress" data-bind="style: { width: percentageProgress + \'%\'  }"></div>\r\n    </div>\r\n</div>\r\n\x3c!-- ko if: $data.footer && !$data.descriptions --\x3e\r\n<div class="footer" data-bind="html: footer"></div>\r\n\x3c!-- /ko --\x3e\r\n'}),dcf.define("text!progressbar/progressBarTopMobile.html",[],function(){return'\x3c!-- ko if: $data.title --\x3e\r\n    <div class="top-progressbar-mobile">\r\n        \x3c!-- ko if: $data.backButton --\x3e\r\n            <span class="back-button" data-bind="click: onGoBackClick"><</span> \r\n        \x3c!-- /ko --\x3e\r\n        <span data-bind="text: title"></span>\r\n        \x3c!-- ko if: description() --\x3e\r\n            <span class="step-info" data-bind="click: showHelp"></span>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n\x3c!-- /ko --\x3e\r\n'}),dcf.define("text!progressbar/splitcontainer.html",[],function(){return'<div class="dcf-split-container columns-container layout-50-50">\r\n    <div class="column column-1">\r\n        <div class="dummy-space">       \r\n            \x3c!-- ko if: $data.descriptions.Title --\x3e\r\n            <span class="steptitle" data-bind="text: descriptions.Title"></span>\r\n            \x3c!-- /ko --\x3e\r\n            <div class="pb-subdescription" data-bind="html: descriptions.SubDescription"></div>\r\n            \x3c!-- ko if: $data.footer --\x3e\r\n            <div class="pb-footer" data-bind="html: footer"></div>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n    </div>\r\n    <div class="column column-2"></div>\r\n</div>\r\n'}),dcf.define("text!progressbar/deepgrass.progressbar.html",[],function(){return'<div class="dcf-deepgrass-container columns-container layout-20-80">\r\n    <div class="column column-1">\r\n    </div>\r\n    <div class="column column-2">\r\n        \x3c!-- ko ifnot: $data.hideDescriptionSection --\x3e\r\n        <div class="dummy-space">       \r\n            \x3c!-- ko if: $data.descriptions.Description --\x3e\r\n            <span class="description" data-bind="html: descriptions.Description"></span>\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko if: $data.descriptions.SubDescription --\x3e\r\n            <div class="pb-subdescription" data-bind="html: descriptions.SubDescription"></div>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>\r\n'}),dcf.define("progressbar/progressbar",["knockout","text!progressbar/progressbar.html","text!progressbar/progressBarTopMobile.html","text!progressbar/splitcontainer.html","text!progressbar/deepgrass.progressbar.html","modal"],function(r,e,t,i,n,s){function a(i){var n=this;n.render=function(e,t){return"TopMobile"==e.layout?n.progressbar=this.createMobileContent(e):n.progressbar=this.createContent(e,t,i),n.progressbar}}return r.templates.progressbar=e,r.templates.progressbarMobile=t,r.templates.progressbarSplitContainer=i,r.templates.progressbarDeepgrass=n,a.prototype={createContent:function(e,t,i){var n=document.createElement("div");n.setAttribute("data-bind","template: 'progressbar'"),n.className=t+"progressbar";for(var a=!1,o=0;o<e.steps.length;o++)e.steps[o].navigateBackEnabled=!1,e.steps[o].StepId==e.currentStep||-1!=e.steps[o].ParentOf.indexOf(e.currentStep)?(e.steps[o].cssClass="step selected",a=!0):(e.steps[o].cssClass="step normal",!a&&e.allowBackNavigation&&(e.steps[o].navigateBackEnabled=!0));return e.showHelp=function(e){(new s).showModal(e.Description)},e.onGoToStepClick=function(e){i(e.StepId)},e.onInfoIconClick=function(e,t){for(var i=t.target;i&&!i.classList.contains("dcf-container")&&i.parentElement;)i=i.parentElement;var n=i.querySelector(".pb-subdescription"),a=i.querySelector(".pb-footer");(new s).showElements([n,a])},r.applyBindings(e,n),n},createMobileContent:function(i){var e=document.createElement("div");e.setAttribute("data-bind","template: 'progressbarMobile'"),i.title="",i.description=r.observable("");for(var t,n=0;t=i.steps[n];n++)if(t.StepId==i.currentStep){i.title=t.Title,i.description(t.Description);break}return i.onGoBackClick=function(e){var t=document.getElementById("dcf-"+i.backButton.FieldName);t&&t.click()},i.showHelp=function(e){(new s).showModal(e.description)},i.title&&i.backButton&&(i.backButton.IsDisabled=!0),r.applyBindings(i,e),e},renderThemeTemplate:function(e,t,i){var n=document.createElement("div");return"deepgrass"==i.toLowerCase()?(n.setAttribute("data-bind","template: 'progressbarDeepgrass'"),n.className=t+"-deepgrass-progressbar",e.hideDescriptionSection=!1,this.descriptionAlignment="top-right",e.descriptions||(e.descriptions={},e.hideDescriptionSection=!0),r.applyBindings(e,n),n):e.descriptions&&"deepsky"==i.toLowerCase()?(n.setAttribute("data-bind","template: 'progressbarSplitContainer'"),this.descriptionAlignment="left",r.applyBindings(e,n),n):void 0},updateDom:function(e,t,i){var n=e;function a(){return i.querySelector(".column-2").appendChild(e),i}function o(){t.parentNode&&t.parentNode.removeChild(t)}if("left"==this.descriptionAlignment){var r=e.querySelector("form.dcf")||e;r.insertBefore(t,r.firstChild),i?n=a():o()}else"top-right"==this.descriptionAlignment&&(i?(i.querySelector(".column-1").appendChild(t),n=a()):o());return n}},a.getData=function(e,t,i){var n={layout:e.ProgressBar,steps:e.ProgressBarSteps,header:e.ProgressBarHeaderContent,statusText:e.ProgressBarStatusText,footer:e.ProgressBarFooterContent,allowBackNavigation:e.AllowProgressBarBackNavigation,logoStyleClass:e.LogoStyleClass,percentageProgress:e.PercentageProgress};return!i&&e.CurrentStep&&(i=e.CurrentStep),i&&(n.currentStep=i),n.descriptions=a.getDescriptions(n),n.isDeepSkyTheme="DeepSky"==t,n},a.getDescriptions=function(t){if(t.currentStep){var e=t.steps.find(function(e){return 0<=e.ParentOf.indexOf(t.currentStep)});return e&&(e.Description||e.SubDescription)&&e.Title?e:void 0}},a}),dcf.define("idle",[],function(){var e,i=!0,t=6e5,n=[],a=[];function o(){e=window.setTimeout(s,t)}function r(){window.clearTimeout(e),o(),!1===i&&function(){i=!0;for(var e=n.length,t=0;t<e;t++)setTimeout(n[t](),0)}()}function s(){i=!1;for(var e=a.length,t=0;t<e;t++)setTimeout(a[t](),0)}return function(){this.addEventListener("mousemove",r,!1),this.addEventListener("mousedown",r,!1),this.addEventListener("keypress",r,!1),this.addEventListener("DOMMouseScroll",r,!1),this.addEventListener("mousewheel",r,!1),this.addEventListener("touchmove",r,!1),this.addEventListener("MSPointerMove",r,!1),o()}(),{onActive:function(t){if("function"==typeof t)return n.push(t),function(){var e=n.indexOf(t);-1<e&&n.splice(e,1)}},onIdle:function(t){if("function"==typeof t)return a.push(t),function(){var e=a.indexOf(t);-1<e&&a.splice(e,1)}}}}),dcf.define("form/fields/fieldmodel",["knockout","widgetutil"],function(r,s){return function(e,t,i,n){if(0!==arguments.length){this.hideandhighlightValueSelection=function(e){e=e.filter(function(e){return!0!==e.Hidden});var t,i=[],n=[];for(t=0;t<e.length;t++)e[t].IsHighlighted?i.push(e[t]):n.push(e[t]);return i.concat(n)},this.onSubmit=i,this.onBackClick=n,this.uploadProgressCallback=null,this.onUpdateComplete=null;var a=e.DefaultKey||e.DefaultValue;if(a){var o=document.createElement("textarea");o.innerHTML=a,a=o.value}this.initialValue=(e.Value?e.Value.Value:a)||"",this.initialValue||(this.initialValue=void 0),this.template="field",this.sourceFieldId=e.SourceField,this.setSourceField=function(e){this.sourceFieldId&&this.setSource&&this.setSource(e);for(var t,i=0;t=this.childFields[i];i++)t.viewModel.setSourceField(e)},this.findField=function(e,t){for(var i,n=0;i=e.fields()[n];n++){if(i.fieldName_original===t)return i;for(var a,o=0;a=i.childFields[o];o++)if(a.viewModel&&a.viewModel.fieldName_original===t)return a.viewModel}return null},this.findFirstFieldOfType=function(e,t){for(var i,n=0;i=e.fields()[n];n++){if(i.fieldType()===t)return i;for(var a,o=0;a=i.childFields[o];o++)if(a.viewModel&&a.viewModel.fieldType()===t)return a.viewModel}return null},this.fieldName_original=e.FieldName,this.fieldName=r.observable(null==e.FieldName_t?e.FieldName:e.FieldName_t),this.isDisabled=e.IsDisabled,this.fieldType=r.observable(e.FieldType),this.fieldLayout=r.observable(e.FieldLayout),this.isMultiLine=r.observable(e.IsMultiLine),this.allowPaste=r.observable(e.AllowPaste),this.isRequired=r.observable(e.Required),this.value=r.observable(this.initialValue),this.valueSelection=r.observableArray(this.hideandhighlightValueSelection(e.ValueSelection)),this.tooltip=r.observable(e.ToolTip),this.copyclipboardtooltip=r.observable(e.CopyClipboardTooltip),this.fieldId=r.observable("dcf-field-"+e.FieldName.replace(/ /g,"")),this.hasNoDefaultValue=r.observable(null==a||""===a),this.visibleRuleEnabled=r.observable(!!e.VisibleRules.length),this.content=r.observable(e.Content),this.fieldText=r.observable(e.FieldText),this.readMoreText=r.observable(e.ReadMoreText),this.isVisible=r.observable(e.IsVisible),this.isEnable=r.observable(e.IsEnable),this.placeholder=e.PlaceholderValue,this.maxlength=e.MaxLength,this.readOnly=r.observable(!e.IsEnable||e.IsReadOnly||!1),this.hideSliderBullets=e.HideSliderBullets,this.selectOptionText=e.SelectOptionText,this.selectOptionText2=e.SelectOptionText2,this.selectOptionText3=e.SelectOptionText3,this.displayAsSpinner=e.DisplayAsSpinner,this.childFields=e.ChildFields,this.containerColumn=e.ContainerColumn,this.toggleMasking=e.ToggleMasking,this.UseValueIfHidden=r.observable(e.UseValueIfHidden),this.displayHeight=r.observable(e.DisplayHeight),this.customStyles=e.CustomStyles,this.processingStatusMessage=r.observable(e.ProcessingStatusMessage||""),this.uploadFileButtonText=e.UploadFileButtonText,this.invalidFileText=e.InvalidFileText,this.maxFileUploadSize=e.MaxFileUploadSize,this.mustReadValidation=e.MustReadValidation,this.mustReadValidationText=e.MustReadValidationText,this.useInstantFeedback=e.UseInstantFeedback,this.allowImageFiles=e.AllowImageFiles,this.allowCertainImageFiles=e.AllowCertainImageFiles,this.allowApplicationFiles=e.AllowApplicationFiles,this.allowDocumentFiles=e.AllowDocumentFiles,this.allowPDFFiles=e.AllowPDFFiles,this.allowTextFiles=e.AllowTextFiles,this.addHelpLink=e.AddHelpLink,this.fileUploadHelpLinkText=e.FileUploadHelpLinkText,this.file="",this.minChars=e.MinChars,this.minNumerals=e.MinNumerals,this.atLeastChars=e.AtLeastChars,this.minCapitalChars=e.MinCapitalChars,this.minSpecialChars=e.MinSpecialChars,this.minLength=e.MinLength,this.minCharsText=e.MinCharsText,this.minNumeralsText=e.MinNumeralsText,this.atLeastCharsText=e.AtLeastCharsText,this.minCapitalCharsText=e.MinCapitalCharsText,this.minSpecialCharsText=e.MinSpecialCharsText,this.minYears=e.MinYears,this.maxYears=e.MaxYears,this.yearsRangeDesc=e.YearsRangeDesc,this.futureMinYears=e.FutureMinYears,this.futureMaxYears=e.FutureMaxYears,this.serverValid=r.observable(e.Value?e.Value.IsValid:null),this.validationMsg=r.observable(e.Value?e.Value.ValidationMsg:""),this.fieldIconClass=e.FieldIcon?"field-icon "+e.FieldIcon:"",this.containerLayoutClass=e.ContainerLayout,this.containerStyle=e.ContainerStyle,this.title=e.Title,this.subtitle=e.Subtitle,this.category=e.Category,this.fieldCategory=e.CMFieldCategory,this.progressSteps=e.ProgressSteps,this.selectedProgressStep=e.SelectedProgressStep,this.progressAlign=e.ProgressAlign,this.uploadFileLabel=e.UploadFileLabel,this.uploadFileProgressText=e.UploadFileProgressText,this.deleteButtonText=e.DeleteButtonText,this.autocomplete=e.Autocomplete,this.isActive=r.observable(!1),this.hasFocus=r.observable(!1),this.isDisabled2=r.observable(!1),this.googleRecapthcaSiteKey=e.GoogleRecapthcaSiteKey,this.allowNumbersOnly=e.AllowNumbersOnly||!1,this.allowFixedLength=e.AllowFixedLength||!1,this.fixedLength=e.FixedLength,this.tagDelimiter=e.ReplaceTextWith||"",this.tagFixedLengthDisplayText=e.TagFixedLengthDisplayText,this.tagNumbersOnlyDisplayText=e.TagNumbersOnlyDisplayText,this.displaylabel=!(null==e.HideLabel?e.HideLabelDefaultValue:e.HideLabel),this.copyclipboard=e.CopyClipboard||!1,this.RenderasHTML=e.RenderasHTML||!1,this.repeaterCount=e.RepeaterCount,this.addNewSlideText=e.AddNewSlideButtonText,this.removeSlideText=e.RemoveSlideButtonText,this.maxItemsAllowed=e.MaxItemsAllowed,this.useCountryFlags=e.UseCountryFlags,this.sideText=r.observable(e.SideText),this.navigationLayout=e.NavigationLayout,this.navigationNextButtonText=e.NavigateNextButtonText,this.navigationPreviousButtonText=e.NavigatePreviousButtonText,this.isAutoSubmitEnabled=e.IsAutoSubmitEnabled,this.startYear=e.StartYear,this.numberofYears=e.NumberOfYears,this.readMoreDetails=e.ReadMoreDetails||!1,this.readMoreLabelText=e.ReadMoreLabelText,this.readLessLabelText=e.ReadLessLabelText,this.lockDefaultAreaCode=e.LockDefaultAreaCode,this.disableBrowserValidation=r.observable(!1),this.targetState=r.observable(e.TargetState),this.targetPostcode=r.observable(e.TargetPostcode),this.targetCity=r.observable(e.TargetCity),this.targetStreet=r.observable(e.TargetStreet),this.targetBuildingNumber=r.observable(e.TargetBuildingNumber),this.isValid=r.computed(function(){return!(!1===this.serverValid())},this),this.isAccepted=r.computed(function(){var e=this.isValid(),t=this.value();return"Submit"!==this.fieldType()&&t&&e&&t!==this.initialValue},this),this.hideField=r.computed(function(){return!this.isVisible()},this),this.disableField=r.computed(function(){return!this.isEnable()},this),this.cssClasses=r.computed(function(){var e=["field"];return"Custom"==this.category&&e.push("custom"),this.customStyles&&e.push(this.customStyles),this.isRequired()&&e.push("required"),this.isAccepted()&&e.push("accepted"),this.isValid()?e.push("valid"):e.push("invalid"),this.hideField()&&e.push("hidden"),this.isDisabled&&e.push("disabled"),this.isDisabled2()&&e.push("disabled2"),this.isActive()&&e.push("active"),this.hasFocus()&&e.push("focus"),this.disableField()&&e.push("disabled-field"),e.join(" ")},this),this.getSubmitValue=function(){return{Key:this.fieldName_original,Value:this.value(),FileData:this.file}},this.suppressSubmit=!1,this.onChange=function(){if(this.suppressSubmit)this.suppressSubmit=!1;else if(null!=this.onSubmit){var t=this;this.isValueSet=!0,this.onSubmit([this.getSubmitValue()],function(){},function(e){t.uploadProgressCallback&&t.uploadProgressCallback(e)})}},this.onGoBackClick=function(){this.onBackClick&&this.onBackClick()},this.value.subscribe(this.onChange,this),this.updateValueSelectionIfChanged=function(e){var t=this.valueSelection(),i=this.hideandhighlightValueSelection(e.ValueSelection);s.arrayObjectsCompare(t,i)||this.valueSelection(i)},this.update=function(e,t){var i=e.DefaultKey||e.DefaultValue;if(i){var n=document.createElement("textarea");n.innerHTML=i,i=n.value}this.updateValueSelectionIfChanged(e),this.hasNoDefaultValue(null==i||""===i),this.content(e.Content),this.fieldText(e.FieldText),this.isVisible(e.IsVisible),this.isEnable(e.IsEnable),this.readOnly(!e.IsEnable||e.IsReadOnly||!1),this.serverValid(e.Value?e.Value.IsValid:null),this.validationMsg(e.Value?e.Value.ValidationMsg:""),"Custom"!==e.Category&&!e.ConfigurationValues.length||r.isComputed(this.value)||!e.Value||this.value()===e.Value.Value||(this.suppressSubmit=!0,this.value(e.Value.Value)),r.isComputed(this.value)||e.Value||!i||i===this.value()||this.isValueSet||(this.suppressSubmit=!0,this.value(i)),this.onUpdateComplete&&this.onUpdateComplete(e,t)}}}}),dcf.define("text!form/fields/checkbox/checkbox.html",[],function(){return'<label class="field-label" data-bind="attr: { \'for\': field.fieldName_original }, text: field.fieldName"></label>\r\n<div data-bind="css: field.fieldIconClass, style: { height: field.height() > 0 ?  field.height() + \'px\' : \'\', overflow: \'auto\'}" class="checkbox-field">\r\n    <div data-bind="attr: {\'class\' : field.fieldLayout() || \'one-col\'}">\r\n        \x3c!-- ko foreach: field.valueSelection --\x3e\r\n        <div data-bind="css: { checkbox : true , selected : field.selection() == Key }">\r\n            <input type="checkbox" data-bind="attr: { name: field.fieldName_original, id: field.fieldId() + \'-\' + Key, disabled: (field.readOnly || field.disableBrowserValidation()) }, value: Key, checked: field.selection" />\r\n            <label class="checkbox" data-bind="attr: { \'for\': field.fieldId() + \'-\' + Key }, text: Value, css: { readOnly : field.readOnly }"></label>\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>\r\n'}),dcf.define("form/fields/checkbox/checkbox",["knockout","form/fields/fieldmodel","text!form/fields/checkbox/checkbox.html"],function(o,r,e){return o.templates.tmpl_checkbox=e,function(e,t,i){r.apply(this,[e,t,i]);var n,a=this.initialValue?this.initialValue.split(","):[];this.template=o.observable("tmpl_checkbox"),this.selection=o.observableArray(a),this.height=o.observable(this.displayHeight()),this.value=o.computed(function(){return this.selection().join(",")},this),n=this.onChange,this.onChange=function(){},this.value.subscribe(function(){n.call(this)},this),this.setValueforComputed=function(e){var t=e?e.split(","):[];this.selection(t)},this.onUpdateComplete=function(e){var t=this.value(),i=e.Value,n=e.DefaultKey||e.DefaultValue;if(!i&&n&&t!==n&&!this.isValueSet){this.suppressSubmit=!0;var a=n?n.split(","):[];this.selection(a)}}}}),dcf.define("ismobile",[],function(){var i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,n=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;return function(e){e||(e={});var t=e.ua;return t||"undefined"==typeof navigator||(t=navigator.userAgent),t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),"string"==typeof t&&(e.tablet?n.test(t):i.test(t))}}),dcf.define("text!form/fields/dropdown/dropdown.html",[],function(){return'<label class="field-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n<div data-bind="attr: {class: field.fieldIconClass}">\r\n    <div class="select-wrapper">\r\n        \x3c!-- ko if: field.hasNoDefaultValue() --\x3e\r\n        <select data-bind="\r\n                attr: { \r\n                    id: field.fieldId(), \r\n                    name: field.fieldName_original, \r\n                    disabled: field.readOnly() || field.disableBrowserValidation() \r\n                }, \r\n                options: field.valueSelection, \r\n                optionsText: \'Value\', \r\n                optionsValue: \'Key\', \r\n                value: field.value, \r\n                optionsCaption: field.selectOptionText, \r\n                event: {\r\n                    focus: onFocus, \r\n                    blur: onBlur\r\n                }, \r\n                css: { \r\n                    readOnly : field.readOnly() \r\n                }">\r\n        </select>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko ifnot: field.hasNoDefaultValue() --\x3e\r\n        <select data-bind="\r\n                attr: { \r\n                    id: field.fieldId(), \r\n                    name: field.fieldName_original, \r\n                    disabled: field.readOnly() || field.disableBrowserValidation() \r\n                }, \r\n                options: field.valueSelection, \r\n                optionsText: \'Value\', \r\n                optionsValue: \'Key\', \r\n                value: field.value, \r\n                optionsCaption: field.selectOptionText || field.initialValue, \r\n                event: {                   \r\n                }, \r\n                css: { \r\n                    readOnly : field.readOnly() \r\n                }">\r\n        </select>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n    \x3c!-- ko if: field.tooltip() --\x3e\r\n    <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n'}),dcf.define("text!form/fields/dropdown/dropdownFlags.html",[],function(){return'<label class="field-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n<div data-bind="attr: {class: \'countryflags-wrapper \' + field.fieldIconClass}">\r\n    <div class="select-wrapper">\r\n        <select data-bind="\r\n                attr: {\r\n                    id: field.fieldId(),\r\n                    name: field.fieldName_original,\r\n                    disabled: field.readOnly()\r\n                },\r\n                options: field.valueSelection,\r\n                optionsText: \'Value\',\r\n                optionsValue: \'Key\',\r\n                value: field.value,\r\n                optionsCaption: field.hasNoDefaultValue() ? selectOptionText : initialValue,\r\n                event: {\r\n                    focus: onFocus,\r\n                    blur: onBlur,\r\n                    change: onChange\r\n                },\r\n                css: {\r\n                    readOnly : field.readOnly()\r\n                }">\r\n        </select>\r\n        <div class="countryflags-select" data-bind="component: {\r\n            name: \'countryflags-select\',\r\n            params: {\r\n                options: field.valueSelection,\r\n                optionsText: \'Value\',\r\n                optionsValue: \'Key\',\r\n                flagValue: \'Key\',\r\n                value: field.value,\r\n                fieldId: field.fieldId()\r\n            }\r\n        },\r\n        event: {\r\n            focus: onFocus,\r\n            blur: onBlur\r\n        }">\r\n        </div>\r\n    </div>\r\n    \x3c!-- ko if: field.tooltip() --\x3e\r\n    <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n'}),function(e,t){"function"==typeof dcf.define&&dcf.define.amd?dcf.define("scrollparent",[],t):"object"==typeof module&&module.exports?module.exports=t():e.Scrollparent=t()}(this,function(){var i=/(auto|scroll)/,n=function(e,t){return null===e.parentNode?t:n(e.parentNode,t.concat([e]))},a=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},o=function(e){return i.test(a(t=e,"overflow")+a(t,"overflow-y")+a(t,"overflow-x"));var t};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var t=n(e.parentNode,[]),i=0;i<t.length;i+=1)if(o(t[i]))return t[i];return document.scrollingElement||document.documentElement}}}),dcf.define("text!form/fields/countryflags/countryFlags.html",[],function(){return'<div class="country-container" tabindex="-1" data-bind="\r\n    event: {\r\n        focusout: focusOut\r\n    }">\r\n    <div class="countryflags-value" tabindex="0" data-bind="\r\n        event: {\r\n            click: toggleItems,\r\n            keydown: onKeyDown,\r\n            keypress: onKeyPress\r\n        }, css: { readOnly : field.readOnly() } ">\r\n        \x3c!-- ko if: value() --\x3e\r\n        <i data-bind="css: valueFlagCss"></i>\r\n        \x3c!-- /ko --\x3e\r\n        <span class="text" data-bind="text: valueText()"></span>\r\n    </div>\r\n    <div class="countryflags-items" data-bind="style: { width: flagItemsWidth() + \'px\' }, css: { \'open\': isOpen() }">\r\n        <div class="countryflags-scroll">\r\n            <ul>\r\n                \x3c!-- ko foreach: {data: options, as: \'option\' } --\x3e\r\n                <li data-bind="click: $parent.selectCountry.bind(this, option), event: {\r\n                    mouseover: $parent.hoverHandler.bind(this, option)\r\n                }">\r\n                    \x3c!-- ko if: option.Value --\x3e\r\n                    <i data-bind="css: FlagCss"></i>\r\n                    \x3c!-- /ko --\x3e\r\n                    <span class="text" data-bind="text: option.Text"></span>\r\n                </li>\r\n                \x3c!-- /ko --\x3e\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),dcf.define("form/fields/countryflags/countryFlags",["knockout","scrollparent","text!form/fields/countryflags/countryFlags.html","widgetutil"],function(t,a,e,n){function o(e){for(var t=document.getElementById(e);t&&!t.classList.contains("field");)t=t.parentNode;return t}function r(){for(var e=this.options(),t=this.value(),i=0;i<e.length;i++)if(e[i].Value===t)return e[this.selectedIndex=i];return null}var i={template:e,viewModel:function(e){this.value=t.pureComputed(function(){return e.value()}),this.options=t.pureComputed(function(i){return i.options().map(function(e){var t;return{Value:e[i.optionsValue],Text:e[i.optionsText],FlagCss:(t=e[i.flagValue],"icon-flag icon-flag-"+t)}})}.bind(this,e)),this.selectedIndex=0,this.selectedOption=t.pureComputed(r.bind(this)),this.valueFlagCss=t.pureComputed(function(){var e=r.call(this);return e?e.FlagCss:""},this),this.valueText=t.pureComputed(function(){var e=r.call(this);return e?e.Text:""},this),this.selectCountry=function(e,t){var i=document.getElementById(e.fieldId);i.value=t.Value,this.removeSelection(this.selectedIndex);var n=new CustomEvent("change");i.dispatchEvent(n),this.addSelection(this.selectedIndex),this.closeItems()}.bind(this,e),this.hoverHandler=function(e){this.removeSelection(this.selectedIndex),this.selectedIndex=this.options().indexOf(e),this.addSelection(this.selectedIndex)}.bind(this),this.selectCountryWithKeyboard=function(e,t){var i=document.getElementById(e.fieldId);i.value=t.Value;var n=new CustomEvent("change");i.dispatchEvent(n)}.bind(this,e),this.onKeyDown=function(e,t){switch(t.keyCode||t.which){case 13:e.isOpen(!e.isOpen()),e.isOpen()&&(e.addSelection(e.selectedIndex),e.scrollToViewPort(e.selectedIndex));break;case 27:e.isOpen()&&e.isOpen(!1);break;case 38:0!=e.selectedIndex&&(e.removeSelection(e.selectedIndex),e.selectedIndex--,e.selectCountryWithKeyboard(e.options()[e.selectedIndex]),e.addSelection(e.selectedIndex),e.scrollToViewPort(e.selectedIndex));break;case 40:e.selectedIndex!=e.options().length-1&&(e.removeSelection(e.selectedIndex),e.selectedIndex++,e.selectCountryWithKeyboard(e.options()[e.selectedIndex]),e.addSelection(e.selectedIndex),e.scrollToViewPort(e.selectedIndex));break;default:return!0}}.bind(this),this.itemsWidth=function(e){return o(e.fieldId).querySelector(".countryflags-value").offsetWidth}.bind(this,e),this.flagItemsWidth=t.observable(this.itemsWidth()),this.scrollToItem=function(e,t){if(!("number"!=typeof t||t<0)){var i=o(e.fieldId).querySelector("li:nth-child("+(t+1)+")"),n=a(i);n&&i&&(n.scrollTop=i.offsetTop)}}.bind(this,e),this.scrollToViewPort=function(e,t){if(!("number"!=typeof t||t<0)){var i=o(e.fieldId).querySelector("li:nth-child("+(t+1)+")");i&&i.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}}.bind(this,e),this.addSelection=function(e,t){"number"!=typeof t||t<0||o(e).querySelector("li:nth-child("+(t+1)+")").classList.add("selected-item")}.bind(this,e.fieldId),this.removeSelection=function(e,t){"number"!=typeof t||t<0||o(e).querySelector("li:nth-child("+(t+1)+")").classList.remove("selected-item")}.bind(this,e.fieldId),this.shortKeys=t.observable("");var i=this;this.onKeyPress=function(e,t){i.shortKeys(i.shortKeys()+String.fromCharCode(t.keyCode))},this.shortKeys.subscribe(n.debounce(function(){""!==i.shortKeys()&&(function(e,t){for(var i=0,n=e.options();i<n.length;i++)if(n[i]&&0===n[i].Text.toLowerCase().indexOf(t.key)){e.removeSelection(e.selectedIndex),e.selectedIndex=i,e.selectCountryWithKeyboard(e.options()[e.selectedIndex]),e.addSelection(e.selectedIndex);break}e.scrollToItem(i)}(i,{key:i.shortKeys()}),i.shortKeys(""))},400)),this.isOpen=t.observable(!1),this.toggleItems=function(){this.isOpen(!this.isOpen()),this.isOpen()&&!this.flagItemsWidth()&&this.flagItemsWidth(this.itemsWidth()),this.isOpen()&&(this.addSelection(this.selectedIndex),this.scrollToViewPort(this.selectedIndex))},this.closeItems=function(){this.isOpen(!1)},this.focusOut=function(e,t){var i=t.target.className,n=t.srcElement.className,a=null;t.relatedTarget&&(a=t.relatedTarget.className),"countryflags-value"===i&&"countryflags-value"===n&&t.relatedTarget!==t.srcElement&&"country-container"!==a&&"text"!==a&&"countryflags-scroll"!==a&&this.closeItems()},document.body.addEventListener("click",function(e){"function"==typeof e.target.closest?e.target.closest(".country-container")||i.closeItems():null==function(e,t){for(var i=e.webkitMatchesSelector?"webkitMatchesSelector":e.msMatchesSelector?"msMatchesSelector":"matches";e.parentElement;){if(e[i](t))return e;e=e.parentElement}return null}(e.target,".country-container")&&i.closeItems()},!1)}};return t.components.register("countryflags-select",i),i}),dcf.define("form/fields/dropdown/dropdown",["knockout","form/fields/fieldmodel","ismobile","text!form/fields/dropdown/dropdown.html","text!form/fields/dropdown/dropdownFlags.html","form/fields/countryflags/countryFlags"],function(a,o,r,e,t){return a.templates.tmpl_dropdown=e,a.templates.tmpl_dropdown_flags=t,function(e,t,i,n){n&&"pathfinder"==n.toLowerCase()&&e.QuestionareId&&(e.SelectOptionText=""),this.onFocus=function(){this.hasFocus(!0)},this.onBlur=function(){this.isActive(!!this.value()||this.selectOptionText),this.hasFocus(!1)},o.apply(this,[e,t,i]),this.initialValue&&!new RegExp("##[^#]+##").test(this.initialValue)&&(this.initialValue=""),this.useCountryFlags&&!r()?this.template=a.observable("tmpl_dropdown_flags"):this.template=a.observable("tmpl_dropdown"),this.isActive(!!(this.value()||this.selectOptionText||0<e.ValueSelection.length&&e.ValueSelection[0].Value&&""!==this.selectOptionText))}}),dcf.define("text!form/fields/number/number.html",[],function(){return'<label class="field-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n<div data-bind="{css: field.fieldIconClass}">\r\n    <div class="fieldclipboard">\r\n        <input type="number" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder, autocomplete:field.autocomplete, readonly: field.readOnly(), disabled: field.disableBrowserValidation()}, value: field.value, css: { noSpinner: !field.displayAsSpinner, readOnly : field.readOnly() }, event: {focus: onFocus, blur: onBlur}" />\r\n\r\n        \x3c!-- ko if: field.copyclipboard --\x3e\r\n        <input type="button" data-bind="attr: {title: field.copyclipboardtooltip }, event: {click: onCopyClipboardClick}" name="copy-content" class="copy_content">\r\n        \x3c!-- /ko --\x3e  \r\n        \x3c!-- ko if: field.sideText() --\x3e\r\n        <div class="number-sidetext" data-bind="text: field.sideText"></div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n\r\n        \x3c!-- ko if: field.tooltip --\x3e\r\n        <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n'}),dcf.define("text!form/fields/number/numbercustom.html",[],function(){return'<label data-bind="attr: { name: field.fieldName_original, id: field.fieldId() }, value: field.value, text: field.customText"></label>\r\n'}),dcf.define("form/fields/number/number",["knockout","widgetutil","form/fields/fieldmodel","text!form/fields/number/number.html","text!form/fields/number/numbercustom.html"],function(a,i,o,e,t){return a.templates.tmpl_number=e,a.templates.tmpl_numberCustom=t,function(n,e,t){o.apply(this,[n,e,t]),"Custom"==n.Category?(this.template=a.observable("tmpl_numberCustom"),this.customText=a.observable("["+this.fieldName()+"]")):this.template=a.observable("tmpl_number"),this.fieldIconClass=this.fieldIconClass?this.fieldIconClass+" iconInsideField":"",this.onFocus=function(){this.hasFocus(!0)},this.setSource=function(e){if(this.sourceFieldId&&(this.sourceField=this.findField(e,this.sourceFieldId)),this.sourceField){this.source=a.observable(this.sourceField);var t=this.source().value();this.source().value.subscribe(function(e){this.setNumberValue(e)},this)}if(!this.value()){var i=t||n.DefaultKey||n.DefaultValue;i&&this.setNumberValue(i)}},this.setNumberValue=function(e){this.value(isNaN(e)?"":e)},this.onBlur=function(e,t){t.target.validity&&t.target.validity.valid?this.isActive(!!this.value()):this.isActive(!0),this.hasFocus(!1)},this.onCopyClipboardClick=function(){i.copyToClipboard(this.value())},this.isActive(!!this.value()),this.onUpdateComplete=function(e){var t=this.sideText(),i=e.SideText;t!==i&&this.sideText(i)}}}),dcf.define("text!form/fields/paragraph/paragraph.html",[],function(){return'\x3c!-- ko if: field.displayHeight --\x3e\r\n<span class="paragraph-scroll" data-bind="html: field.content, style : {height : field.height}, event: {scroll : onScroll }" ></span>\r\n\x3c!-- /ko --\x3e\r\n\x3c!-- ko ifnot: field.displayHeight --\x3e  \r\n<span data-bind="html: field.content, event: {scroll : onScroll }"></span>\r\n\x3c!-- /ko --\x3e'}),dcf.define("form/fields/paragraph/paragraph",["knockout","form/fields/fieldmodel","widgetutil","text!form/fields/paragraph/paragraph.html"],function(a,o,r,e){return a.templates.tmpl_paragraph=e,function(e,t,i){o.apply(this,[e,t,i]);var n=this;this.template=a.observable("tmpl_paragraph"),this.height=a.observable(this.displayHeight()+"px"),this.isScrolledTillBottom=!this.mustReadValidation,this.element=null,setTimeout(function(){var e=document.getElementById("dcf-container-"+n.fieldId());n.element=e&&e.children&&e.children[0]?e.children[0]:null},1e3),this.onScroll=r.debounce(function(e,t){n.element=t.target,n.validateMustRead(),n.showHideError()},500),this.beforeSubmit=function(){return this.validateMustRead(),this.showHideError(),this.isScrolledTillBottom},this.validateMustRead=function(){this.isScrolledTillBottom||this.element&&this.element.getBoundingClientRect().height+this.element.scrollTop>=this.element.scrollHeight-1&&(this.isScrolledTillBottom=!0)},this.showHideError=function(){this.isScrolledTillBottom?(this.validationMsg(""),this.serverValid(!0)):(this.validationMsg(this.mustReadValidationText),this.serverValid(!1))}}}),dcf.define("text!form/fields/radio/radio.html",[],function(){return'<label class="field-label" data-bind="attr: { \'for\': field.fieldId() }, html: field.fieldName"></label>\r\n<div data-bind="{css: field.fieldIconClass}" class="radio-field">\r\n    <div data-bind="attr: {\'class\' : field.fieldLayout() || \'one-col\'}">\r\n        \x3c!-- ko foreach: field.valueSelection --\x3e\r\n        <div data-bind="css: { radio : true , selected : field.value() == Key }">\r\n            <input type="radio" data-bind="attr: { name: field.fieldName_original, id: field.fieldId() + \'-\' + Key, disabled: field.readOnly || field.disableBrowserValidation()  }, value: Key, checked: field.value">\r\n            \x3c!-- ko if: field.RenderasHTML --\x3e\r\n            <label class="radio" data-bind="attr: { \'for\': field.fieldId() + \'-\' + Key }, html: Value"></label>\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko ifnot: field.RenderasHTML --\x3e\r\n            <label class="radio" data-bind="attr: { \'for\': field.fieldId() + \'-\' + Key }, text: Value"></label>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>'}),dcf.define("form/fields/radio/radio",["knockout","form/fields/fieldmodel","text!form/fields/radio/radio.html"],function(n,a,e){return n.templates.tmpl_radio=e,function(e,t,i){a.apply(this,[e,t,i]),this.template=n.observable("tmpl_radio")}}),dcf.define("text!form/fields/submit/submit.html",[],function(){return'\r\n<input type="submit" data-bind="value: field.fieldName, attr: { name: field.fieldName_original, id: field.fieldId(), readonly: field.readOnly, disabled: field.readOnly }, css: { disableSubmit: field.readOnly }">\r\n'}),dcf.define("form/fields/submit/submit",["knockout","form/fields/fieldmodel","text!form/fields/submit/submit.html"],function(n,a,e){return n.templates.tmpl_submit=e,function(e,t,i){a.apply(this,[e,t,i]),this.template=n.observable("tmpl_submit")}}),dcf.define("text!form/fields/backbutton/backbutton.html",[],function(){return'<input type="button" data-bind="value: field.fieldName, attr: { name: field.fieldName_original,  id: \'dcf-\' + field.fieldName() }, click: onGoBackClick" class="back-button">'}),dcf.define("form/fields/backbutton/backbutton",["knockout","form/fields/fieldmodel","text!form/fields/backbutton/backbutton.html"],function(a,o,e){return a.templates.tmpl_backbutton=e,function(e,t,i,n){o.apply(this,[e,t,i,n]),this.template=a.observable("tmpl_backbutton")}}),dcf.define("text!form/fields/text/text.html",[],function(){return'<label class="field-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n<div data-bind="attr: {class: field.fieldIconClass}">\r\n    <div class="fieldclipboard">\r\n        \x3c!-- ko ifnot: field.isMultiLine --\x3e\r\n        <input type="text" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder, maxlength: field.maxlength, autocomplete:field.autocomplete, readonly: field.readOnly(), disabled: field.disableBrowserValidation()},  value: field.value, event: {focus: onFocus, blur: onBlur}, css: { readOnly : field.readOnly() } " />\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: field.isMultiLine --\x3e\r\n        <textarea type="text" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder, autocomplete:field.autocomplete, readonly: field.readOnly(), disabled: field.disableBrowserValidation()}, value: field.value, event: {focus: onFocus, blur: onBlur}, css: { readOnly : field.readOnly() } "></textarea>\r\n        \x3c!-- /ko --\x3e\r\n\r\n        \x3c!-- ko if: field.copyclipboard --\x3e\r\n        <input type="button"  data-bind="attr: {title: field.copyclipboardtooltip }, event: {click: onCopyClipboardClick}" name="copy-content" class="copy_content">\r\n        \x3c!-- /ko --\x3e\r\n\r\n    </div>\r\n    \x3c!-- ko if: field.tooltip --\x3e\r\n    <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n'}),dcf.define("text!form/fields/text/textCustom.html",[],function(){return'<label data-bind="attr: { name: field.fieldName_original, id: field.fieldId() }, value: field.value, text: field.customText"></label>\r\n'}),dcf.define("form/fields/text/text",["knockout","widgetutil","form/fields/fieldmodel","text!form/fields/text/text.html","text!form/fields/text/textCustom.html"],function(n,a,o,e,t){return n.templates.tmpl_text=e,n.templates.tmpl_textCustom=t,function(e,t,i){this.onFocus=function(){this.hasFocus(!0)},this.onBlur=function(){this.isActive(!!this.value()||!!this.placeholder),this.hasFocus(!1)},this.onCopyClipboardClick=function(){a.copyToClipboard(this.value())},o.apply(this,[e,t,i]),this.fieldIconClass=this.fieldIconClass?this.fieldIconClass+" iconInsideField":"",this.combinedClass=this.fieldIconClass||"","Custom"==e.Category?(this.template=n.observable("tmpl_textCustom"),this.customText=n.observable("["+this.fieldName()+"]")):this.template=n.observable("tmpl_text"),this.isActive(!!this.value()||!!this.placeholder),this.onUpdateComplete=function(e){var t=this.value(),i=e.Value&&e.Value.Value;void 0!==t&&null!==i&&t!==i&&(this.suppressSubmit=!0,this.value(e.Value.Value))}}}),dcf.define("text!form/fields/email/email.html",[],function(){return'<label class="field-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n<div data-bind="attr: {class: field.fieldIconClass}">\r\n    \x3c!-- ko template: {afterRender: field.afterRender} --\x3e\r\n    <input type="email" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder, maxlength: field.maxlength, autocomplete:field.autocomplete, readonly: field.readOnly, disabled: field.disableBrowserValidation()}, event: { paste: field.onPaste, focus: field.onFocus, blur: field.onBlur},  value: field.value, css: { readOnly : field.readOnly }"/>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko if: field.tooltip --\x3e\r\n    <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n'}),dcf.define("text!form/fields/email/emailcustom.html",[],function(){return'<label data-bind="attr: { name: field.fieldName_original, id: field.fieldId() }, value: field.value, text: field.customText"></label>\r\n'}),dcf.define("form/fields/email/email",["knockout","form/fields/fieldmodel","text!form/fields/email/email.html","text!form/fields/email/emailcustom.html"],function(a,o,e,t){return a.templates.tmpl_email=e,a.templates.tmpl_emailCustom=t,function(e,t,i){function n(){var e=document.getElementById(this.fieldId());e&&e.setCustomValidity&&e.setCustomValidity(this.validationMsg())}o.apply(this,[e,t,i]),"Custom"==e.Category?(this.template=a.observable("tmpl_emailCustom"),this.customText=a.observable("["+this.fieldName()+"]")):this.template=a.observable("tmpl_email"),this.fieldIconClass=this.fieldIconClass?this.fieldIconClass+" iconInsideField":"",this.validationMsg.subscribe(n.bind(this)),this.afterRender=function(){n.call(this)}.bind(this),this.onPaste=function(){return!!e.AllowPaste},this.onFocus=function(){this.hasFocus(!0)},this.onBlur=function(){this.isActive(!!this.value()),this.hasFocus(!1)},this.isActive(!!this.value())}}),dcf.define("text!form/fields/group/group.html",[],function(){return'<h3 data-bind="text: field.fieldName"></h3>\r\n'}),dcf.define("form/fields/group/group",["knockout","form/fields/fieldmodel","text!form/fields/group/group.html"],function(n,a,e){return n.templates.tmpl_group=e,function(e,t,i){a.apply(this,[e,t,i]),this.template=n.observable("tmpl_group"),this.hideField=n.computed(function(){return!this.isVisible()},this)}}),dcf.define("text!form/fields/date/date.html",[],function(){return"<label class=\"field-label date-label\" data-bind=\"attr: { 'for': field.fieldName_original }, text: field.fieldName\"></label>\r\n<div data-bind=\"attr: { class: 'columns-container layout-33-34-33 columns-bare ' + field.fieldIconClass }\">\r\n    <div class=\"column column-1\">\r\n        <div class=\"select-wrapper date\">\r\n\r\n            \x3c!-- ko if: field.hasNoDefaultValue() --\x3e\r\n            <select data-bind=\"attr: { id: 'dcf-date-' + field.fieldId(), name: 'dcf-date-' + field.fieldName_original, disabled: field.readOnly || field.disableBrowserValidation() }, options: field.days, value: field.date, optionsCaption: field.selectOptionText || 'Select day', css: { readOnly : field.readOnly }\"></select>\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko ifnot: field.hasNoDefaultValue() --\x3e\r\n            <select data-bind=\"attr: { id: 'dcf-date-' + field.fieldId(), name: 'dcf-date-' + field.fieldName_original, disabled: field.readOnly || field.disableBrowserValidation() }, options: field.days, value: field.date, css: { readOnly : field.readOnly }\"></select>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n    </div>\r\n    <div class=\"column column-2\">\r\n        <div class=\"select-wrapper month\">\r\n            \x3c!-- ko if: field.hasNoDefaultValue() --\x3e\r\n            <select data-bind=\"attr: { id: 'dcf-month-' + field.fieldId(), name: 'dcf-month-' + field.fieldName_original, disabled: field.readOnly || field.disableBrowserValidation() }, options: field.months, optionsText: 'Value', optionsValue: 'Key', value: field.month, optionsCaption: field.selectOptionText2 || 'Select month', css: { readOnly : field.readOnly }\"></select>\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko ifnot: field.hasNoDefaultValue() --\x3e\r\n            <select data-bind=\"attr: { id: 'dcf-month-' + field.fieldId(), name: 'dcf-month-' + field.fieldName_original, disabled: field.readOnly || field.disableBrowserValidation()}, options: field.months, optionsText: 'Value', optionsValue: 'Key', value: field.month, css: { readOnly : field.readOnly }\"></select>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n    </div>\r\n    <div class=\"column column-3\">\r\n        <div class=\"select-wrapper year\">\r\n            \x3c!-- ko if: field.hasNoDefaultValue() --\x3e\r\n            <select data-bind=\"attr: { id: 'dcf-year-' + field.fieldId(), name: 'dcf-year-' + field.fieldName_original, disabled: field.readOnly || field.disableBrowserValidation()}, options: field.years, value: field.year, optionsCaption: field.selectOptionText3 || 'Select year', css: { readOnly : field.readOnly }\"></select>\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko ifnot: field.hasNoDefaultValue() --\x3e\r\n            <select data-bind=\"attr: { id: 'dcf-year-' + field.fieldId(), name: 'dcf-year-' + field.fieldName_original, disabled: field.readOnly || field.disableBrowserValidation()}, options: field.years, value: field.year, css: { readOnly : field.readOnly }\"></select>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n    </div>\r\n    \x3c!-- ko if: field.tooltip --\x3e\r\n    <div class=\"tool-tip\" data-bind=\"text: field.tooltip\"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>"}),dcf.define("text!form/fields/date/dateStandard.html",[],function(){return'<label class="field-label date-label" data-bind="attr: { \'for\': field.fieldName_original }, text: field.fieldName"></label>\r\n<div data-bind="attr: { class: field.fieldIconClass }">\r\n    <div class="date">\r\n            <input type="date" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), max: field.maxDate, min: field.minDate, autocomplete:field.autocomplete, readonly: field.readOnly, disabled: field.disableBrowserValidation() }, value: field.value, css: {readOnly : field.readOnly }"  />\r\n            \x3c!-- ko if: field.tooltip --\x3e\r\n            <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>'}),dcf.define("text!form/fields/date/date.yyyymmdd.html",[],function(){return"<label class=\"field-label date-label\" data-bind=\"attr: { 'for': field.fieldName_original }, text: field.fieldName\"></label>\r\n<div data-bind=\"attr: { class: 'columns-container layout-33-34-33 columns-bare ' + field.fieldIconClass }\">\r\n    <div class=\"column column-1\">\r\n        <div class=\"select-wrapper year\">\r\n            \x3c!-- ko if: field.hasNoDefaultValue() --\x3e\r\n            <select data-bind=\"attr: { id: 'dcf-year-' + field.fieldId(), name: 'dcf-year-' + field.fieldName_original, disabled: field.readOnly || field.disableBrowserValidation()  }, options: field.years, value: field.year, optionsCaption: field.selectOptionText3 || 'Select year', css: { readOnly : field.readOnly }\"></select>\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko ifnot: field.hasNoDefaultValue() --\x3e\r\n            <select data-bind=\"attr: { id: 'dcf-year-' + field.fieldId(), name: 'dcf-year-' + field.fieldName_original, disabled: field.readOnly || field.disableBrowserValidation() }, options: field.years, value: field.year, css: { readOnly : field.readOnly }\"></select>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n    </div>\r\n    <div class=\"column column-2\">\r\n        <div class=\"select-wrapper month\">\r\n            \x3c!-- ko if: field.hasNoDefaultValue() --\x3e\r\n            <select data-bind=\"attr: { id: 'dcf-month-' + field.fieldId(), name: 'dcf-month-' + field.fieldName_original, disabled: field.readOnly || field.disableBrowserValidation() }, options: field.months, optionsText: 'Value', optionsValue: 'Key', value: field.month, optionsCaption: field.selectOptionText2 || 'Select month', css: { readOnly : field.readOnly }\"></select>\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko ifnot: field.hasNoDefaultValue() --\x3e\r\n            <select data-bind=\"attr: { id: 'dcf-month-' + field.fieldId(), name: 'dcf-month-' + field.fieldName_original, disabled: field.readOnly || field.disableBrowserValidation() }, options: field.months, optionsText: 'Value', optionsValue: 'Key', value: field.month, css: { readOnly : field.readOnly }\"></select>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n    </div>\r\n    <div class=\"column column-3\">\r\n        <div class=\"select-wrapper date\">\r\n\r\n            \x3c!-- ko if: field.hasNoDefaultValue() --\x3e\r\n            <select data-bind=\"attr: { id: 'dcf-date-' + field.fieldId(), name: 'dcf-date-' + field.fieldName_original, disabled: field.readOnly || field.disableBrowserValidation() }, options: field.days, value: field.date, optionsCaption: field.selectOptionText || 'Select day', css: { readOnly : field.readOnly }\"></select>\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko ifnot: field.hasNoDefaultValue() --\x3e\r\n            <select data-bind=\"attr: { id: 'dcf-date-' + field.fieldId(), name: 'dcf-date-' + field.fieldName_original, disabled: field.readOnly || field.disableBrowserValidation() }, options: field.days, value: field.date, css: { readOnly : field.readOnly }\"></select>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n    </div>\r\n    \x3c!-- ko if: field.tooltip --\x3e\r\n    <div class=\"tool-tip\" data-bind=\"text: field.tooltip\"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>"}),dcf.define("form/fields/date/date",["knockout","form/fields/fieldmodel","text!form/fields/date/date.html","text!form/fields/date/dateStandard.html","text!form/fields/date/date.yyyymmdd.html"],function(b,g,e,t,i){return b.templates.tmpl_date=e,b.templates.tmpl_dateStandard=t,b.templates.tmpl_tmplOrdered=i,function(e,t,i){g.apply(this,[e,t,i]);var n,a,o,r="Standard HTML Date Control"==e.DateLayout&&((n=document.createElement("input")).setAttribute("type","date"),"date"==n.type);if(r)if(this.template=b.observable("tmpl_dateStandard"),this.maxYears&&0<=this.minYears){var s=new Date(Date.now());o=b.observable(this.maxYears?new Date(s.setFullYear(s.getFullYear()-this.maxYears)).toISOString().slice(0,10):void 0),s=new Date(Date.now()),a=b.observable(0<=this.minYears?new Date(s.setFullYear(s.getFullYear()-this.minYears)).toISOString().slice(0,10):void 0),this.maxDate=a||"",this.minDate=o||""}else if(0<=this.futureMinYears&&this.futureMaxYears){s=new Date(Date.now());var l=b.observable(0<=this.futureMinYears?new Date(s.setFullYear(s.getFullYear()+this.futureMinYears)).toISOString().slice(0,10):void 0);s=new Date(Date.now());var d=b.observable(this.futureMaxYears?new Date(s.setFullYear(s.getFullYear()+this.futureMaxYears)).toISOString().slice(0,10):void 0);this.maxDate=d||"",this.minDate=l||""}else this.maxDate="",this.minDate="";else"Default with Order YYYY MM DD"==e.DateLayout?this.template=b.observable("tmpl_tmplOrdered"):this.template=b.observable("tmpl_date");if(!r){var c=e.Value&&e.Value.Value||e.DefaultValue;s=null;if(null!=c&&"string"==typeof c){var u=c.split("-").map(function(e){return parseInt(e.trim())});2<u.length&&u[0]&&u[1]&&0<u[1]&&u[2]&&(s=new Date(u[0],u[1]-1,u[2]))}this.year=b.observable(s?s.getFullYear():0),this.month=b.observable(s?s.getMonth()+1:0),this.date=b.observable(s?s.getDate():0),this.daysInMonth=b.computed(function(){return new Date(this.year(),this.month(),0).getDate()||31},this),this.value=b.computed(function(){if(0!==this.year()&&0!==this.month()&&0!==this.date()&&!isNaN(this.year())&&!isNaN(this.month())&&!isNaN(this.date()))return this.year()+"-"+this.month()+"-"+this.date()},this);var f,p,h,m=[];for(h=this.minYears&&this.maxYears?(p=0<=this.minYears?this.maxYears?this.maxYears-this.minYears:100-this.minYears:150,new Date(Date.now()).getFullYear()-(this.maxYears||100)):0<=this.futureMinYears&&this.futureMaxYears?(p=this.futureMaxYears-this.futureMinYears,new Date(Date.now()).getFullYear()+this.futureMinYears):(p=150,new Date(Date.now()).getFullYear()-100);m.length<=p;m.push(h++));this.yearsRangeDesc&&m.reverse(),f=e.ValueSelection&&e.ValueSelection.length?e.ValueSelection:[{Key:"1",Value:"January"},{Key:"2",Value:"February"},{Key:"3",Value:"March"},{Key:"4",Value:"April"},{Key:"5",Value:"May"},{Key:"6",Value:"June"},{Key:"7",Value:"July"},{Key:"8",Value:"August"},{Key:"9",Value:"September"},{Key:"10",Value:"October"},{Key:"11",Value:"November"},{Key:"12",Value:"December"}],this.years=m,this.months=b.computed(function(){if(this.minYears&&this.maxYears){if(0<=this.minYears&&this.year()==new Date(Date.now()).getFullYear()-this.minYears)return f.slice(0,new Date(Date.now()).getMonth()+1);if(this.maxYears&&this.year()==new Date(Date.now()).getFullYear()-this.maxYears)return f.slice(new Date(Date.now()).getMonth(),12)}if(0<=this.futureMinYears&&this.futureMaxYears){if(this.year()==new Date(Date.now()).getFullYear()+this.futureMinYears)return f.slice(new Date(Date.now()).getMonth());if(this.futureMaxYears&&this.year()==new Date(Date.now()).getFullYear()+this.futureMaxYears)return f.slice(0,new Date(Date.now()).getMonth()+1)}return f},this),this.days=b.computed(function(){var e,t=this.daysInMonth(),i=new Date(Date.now()).getDate();if(this.minYears&&this.maxYears)if(0<=this.minYears&&this.year()==new Date(Date.now()).getFullYear()-this.minYears&&this.month()==new Date(Date.now()).getMonth()+1)for(e=[];e.length<i;e.push((9<=e.length?"":" ")+(e.length+1)));else if(this.maxYears&&this.year()==new Date(Date.now()).getFullYear()-this.maxYears&&this.month()==new Date(Date.now()).getMonth()+1)for(e=[];e.length<t-(i-1);e.push((9<=i+e.length?"":" ")+(i+e.length)));else for(e=[];e.length<t;e.push((9<=e.length?"":" ")+(e.length+1)));else if(0<=this.futureMinYears&&this.futureMaxYears)if(0<=this.futureMinYears&&this.year()==new Date(Date.now()).getFullYear()+this.futureMinYears&&this.month()==new Date(Date.now()).getMonth()+1)for(e=[];e.length<t-(i-1);e.push((9<=i+e.length?"":" ")+(i+e.length)));else if(this.futureMaxYears&&this.year()==new Date(Date.now()).getFullYear()+this.futureMaxYears&&this.month()==new Date(Date.now()).getMonth()+1)for(e=[];e.length<i;e.push((9<=e.length?"":" ")+(e.length+1)));else for(e=[];e.length<t;e.push((9<=e.length?"":" ")+(e.length+1)));else for(e=[];e.length<t;e.push((9<=e.length?"":" ")+(e.length+1)));return e},this)}var v=this.onChange;this.onChange=function(){},this.value.subscribe(function(){v.call(this)},this),this.setValueforComputed=function(e){var t=null;if(e){var i=c.split("-").map(function(e){return parseInt(e.trim(),10)});2<i.length&&i[0]&&i[1]&&0<i[1]&&i[2]&&(t=new Date(i[0],i[1]-1,i[2]))}this.suppressSubmit=!0,this.year(t?t.getFullYear():2e3),this.suppressSubmit=!0,this.month(t?t.getMonth()+1:1),this.suppressSubmit=!0,this.date(t?t.getDate():1)}}}),dcf.define("text!form/fields/summary/summary.html",[],function(){return"<span data-bind=\"html: field.content\">\r\n    \x3c!-- ko foreach: { data: fields, as: 'field' } --\x3e\r\n\r\n        <div data-bind=\"attr: { id: field.fieldId(), 'data-field-id': field.fieldName_original, 'class': field.cssClasses }\">\r\n            \x3c!-- ko template: {name: field.template, data: field, as: 'field'} --\x3e\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n    \x3c!-- /ko --\x3e\r\n</span>"}),dcf.define("form/fields/summary/summary",["knockout","form/fields/fieldmodel","text!form/fields/summary/summary.html"],function(n,a,e){return n.templates.tmpl_summary=e,function(e,t,i){a.apply(this,[e,t,i]),this.template=n.observable("tmpl_summary")}}),dcf.define("text!form/fields/phone/phone.html",[],function(){return'\x3c!-- ko if: field.displaylabel --\x3e\r\n<label class="field-label phone-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n\x3c!-- /ko --\x3e\r\n<div data-bind="attr:{class: field.fieldIconClass + \' phone-wrapper\'}">\r\n    <div class="select-wrapper areacode">\r\n        <select data-bind="\r\n                event: { \r\n                    mouseover: active, \r\n                    focus:active, \r\n                    mouseout: inactive, \r\n                    blur: inactive\r\n                }, \r\n                attr: { \r\n                    id: \'dcf-areacode\' + field.fieldId(), \r\n                    name: \'dcf-areacode\' + field.fieldName_original, \r\n                    disabled: field.readOnly() || field.lockDefaultAreaCode || field.disableBrowserValidation() \r\n                }, \r\n                options: field.valueSelection, \r\n                optionsText: \'Value\', \r\n                optionsValue: \'Value\', \r\n                value: field.areacode, \r\n                css: { \r\n                    readOnly : field.readOnly() || field.lockDefaultAreaCode\r\n                }">\r\n        </select>\r\n    </div>\r\n\r\n    <div class="text-wrapper phone">\r\n        <input type="tel" data-bind="\r\n                event: { \r\n                    mouseover: active, \r\n                    focus:active, \r\n                    mouseout: inactive, \r\n                    blur: inactive\r\n                }, \r\n                attr: { \r\n                   id: \'dcf-phonenumber-\' + field.fieldId(), \r\n                   name: \'dcf-phonenumber-\' + field.fieldName_original, \r\n                   autocomplete:field.autocomplete, \r\n                   readonly: field.readOnly(),\r\n                   disabled: field.disableBrowserValidation() \r\n                }, \r\n                value: field.number, \r\n                css: { \r\n                    readOnly : field.readOnly() \r\n               }" />\r\n    </div>\r\n    \x3c!-- ko if: field.tooltip --\x3e\r\n    <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n'}),dcf.define("text!form/fields/phone/phoneFlags.html",[],function(){return"\x3c!-- ko if: field.displaylabel --\x3e\r\n<label class=\"field-label phone-label\" data-bind=\"attr: { 'for': field.fieldId() }, text: field.fieldName\"></label>\r\n\x3c!-- /ko --\x3e\r\n<div data-bind=\"attr:{class: field.fieldIconClass + ' phone-wrapper countryflags-wrapper'}\">\r\n    <div class=\"select-wrapper areacode\">\r\n        <select data-bind=\"\r\n                event: { \r\n                    mouseover: active, \r\n                    focus:active, \r\n                    mouseout: inactive, \r\n                    blur: inactive\r\n                }, \r\n                attr: { \r\n                    id: 'dcf-areacode' + field.fieldId(), \r\n                    name: 'dcf-areacode' + field.fieldName_original, \r\n                    disabled: field.readOnly() || field.lockDefaultAreaCode || field.disableBrowserValidation() \r\n                }, \r\n                options: field.valueSelection, \r\n                optionsText: 'Value', \r\n                optionsValue: 'Value', \r\n                value: field.areacode, \r\n                css: { \r\n                    readOnly : field.readOnly() || field.lockDefaultAreaCode\r\n                }\">\r\n        </select>\r\n        <div class=\"countryflags-select\" data-bind=\"component: {\r\n            name: 'countryflags-select',\r\n            params: {\r\n                options: field.valueSelection,\r\n                optionsText: 'Value',\r\n                optionsValue: 'Value',\r\n                flagValue: 'Key',\r\n                value: field.areacode,\r\n                fieldId: 'dcf-areacode' + field.fieldId()           \r\n        }\r\n     },\r\n            event: {\r\n                mouseover: active, \r\n                focus:active, \r\n                mouseout: inactive, \r\n                blur: inactive\r\n            },          \r\n            css: { \r\n                readOnly : field.readOnly() || field.lockDefaultAreaCode\r\n            }\">\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"text-wrapper phone\">\r\n        <input type=\"tel\" data-bind=\"\r\n                event: { \r\n                    mouseover: active, \r\n                    focus:active, \r\n                    mouseout: inactive, \r\n                    blur: inactive\r\n                }, \r\n                attr: { \r\n                   id: 'dcf-phonenumber-' + field.fieldId(), \r\n                   name: 'dcf-phonenumber-' + field.fieldName_original, \r\n                   autocomplete:field.autocomplete, \r\n                   readonly: field.readOnly(),\r\n                   disabled: field.disableBrowserValidation() \r\n                }, \r\n                value: field.number, \r\n                css: { \r\n                    readOnly : field.readOnly() \r\n               }\" />\r\n    </div>\r\n    \x3c!-- ko if: field.tooltip --\x3e\r\n    <div class=\"tool-tip\" data-bind=\"text: field.tooltip\"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n"}),dcf.define("text!form/fields/phone/phoneCustom.html",[],function(){return'<label data-bind="attr: { name: field.fieldName_original, id: field.fieldId() }, value: field.value, text: field.customText"></label>\r\n'}),dcf.define("form/fields/phone/phone",["knockout","form/fields/fieldmodel","ismobile","text!form/fields/phone/phone.html","text!form/fields/phone/phoneFlags.html","text!form/fields/phone/phoneCustom.html","form/fields/countryflags/countryFlags"],function(l,d,c,e,t,i){return l.templates.tmpl_phone=e,l.templates.tmpl_phone_flags=t,l.templates.tmplphone_custom=i,function(n,e,t){if(d.apply(this,[n,e,t]),"Custom"==n.Category)return this.template=l.observable("tmplphone_custom"),this.customText=l.observable("["+this.fieldName()+"]"),!0;this.useCountryFlags&&!c()?this.template=l.observable("tmpl_phone_flags"):this.template=l.observable("tmpl_phone"),this.preventAreaCodeSubmit=!1;var a=n.Value&&n.Value.Value||n.DefaultValue,o="",i="";if(a){var r=a.split(" ");o=r[0],i=r.slice(1).join("")}this.areacode=l.observable(o),this.setSource=function(e){if(this.sourceFieldId&&(this.sourceField=this.findField(e,this.sourceFieldId)),this.sourceField){this.source=l.observable(this.sourceField);var t=this.source().value();this.source().value.subscribe(function(e){this.setAreaCodeValue(e)},this)}if(!o){var i=t||n.DefaultKey;i&&this.setAreaCodeValue(i)}},this.setAreaCodeValue=function(t){var e=l.utils.arrayFirst(n.ValueSelection,function(e){return 0<=e.Key.indexOf(t)});e&&e.Value&&(this.preventAreaCodeSubmit=!0,this.areacode(e.Value),this.isActive(!0),this.preventAreaCodeSubmit=!1)},this.setAreaCodeText=function(t){var e=l.utils.arrayFirst(n.ValueSelection,function(e){return 0<=e.Value.indexOf(t)});e&&e.Value&&(this.preventAreaCodeSubmit=!0,this.areacode(e.Value),this.isActive(!0),this.preventAreaCodeSubmit=!1)},!n.DefaultKey||this.sourceFieldId||this.areacode()?n.DefaultValue&&!this.sourceFieldId&&this.setAreaCodeText(this.areacode()):this.setAreaCodeValue(n.DefaultKey),this.number=l.observable(i);var s=this.value;this.value=l.computed(function(){return this.areacode().split(" ")[0]+" "+this.number()},this),this.active=function(e){this.hasFocus(!0)},this.inactive=function(e){this.isActive(!!this.value().trim()),this.hasFocus(!1)},this.isAccepted=l.computed(function(){return this.value()&&this.isValid()&&this.number()},this),this.onChange=function(){},this.number.subscribe(function(){s(this.value())},this),this.areacode.subscribe(function(){this.preventAreaCodeSubmit||s(this.value())},this),this.isActive(!!this.value().trim()),this.onUpdateComplete=function(e){var t=e.DefaultValue;if(!e.Value&&t&&t!==this.value()&&!this.isValueSet){var i=t.split(" "),n=i.slice(1).join(" ");this.preventAreaCodeSubmit=!0,this.areacode(i[0]),this.preventAreaCodeSubmit=!1,this.suppressSubmit=!0,this.number(n)}},this.setValueforComputed=function(e){var t="",i="";if(e){var n=a.split(" ");t=n[0],i=n[1]}this.preventAreaCodeSubmit=!0,this.areacode(t),this.preventAreaCodeSubmit=!1,this.suppressSubmit=!0,this.number(i)}}}),dcf.define("text!form/fields/password/password.html",[],function(){return'<label class="field-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n<div data-bind="{css: field.fieldIconClass}">\r\n    \x3c!-- ko if: field.toggleMasking --\x3e\r\n    <div class="toggleMasking">\r\n        <input data-bind="attr: { type: field.inputType(), name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder, readonly: field.readOnly, disabled: field.disableBrowserValidation() }, event: { paste: field.onPaste, focus: field.onFocus, blur: field.onBlur},  textInput: password, autocomplete:field.autocomplete, css: { readOnly : field.readOnly }"/>\r\n        <div data-bind="attr: { \'class\': passwordstyle },  event: { click: ToggleView }"></div>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko ifnot: field.toggleMasking --\x3e\r\n    <input type="password" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder, readonly: field.readOnly, disabled: field.disableBrowserValidation() }, event: { paste: field.onPaste, focus: onFocus, blur: onBlur},  textInput: password, autocomplete:field.autocomplete, css: { readOnly : field.readOnly }" />\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- ko if: field.tooltip --\x3e\r\n    <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n    \x3c!-- /ko --\x3e\r\n    <div class="suggestion">\r\n        \x3c!-- ko if: field.minChars --\x3e\r\n        <div data-bind="attr: {\'class\': field.MinCharsCss}, text: field.minCharsText"></div>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: field.minNumerals --\x3e\r\n        <div data-bind="attr: {\'class\': field.MinNumeralsCss}, text: field.minNumeralsText"></div>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: field.atLeastChars --\x3e\r\n        <div data-bind="attr: {\'class\': field.AtLeastCharsCss}, text: field.atLeastCharsText"></div>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: field.minCapitalChars --\x3e\r\n        <div data-bind="attr: {\'class\': field.MinCapitalCharsCss}, text: field.minCapitalCharsText"></div>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: field.minSpecialChars --\x3e\r\n        <div data-bind="attr: {\'class\': field.MinSpecialCharsCss}, text: field.minSpecialCharsText"></div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>'}),dcf.define("form/fields/password/password",["knockout","form/fields/fieldmodel","text!form/fields/password/password.html"],function(n,a,e){return n.templates.tmpl_password=e,function(e,t,i){a.apply(this,[e,t,i]),this.template=n.observable("tmpl_password"),this.fieldIconClass=this.fieldIconClass?this.fieldIconClass+" iconInsideField":"",this.notsetCss="password suggestion notSet",this.weakCss="password suggestion weak",this.matchCss="password suggestion match",this.password=n.observable(this.initialValue||""),this.MinCharsCss=n.computed(function(){return this.minCharsText&&0<this.minCharsText.length?""==this.password()?this.notsetCss:this.password().length>=this.minLength?this.matchCss:this.weakCss:""},this),this.MinNumeralsCss=n.computed(function(){return this.minNumeralsText&&0<this.minNumeralsText.length?""==this.password()?this.notsetCss:/\d/.test(this.password())?this.matchCss:this.weakCss:""},this),this.MinCapitalCharsCss=n.computed(function(){return this.minCapitalCharsText&&0<this.minCapitalCharsText.length?""==this.password()?this.notsetCss:this.password().toLowerCase()!=this.password()?this.matchCss:this.weakCss:""},this),this.AtLeastCharsCss=n.computed(function(){return this.atLeastCharsText&&0<this.atLeastCharsText.length?""==this.password()?this.notsetCss:/[A-Za-z]/.test(this.password())?this.matchCss:this.weakCss:""},this),this.MinSpecialCharsCss=n.computed(function(){return this.minSpecialCharsText&&0<this.minSpecialCharsText.length?""==this.password()?this.notsetCss:/\W/.test(this.password())?this.matchCss:this.weakCss:""},this),this.inputType=n.observable("password"),this.onPaste=function(){return!!e.AllowPaste},this.passwordstyle=n.pureComputed(function(){return"password"===this.inputType()?"togglepasswordfield text":"togglepasswordfield password"},this),this.ToggleView=function(){"password"===this.inputType()?this.inputType("text"):this.inputType("password")},this.onFocus=function(){this.hasFocus(!0)},this.onBlur=function(){this.value(this.password()),this.isActive(!!this.value()),this.hasFocus(!1)},this.isActive(!!this.value())}}),dcf.define("text!form/fields/fileupload/fileuploadDefault.html",[],function(){return'<div class="file-wrapper">\r\n    <label class="field-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n    <div data-bind="attr: {class: field.fieldIconClass}">\r\n        <input type="file" class="filepicker-selector" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder, disabled: field.readOnly || field.disableBrowserValidation() }, event: { change: fileSelected }" />\r\n        \x3c!-- ko if: field.tooltip --\x3e\r\n        <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n        \x3c!-- /ko --\x3e\r\n\r\n    </div>\r\n</div>\r\n<div class="upload-wrapper">\r\n    <input type="button" data-bind="value: field.uploadFileButtonText, attr: { name: field.fieldName_original + \'-upload\', disabled: field.readOnly || field.disableBrowserValidation() }, click: onSubmitFile, css: { readOnly : field.readOnly }" />\r\n</div>\r\n'}),dcf.define("text!form/fields/fileupload/fileuploadPretty.html",[],function(){return'<div data-bind="{css: wrapperCss}" class="fileupload-with-preview">\r\n    <input type="file" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder, accept: acceptTypes(), disabled: field.readOnly || field.disableBrowserValidation() }, event: { change: SaveSelectedFile }" />\r\n    <label class="upload-file filepicker-selector" data-bind="attr: { \'for\': field.fieldId() }, text: uploadFileLabel"></label>\r\n    <div class="loader">\r\n        <span data-bind="text: imgUploadProgress"></span>\r\n    </div>\r\n    <div class="preview-container">\r\n        <span class="valign-helper">\r\n            <img class="preview-image" src="" data-bind="attr: {id: \'imgPreview_\' + field.fieldId(), src: imgPreviewSrc}" />\r\n            <a href="" target="_blank" class="preview-document" data-bind="attr: {id: \'documentPreview_\' + field.fieldId(), href: documentPreviewHref}, css: documentCss "></a>\r\n        </span>\r\n        <span class="delete" data-bind="event: { click: RemoveFile }"></span>\r\n    </div>\r\n    <div class="field-text">\r\n        <div  data-bind="html: field.fieldText"></div>\r\n        \x3c!-- ko if: field.addHelpLink --\x3e\r\n        <div>\r\n            <span class="help-text-link" data-bind="text: field.fileUploadHelpLinkText, click: showHelp" ></span>\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>   \r\n</div>\r\n'}),dcf.define("text!form/fields/fileupload/fileuploadSimple.html",[],function(){return'<div class="file-wrapper-simple" data-bind="css: uploadStatusCss , event: { dragenter:onDrag , dragover: onDrag, dragleave: onDrag, drop: onDrop} ">\r\n    <div class="field-text" data-bind="html: field.fieldText, css: field.fieldIconClass">\r\n    </div>\r\n    <div class="progressbar">\r\n        <div class="progress" data-bind="style: { width: field.percentageProgress()  }"></div>\r\n    </div>\r\n    <div class="file-info">\r\n        <span class="filename" data-bind="text: field.value()"></span>\r\n        <span class="remove" data-bind="text:field.deleteButtonText, event: { click: RemoveFile }"></span>\r\n    </div>\r\n    <div class="progress-status">\r\n        <span class="progress-text" data-bind="text: field.uploadFileProgressText"></span>\r\n        <span class="percentage" data-bind="text: percentageProgress"></span>\r\n    </div>\r\n    <div class="select-file">\r\n        <input type="file" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder, accept: acceptTypes(), disabled: field.readOnly || field.disableBrowserValidation() }, event: { change: SaveSelectedFile }" />\r\n        \r\n        <div class="filepicker-selector">\r\n            <label class="desktop" data-bind="attr: { \'for\': field.fieldId() }, text: uploadFileButtonText, css: { readOnly : field.readOnly }"></label>\r\n            <label class="mobile" data-bind="attr: { \'for\': field.fieldId() }">+</label>\r\n        </div>\r\n        <div class="field-upload-text" data-bind="text: field.uploadFileLabel"></div>\r\n    </div>\r\n    <span class="error" data-bind="html: field.validationMessage()"></span>\r\n    \x3c!-- ko if: field.tooltip --\x3e\r\n    <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n\r\n'}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof dcf.define&&dcf.define.amd)dcf.define("loadScript",[],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).loadScript=e()}}(function(){return function o(r,s,l){function d(t,e){if(!s[t]){if(!r[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var a=s[t]={exports:{}};r[t][0].call(a.exports,function(e){return d(r[t][1][e]||e)},a,a.exports,o,r,s,l)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)d(l[e]);return d}({1:[function(e,t,i){function o(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}t.exports=function(e,t,i){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof t&&(i=t,t={}),t=t||{},i=i||function(){},a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async=!("async"in t)||!!t.async,a.src=e,t.attrs&&function(e,t){for(var i in t)e.setAttribute(i,t[i])}(a,t.attrs),t.text&&(a.text=""+t.text),("onload"in a?o:r)(a,i),a.onload||o(a,i),n.appendChild(a)}},{}]},{},[1])(1)}),dcf.define("dcfmoxie",["loadScript"],function(e){var a="/js/moxie.min.js",o="/flash/Moxie.swf",r="/silverlight/Moxie.xap";return{fetch:function(t,i){function n(e){(e=e||window.moxie).core.utils.Env.swf_url=t+o,e.core.utils.Env.xap_url=t+r,i(e)}window.define&&window.define.amd?dcf.require(["moxie"],n):e(t+a,function(e,t){e||n()})}}}),dcf.define("form/fields/fileupload/fileupload",["knockout","form/fields/fieldmodel","text!form/fields/fileupload/fileuploadDefault.html","text!form/fields/fileupload/fileuploadPretty.html","text!form/fields/fileupload/fileuploadSimple.html","modal","modernizr","dcfmoxie"],function(s,l,e,t,i,d,c,u){return s.templates.tmpl_fileuploadDefault=e,s.templates.tmpl_fileuploadPretty=t,s.templates.tmpl_fileuploadSimple=i,function(a,e,t,i,n){l.apply(this,[a,e,t]),"Pretty"==a.FileUploadLayot?this.template=s.observable("tmpl_fileuploadPretty"):"Simple"==a.FileUploadLayot?(this.template=s.observable("tmpl_fileuploadSimple"),this.validationMessage=s.observable(this.validationMsg()),this.validationMsg(""),this.isSimpleLayout=!0):this.template=s.observable("tmpl_fileuploadDefault"),this.fieldDefinition=a,this.selectedfile="",this.wrapperCss=s.observable(""),this.documentCss=s.observable(""),this.imgPreviewSrc=s.observable(""),this.imgUploadProgress=s.observable(""),this.percentageProgress=s.observable(this.value()?"100%":""),this.uploadStatusCss=s.observable(this.value()?"uploaded":""),this.allowDragNDrop=!!this.uploadFileLabel,this.documentPreviewHref=s.observable(""),this.acceptTypes=s.observable(""),this.moxieBase=n.serviceRoot+"/widget/lib/mOxie",this.Moxie=null,this.moxieInput=null;var o=[];a.AllowApplicationFiles&&o.push(".pdf",".doc",".docx"),a.AllowImageFiles&&o.push("image/*"),a.AllowCertainImageFiles&&o.push(".jpg",".png"),a.AllowDocumentFiles&&o.push(".doc",".docx"),a.AllowPDFFiles&&o.push(".pdf"),a.AllowTextFiles&&o.push("text/plain"),this.acceptTypes(o.join(",")),this.onSubmitFile=function(){if(this.selectedfile){if(this.isSimpleLayout&&this.uploadStatusCss())return;var e=this.selectedfile;if(e.size>1e6*a.MaxFileUploadSize)this.isSimpleLayout?this.validationMessage(a.InvalidFileText):this.validationMsg(a.InvalidFileText),this.serverValid(!1);else{if(0==e.size)return;this.percentageProgress(""),this.uploadStatusCss("uploading");var t=this.getFileReader();if(void 0!==t){var i=new t,n=this;this.wrapperCss("show-loader"),i.onload=function(){n.file=i.result,n.value(e.name)},i.readAsDataURL(e)}else document.getElementById(this.fieldId()).value=""}}},this.handleFilePreview=function(){if("Pretty"==this.fieldDefinition.FileUploadLayot){var e=this.value().toLowerCase();e.endsWith(".pdf")?(this.documentCss("pdf"),this.wrapperCss("show-document-preview")):e.endsWith(".doc")||e.endsWith(".docx")||e.endsWith(".txt")?(this.documentCss("word"),this.wrapperCss("show-document-preview")):(this.imgPreviewSrc(n.serviceRoot+"/dcf/"+n.getInstanceId()+"/image/"+this.fieldDefinition.FieldName+"?"+this.fieldDefinition.Value.FileData),this.wrapperCss("show-image-preview"))}},this.uploadProgressCallback=function(e){if(e){var t=parseInt(e.loaded/e.total*100);this.imgUploadProgress(t+"%"),this.percentageProgress(this.imgUploadProgress())}},this.onUpdateComplete=function(e){this.fieldDefinition=e,this.imgUploadProgress(""),this.isSimpleLayout&&(this.validationMessage(this.validationMsg()),this.validationMsg(""));var t=e&&e.Value;t&&this.value()!==e.Value.Value&&(this.suppressSubmit=!0,this.value(e.Value?e.Value.Value:null)),t&&e.Value.FileData?(this.file=e.Value.FileData,this.uploadStatusCss("uploaded"),this.percentageProgress("100%"),this.handleFilePreview()):this.uploadStatusCss("")};var r=this;this.value.subscribe(function(e){e||r.RemoveFile()}),this.fileSelected=function(e,t){this.Moxie||(this.selectedfile=t.target.files[0])},this.SaveSelectedFile=function(e,t){this.Moxie||(this.selectedfile=t.target.files[0],this.onSubmitFile())},this.RemoveFile=function(){this.imgPreviewSrc(""),this.documentPreviewHref(""),document.getElementById(this.fieldId()).value="",this.file&&(this.file=null),this.value()&&this.value(null),this.wrapperCss(""),this.uploadStatusCss(""),this.documentCss("")},a.Value&&a.Value.FileData&&this.value()&&(this.file=a.Value.FileData,this.handleFilePreview()),this.isActive(!0),this.showHelp=function(e){(new d).showModal(e.content())},this.onDrag=function(e,t){this.allowDragNDrop&&(t.preventDefault(),t.stopPropagation())},this.onDrop=function(e,t){this.allowDragNDrop&&(t.preventDefault(),t.stopPropagation(),this.uploadStatusCss()||(void 0===t.dataTransfer&&t.originalEvent?this.selectedfile=t.originalEvent.dataTransfer.files[0]:this.selectedfile=t.dataTransfer.files[0],this.onSubmitFile()))},this.getFileReader=function(){return this.Moxie?this.Moxie.file.FileReader:FileReader},this.setupPolyfills=function(){var e=this.installMoxie.bind(this);u.fetch(this.moxieBase,e)},this.moxieChange=function(e){this.selectedfile=e.target.files[0];var t=a.FileUploadLayot;"Pretty"!==t&&"Simple"!==t||this.onSubmitFile()},this.installMoxie=function(e){this.Moxie=e;var t=document.getElementById("dcf-container-"+this.fieldId());t||setTimeout(this.installMoxie.bind(this,e),100);var i=t.querySelector(".filepicker-selector"),n=this.moxieInput=new e.file.FileInput({browse_button:i,accept:this.acceptTypes(),runtime_order:"flash,silverlight,html4"});n.onchange=this.moxieChange.bind(this),n.init()},c.filereader||this.setupPolyfills()}}),dcf.define("text!form/fields/checkboxfield/checkboxfield.html",[],function(){return'<div data-bind="css: field.fieldIconClass" class="single-checkbox">\r\n    \x3c!-- ko if: isSupportedThemes() --\x3e\r\n    <div class="checkbox checkbox-container" data-bind="css: { showBorder: showBorder(), readMoreLayout: readMoreLayout(), multiLine: isMultiLine, borderColor: selected() }">\r\n        <div class="readDetails">\r\n            \x3c!-- ko if: readLess --\x3e\r\n            <div class="readMore" data-bind="click: readMoreLessHandler, html: readMoreLabelText"></div>\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko if: readMore --\x3e\r\n            <div class="readLess" data-bind="click: readMoreLessHandler, html: readLessLabelText"></div>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n\r\n        <input type="checkbox" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), value: field.value, disabled: field.readOnly || field.disableBrowserValidation()}, checked: field.selected" />\r\n\r\n        <label class="first-label" data-bind="attr: { \'for\': field.fieldId() }, html: field.fieldText, css: { readOnly : field.readOnly, bottomPadding: isExpanded() }"></label>\r\n\r\n        \x3c!-- ko if: showExpanded --\x3e\r\n        <label class="second-label" data-bind="attr: { \'for\': field.fieldId() }, html: field.readMoreText, css: { readOnly : field.readOnly, moreContent: isExpanded() }"></label>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- ko ifnot: isSupportedThemes() --\x3e\r\n    <div class="checkbox">\r\n        <input type="checkbox" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), value: field.value, disabled: field.readOnly || field.disableBrowserValidation() }, checked: field.selected" />\r\n        <label class="field-label" data-bind="attr: { \'for\': field.fieldId() }, html: field.fieldText, css: { readOnly : field.readOnly }"></label>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n\r\n</div>\r\n\x3c!-- ko if: field.tooltip --\x3e\r\n<div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n\x3c!-- /ko --\x3e\r\n'}),dcf.define("text!form/fields/checkboxfield/checkboxfieldCustom.html",[],function(){return'<label data-bind="attr: { name: field.fieldName_original, id: field.fieldId() }, value: field.value, text: field.customText"></label>'}),dcf.define("form/fields/checkboxfield/checkboxfield",["knockout","form/fields/fieldmodel","text!form/fields/checkboxfield/checkboxfield.html","text!form/fields/checkboxfield/checkboxfieldCustom.html"],function(s,l,e,t){return s.templates.tmpl_checkboxfield=e,s.templates.tmpl_checkboxfieldCustom=t,function(e,t,i,n){l.apply(this,[e,t,i]);var a=this;if(this.CheckboxLayout=s.observable(e.CheckboxLayout),this.showExpanded=s.observable(!1),this.readMore=s.observable(!1),this.readLess=s.observable(!1),2==e.CheckboxLayout&&(a.readMore(!1),a.readLess(!0)),"Custom"==e.Category)this.template=s.observable("tmpl_checkboxfieldCustom"),this.customText=s.observable("["+this.fieldName()+"]");else{this.template=s.observable("tmpl_checkboxfield");var o=e.Value&&e.Value.Value||e.DefaultValue;this.selected=s.observable(o?"true"===o.toLowerCase():null),this.value=s.computed(function(){return this.selected()},this),this.selected.subscribe(function(){this.onChange.call(this)},this)}var r=e.FieldText?e.FieldText.match(/<p>(.*?)<\/p>/g):1;r&&1<r.length?this.isMultiLine=!0:this.isMultiLine=!1,this.setValueforComputed=function(e){var t=e?"true"===o.toLowerCase():null;this.selected(t)},this.showBorder=s.computed(function(){return 0!==this.CheckboxLayout()},this),this.readMoreLayout=s.computed(function(){return 2===this.CheckboxLayout()},this),this.isExpanded=s.computed(function(){return this.showExpanded()},this),this.readMoreLessHandler=function(e,t){"readLess"==t.target.className?(a.readMore(!1),a.readLess(!0),a.showExpanded(!1)):(a.readMore(!0),a.readLess(!1),a.showExpanded(!0))}.bind(this),this.isSupportedThemes=function(){var e=!1;if(n)switch(n.toLowerCase()){case"deepsky":case"saxo":case"saxortl":case"deepgrass":e=!0;break;default:e=!1}return e},this.onUpdateComplete=function(e){var t=this.value(),i=e.Value&&e.Value.Value;if(void 0!==t&&null!==i&&t!==i){var n=i?"true"===i.toLowerCase():null;this.selected()!=n&&(this.suppressSubmit=!0,this.selected(n))}}}}),dcf.define("text!form/fields/container/container.html",[],function(){return"<div class=\"container-header\" data-bind=\"css:{ 'hidden': field.containerStyleIndex(), 'collapsed': field.isCollapse}  ,click: toggle\">\r\n    <div class=\"title\" data-bind=\"text: field.title\"></div>\r\n    <div class=\"subtitle\" data-bind=\"text: field.subtitle\"></div>\r\n</div>\r\n<div data-bind=\"css: field.containercolumnCss,  attr:{'data-field-id': field.fieldName_original}\" class=\"columns-container\">\r\n    <div class=\"column column-1\">\r\n        \x3c!-- ko foreach: { data: field.col1Fields, as: 'childField' } --\x3e\r\n        <div data-bind=\"attr: { id: 'cellfield-' + childField.viewModel.fieldId(), 'data-field-id': childField.viewModel.fieldName_original, 'data-field-type': childField.viewModel.fieldType, 'data-field-category': childField.viewModel.category, 'data-cmfield-category': childField.viewModel.fieldCategory, 'class': childField.viewModel.cssClasses }\">\r\n            \x3c!-- ko template: {name: childField.viewModel.template, data: childField.viewModel, as: 'field'} --\x3e\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n        \x3c!-- ko ifnot: childField.isValid --\x3e\r\n        <div class=\"err-msg\" data-bind=\"text: childField.viewModel.validationMsg\"></div>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n    \x3c!-- ko if: field.showColumn2 --\x3e\r\n    <div class=\"column column-2\">\r\n        \x3c!-- ko foreach: { data: field.col2Fields, as: 'childField' } --\x3e\r\n        <div data-bind=\"attr: { id: 'cellfield-' + childField.viewModel.fieldId(), 'data-field-id': childField.viewModel.fieldName_original, 'data-field-category': childField.viewModel.category, 'data-field-type': childField.viewModel.fieldType,'data-cmfield-category': childField.viewModel.fieldCategory, 'class': childField.viewModel.cssClasses }\">\r\n            \x3c!-- ko template: {name: childField.viewModel.template, data: childField.viewModel, as: 'field'} --\x3e\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n        \x3c!-- ko ifnot: childField.isValid --\x3e\r\n        <div class=\"err-msg\" data-bind=\"text: childField.viewModel.validationMsg\"></div>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko if: field.showColumn3 --\x3e\r\n    <div class=\"column column-3\">\r\n        \x3c!-- ko foreach: { data: field.col3Fields, as: 'childField' } --\x3e\r\n        <div data-bind=\"attr: { id: 'cellfield-' + childField.viewModel.fieldId(), 'data-field-id': childField.viewModel.fieldName_original, 'data-field-category': childField.viewModel.category, 'data-field-type': childField.viewModel.fieldType,'data-cmfield-category': childField.viewModel.fieldCategory, 'class': childField.viewModel.cssClasses }\">\r\n            \x3c!-- ko template: {name: childField.viewModel.template, data: childField.viewModel, as: 'field'} --\x3e\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n        \x3c!-- ko ifnot: childField.isValid --\x3e\r\n        <div class=\"err-msg\" data-bind=\"text: childField.viewModel.validationMsg\"></div>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    <div class=\"clear\"></div>\r\n</div>\r\n<div class=\"container-footer\" data-bind=\"css:{ 'hidden': field.containerStyleIndex() }\"></div>\r\n"}),dcf.define("form/fields/container/container",["knockout","form/fields/fieldmodel","text!form/fields/container/container.html"],function(d,c,e){return d.templates.tmpl_container=e,function(e,t,i){c.apply(this,[e,t,i]);var n=this.containerLayoutClass||"layout-50-50";this.isCollapse=d.observable(1==this.containerStyle),this.dashedBorders=d.observable(2==this.containerStyle),this.containercolumnCss=d.observable(this.isCollapse()?n+" collapsed":n),this.dashedBorders()&&this.containercolumnCss(this.containercolumnCss()+" dashed-borders"),this.containerStyleIndex=d.observable(!this.containerStyle||2==this.containerStyle);for(var a,o=[],r=[],s=[],l=0;a=e.ChildFields[l];l++)3==a.ContainerColumn?s[s.length]=a:2==a.ContainerColumn?r[r.length]=a:o[o.length]=a;this.col1Fields=o,this.col2Fields=r,this.col3Fields=s,this.showColumn3="layout-25-50-25"==e.ContainerLayout||"layout-33-34-33"==e.ContainerLayout,this.showColumn2=this.showColumn3||"layout-100"!=e.ContainerLayout,this.template=d.observable("tmpl_container"),this.toggle=function(){this.isCollapse(!this.isCollapse()),this.containercolumnCss(this.isCollapse()?n+" collapsed":n)},this.onUpdateComplete=function(e){for(var t,i=0;t=e.ChildFields[i];i++)if(t.Value&&!t.Value.IsValid&&this.isCollapse()){this.toggle();break}}}}),dcf.define("text!form/fields/progress/progress.html",[],function(){return'<div data-bind="css: field.progressAlign || \'center\'" class="progress-step-container">\r\n    \x3c!-- ko foreach: { data: field.steps, as: \'step\' } --\x3e\r\n        <span data-bind="css: {selected: step.selected }" class="progress-step"></span>\r\n    \x3c!-- /ko --\x3e\r\n</div>'}),dcf.define("form/fields/progress/progress",["knockout","form/fields/fieldmodel","text!form/fields/progress/progress.html"],function(a,o,e){return a.templates.tmpl_progress=e,function(e,t,i){o.apply(this,[e,t,i]),this.steps=[];for(var n=1;n<=e.ProgressSteps;n++)this.steps[this.steps.length]={selected:e.SelectedProgressStep==n};this.template=a.observable("tmpl_progress")}}),dcf.define("text!form/fields/optionpicker/optionpicker.html",[],function(){return'<div class="option-picker-container">\r\n    \x3c!-- ko if: field.displaylabel --\x3e\r\n    <label class="field-label" data-bind="attr: { \'for\': field.fieldName_original }, text: field.fieldName"></label>\r\n    \x3c!-- /ko --\x3e\r\n    <div data-bind="css: field.templateClass || \'options-wrapper\'">\r\n        \x3c!-- ko foreach: {data: field.options, as: \'option\' }--\x3e\r\n        <div class="option" data-bind="attr: { readonly: $parent.readOnly }, html: option.Value, click: $parent.setSelectedValue, css: { selected: option.selected, readOnly : $parent.readOnly() }"></div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>'}),dcf.define("form/fields/optionpicker/optionpicker",["knockout","form/fields/fieldmodel","text!form/fields/optionpicker/optionpicker.html","widgetutil"],function(s,l,e,d){return s.templates.tmpl_optionpicker=e,function(e,t,i){l.apply(this,[e,t,i]),this.template=s.observable("tmpl_optionpicker"),1==e.OptionPickerLayout?this.templateClass="options-wrapper-horizontal "+(e.FieldLayout||"two-col"):this.templateClass="options-wrapper one-col",this.options=[];var a=this;this.parentForm=t;for(var n,o=0;n=e.ValueSelection[o];o++)if(n.selected=s.observable(n.Key==this.value()),n.Value){var r=document.createElement("span");r.innerHTML=n.Value,r.querySelectorAll(".convert-to-svg").length?d.convertToSVG(n.Value,function(e){n.Value=e,a.options[a.options.length]=n}):a.options[a.options.length]=n}this.setSelectedValue=function(e){if(!a.readOnly()){a.isAutoSubmitEnabled||a.value(e.Key),a.isAutoSubmitEnabled&&(a.suppressSubmit=!0,a.value(e.Key),a.parentForm.onSubmitForm(!0));for(var t,i=0;t=a.options[i];i++)t.selected(t.Key==a.value())}},this.onUpdateComplete=function(e){var t=e.Value&&e.Value.Value;if(null!==t)for(var i,n=0;i=a.options[n];n++)i.selected(i.Key===t)}}}),dcf.define("text!form/fields/helplink/helplink.html",[],function(){return'<div data-bind="{css: field.fieldIconClass}">\r\n    <span class="help-text-link" data-bind="text: field.fieldText, click: field.showHelp"></span>\r\n</div>\r\n'}),dcf.define("form/fields/helplink/helplink",["knockout","form/fields/fieldmodel","text!form/fields/helplink/helplink.html","modal"],function(n,a,e,o){return n.templates.tmpl_helplink=e,function(e,t,i){a.apply(this,[e,t,i]),this.template=n.observable("tmpl_helplink"),this.showHelp=function(e){(new o).showModal(e.content(),e.customStyles)}}}),dcf.define("text!form/fields/questionset/questionset.html",[],function(){return"\x3c!-- ko if: field.childFields.length == 0 --\x3e\r\n    <span>Questionnaire</span>\r\n\x3c!-- /ko --\x3e\r\n\r\n\x3c!-- ko foreach: { data: field.childFields, as: 'childField' } --\x3e\r\n    <div data-bind=\"attr: { id: childField.viewModel.fieldId(), 'data-field-id': childField.viewModel.fieldName_original, 'data-field-type': childField.viewModel.fieldType, 'data-field-category': childField.viewModel.category, 'class': childField.viewModel.cssClasses }\">\r\n        \x3c!-- ko template: {name: childField.viewModel.template, data: childField.viewModel, as: 'field'} --\x3e\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n    \x3c!-- ko ifnot: childField.isValid --\x3e\r\n    <div class=\"err-msg\" data-bind=\"text: childField.viewModel.validationMsg\"></div>\r\n    \x3c!-- /ko --\x3e\r\n\x3c!-- /ko --\x3e\r\n"}),dcf.define("form/fields/questionset/questionset",["knockout","form/fields/fieldmodel","text!form/fields/questionset/questionset.html"],function(n,a,e){return n.templates.tmpl_questionset=e,function(e,t,i){a.apply(this,[e,t,i]),this.template=n.observable("tmpl_questionset")}}),dcf.define("awesomplete",[],function(){var n=function(e,t){var i=this;this.isOpened=!1,this.input=r(e),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),t=t||{},function(e,t,i){for(var n in t){var a=t[n],o=e.input.getAttribute("data-"+n.toLowerCase());"number"==typeof a?e[n]=parseInt(o):!1===a?e[n]=null!==o:a instanceof Function?e[n]=null:e[n]=o,e[n]||0===e[n]||(e[n]=n in i?i[n]:a)}}(this,{minChars:2,maxItems:10,autoFirst:!1,data:n.DATA,filter:n.FILTER_CONTAINS,sort:!1!==t.sort&&n.SORT_BYLENGTH,item:n.ITEM,replace:n.REPLACE},t),this.index=-1,this.container=r.create("div",{className:"awesomplete",around:e}),this.ul=r.create("ul",{hidden:"hidden",inside:this.container}),this.status=r.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),r.bind(this.input,{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(e){var t=e.keyCode;i.opened&&(13===t&&i.selected?(e.preventDefault(),i.select()):27===t?i.close({reason:"esc"}):38!==t&&40!==t||(e.preventDefault(),i[38===t?"previous":"next"]()))}}),r.bind(this.input.form,{submit:this.close.bind(this,{reason:"submit"})}),r.bind(this.ul,{mousedown:function(e){var t=e.target;if(t!==this){for(;t&&!/li/i.test(t.nodeName);)t=t.parentNode;t&&0===e.button&&(e.preventDefault(),i.select(t,e.target))}}}),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||t.list||[],n.all.push(this)};function a(e){var t=Array.isArray(e)?{label:e[0],value:e[1]}:"object"==typeof e&&"label"in e&&"value"in e?e:{label:e,value:e};this.label=t.label||t.value,this.value=t.value}n.prototype={set list(e){if(Array.isArray(e))this._list=e;else if("string"==typeof e&&-1<e.indexOf(","))this._list=e.split(/\s*,\s*/);else if((e=r(e))&&e.children){var a=[];i.apply(e.children).forEach(function(e){if(!e.disabled){var t=e.textContent.trim(),i=e.value||t,n=e.label||t;""!==i&&a.push({label:n,value:i})}}),this._list=a}document.activeElement===this.input&&this.evaluate()},get selected(){return-1<this.index},get opened(){return this.isOpened},close:function(e){this.opened&&(this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,r.fire(this.input,"awesomplete-close",e||{}))},open:function(){this.ul.removeAttribute("hidden"),this.isOpened=!0,this.autoFirst&&-1===this.index&&this.goto(0),r.fire(this.input,"awesomplete-open")},next:function(){var e=this.ul.children.length;this.goto(this.index<e-1?this.index+1:e?0:-1)},previous:function(){var e=this.ul.children.length,t=this.index-1;this.goto(this.selected&&-1!==t?t:e-1)},goto:function(e){var t=this.ul.children;this.selected&&t[this.index].setAttribute("aria-selected","false"),-1<(this.index=e)&&0<t.length&&(t[e].setAttribute("aria-selected","true"),this.status.textContent=t[e].textContent,this.ul.scrollTop=t[e].offsetTop-this.ul.clientHeight+t[e].clientHeight,r.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(e,t){if(e?this.index=r.siblingIndex(e):e=this.ul.children[this.index],e){var i=this.suggestions[this.index];r.fire(this.input,"awesomplete-select",{text:i,origin:t||e})&&(this.replace(i),this.close({reason:"select"}),r.fire(this.input,"awesomplete-selectcomplete",{text:i}))}},evaluate:function(){var t=this,i=this.input.value;i.length>=this.minChars&&0<this._list.length?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(e){return new a(t.data(e,i))}).filter(function(e){return t.filter(e,i)}),!1!==this.sort&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach(function(e){t.ul.appendChild(t.item(e,i))}),0===this.ul.children.length?this.close({reason:"nomatches"}):this.open()):this.close({reason:"nomatches"})}},n.all=[],n.FILTER_CONTAINS=function(e,t){return RegExp(r.regExpEscape(t.trim()),"i").test(e)},n.FILTER_STARTSWITH=function(e,t){return RegExp("^"+r.regExpEscape(t.trim()),"i").test(e)},n.SORT_BYLENGTH=function(e,t){return e.length!==t.length?e.length-t.length:e<t?-1:1},n.ITEM=function(e,t){var i=""===t.trim()?e:e.replace(RegExp(r.regExpEscape(t.trim()),"gi"),"<mark>$&</mark>");return r.create("li",{innerHTML:i,"aria-selected":"false"})},n.REPLACE=function(e){this.input.value=e.value},n.DATA=function(e){return e},Object.defineProperty(a.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),a.prototype.toString=a.prototype.valueOf=function(){return""+this.label};var i=Array.prototype.slice;function r(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}return r.create=function(e,t){var i=document.createElement(e);for(var n in t){var a=t[n];if("inside"===n)r(a).appendChild(i);else if("around"===n){var o=r(a);o.parentNode.insertBefore(i,o),i.appendChild(o)}else n in i?i[n]=a:i.setAttribute(n,a)}return i},r.bind=function(t,e){if(t)for(var i in e){var n=e[i];i.split(/\s+/).forEach(function(e){t.addEventListener(e,n)})}},r.fire=function(e,t,i){var n=document.createEvent("HTMLEvents");for(var a in n.initEvent(t,!0,!0),i)n[a]=i[a];return e.dispatchEvent(n)},r.regExpEscape=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},r.siblingIndex=function(e){for(var t=0;e=e.previousElementSibling;t++);return t},n.$=r,n.$$=function(e,t){return i.call((t||document).querySelectorAll(e))},n}),dcf.define("text!form/fields/street/street.html",[],function(){return'<label class="field-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n<div data-bind="attr: {class: field.fieldIconClass}">\r\n    \x3c!-- ko ifnot: field.isMultiLine --\x3e\r\n    \x3c!-- ko template: {afterRender: field.afterRender} --\x3e\r\n    <input type="text" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder, maxlength: field.maxlength, css:field.fieldIconClass},  value: field.value, textInput: field.textInput, event: {focus: onFocus, blur: onBlur, input: onInput}" />\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko if: field.isMultiLine --\x3e\r\n    \x3c!-- ko template: {afterRender: field.afterRender} --\x3e\r\n    <textarea type="text" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder}, value: field.value, textInput: field.textInput, event: {focus: onFocus, blur: onBlur, input: onInput }"></textarea>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko if: field.tooltip --\x3e\r\n    <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n'}),dcf.define("form/fields/street/street",["knockout","awesomplete","widgetutil","form/fields/fieldmodel","text!form/fields/street/street.html"],function(o,l,d,c,e,t){return o.templates.tmpl_street=e,function(e,r,t,i,n){var s=this;this.settings=n,this.countryCode="",this.resultList=[],this.afterRender=function(e,t){var i=e[1];s.awesomplete=new l(i,{list:[],maxItems:15,filter:function(e,t){return!0},data:function(e,t){var i=((e.Street?e.Street:"")+","+(e.Locality?e.Locality:"")).replace(/^,|,$/g,"");return{label:e.FormattedAddress,value:i}}}),i.addEventListener("awesomplete-selectcomplete",function(e){this.setDataInFields(e.text.label)}.bind(s))},this.onInput=function(e,t){a({searchText:s.textInput(),fieldName:s.fieldName()},function(e){this.awesomplete.list=e,s.resultList=e}.bind(s))},this.onFocus=function(){this.hasFocus(!0)},this.onBlur=function(){this.isActive(!!this.value()),this.hasFocus(!1)},c.apply(this,[e,r,t]),this.textInput=o.observable(this.value()),this.template=o.observable("tmpl_street"),this.isActive(!!this.value());var a=d.debounce(function(e,t){s.countryCode||s.setCountrySource();var i=s.settings.serviceRoot+"/matchcode/Search",n={searchText:e.searchText,FieldName:e.fieldName,CountryCode:s.countryCode,WorkFlowInstanceId:s.settings.getInstanceId()};d.post(i,n,function(e){t&&(s.countryCode||(s.countryCode=e.CountryCode),t(e.Result))})},500);this.setCountrySource=function(){var e=this.findFirstFieldOfType(r,"Country");e&&(s.source=o.observable(e),s.countryCode=s.source().value(),this.source().value.subscribe(function(e){s.countryCode=e}))},this.setDataInFields=function(e){var t,i,n="",a=r;for(i=0;(t=s.resultList[i])&&t.FormattedAddress!=e;i++);if(t){if((n=this.findField(a,"Postcode"))&&(t.PostCode?n.value(t.PostCode):n.value(""),n.isActive(!!n.value())),(n=this.findField(a,"State"))&&(t.StateRegion?n.value(t.StateRegion):n.value(""),n.isActive(!!n.value())),(n=this.findField(a,"City"))&&(t.Town?n.value(t.Town):n.value(""),n.isActive(!!n.value())),(n=this.findField(a,"City of Birth"))&&(t.Town?n.value(t.Town):n.value(""),n.isActive(!!n.value())),n=this.findField(a,"Building Name")){var o=t.SubBuilding||"";t.BuildingName&&(o+=" "+t.BuildingName),n.value(o.trim()),n.isActive(!!n.value())}(n=this.findField(a,"Building Number"))&&(t.BuildingNumber?n.value(t.BuildingNumber):n.value(""),n.isActive(!!n.value()))}}}}),dcf.define("text!form/fields/verificationcode/verificationcode.html",[],function(){return'<label class="field-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n<div data-bind="{css: field.fieldIconClass}">\r\n    <input type="number" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), autocomplete:field.autocomplete, placeholder: field.placeholder}, value: field.value, css: { noSpinner: !field.displayAsSpinner }, event: {focus: onFocus, blur: onBlur}" />\r\n    \x3c!-- ko if: field.tooltip --\x3e\r\n    <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n'}),dcf.define("form/fields/verificationcode/verificationcode",["knockout","form/fields/fieldmodel","text!form/fields/verificationcode/verificationcode.html"],function(n,a,e){return n.templates.tmpl_verificationcode=e,function(e,t,i){a.apply(this,[e,t,i]),this.template=n.observable("tmpl_verificationcode"),this.onFocus=function(){this.hasFocus(!0)},this.onBlur=function(){this.isActive(!!this.value()),this.hasFocus(!1)},this.isActive(!!this.value())}}),dcf.define("text!form/fields/textparagraph/textparagraph.html",[],function(){return'\x3c!-- ko if: field.displayHeight --\x3e\r\n<textarea type="text" readonly class="textparagraph-scroll" data-bind="attr: { rows: field.height }, text: field.content, event: {scroll : onScroll }" ></textarea>\r\n\x3c!-- /ko --\x3e\r\n\x3c!-- ko ifnot: field.displayHeight --\x3e  \r\n<textarea type="text" readonly class="textparagraph-scroll" rows="10" data-bind="text: field.content, event: {scroll : onScroll }"></textarea>\r\n\x3c!-- /ko --\x3e'}),dcf.define("form/fields/textparagraph/textparagraph",["knockout","form/fields/fieldmodel","widgetutil","text!form/fields/textparagraph/textparagraph.html"],function(a,o,r,e){return a.templates.tmpl_textparagraph=e,function(e,t,i){o.apply(this,[e,t,i]);var n=this;this.template=a.observable("tmpl_textparagraph"),this.height=a.observable(this.displayHeight()),this.isScrolledTillBottom=!this.mustReadValidation,this.element=null,setTimeout(function(){var e=document.getElementById("dcf-container-"+n.fieldId());n.element=e&&e.children&&e.children[0]?e.children[0]:null},1e3),this.onScroll=r.debounce(function(e,t){n.element=t.target,n.validateMustRead(),n.showHideError()},500),this.beforeSubmit=function(){return this.validateMustRead(),this.showHideError(),this.isScrolledTillBottom},this.validateMustRead=function(){this.isScrolledTillBottom||this.element&&this.element.getBoundingClientRect().height+this.element.scrollTop>=this.element.scrollHeight&&(this.isScrolledTillBottom=!0)},this.showHideError=function(){this.isScrolledTillBottom?(this.validationMsg(""),this.serverValid(!0)):(this.validationMsg(this.mustReadValidationText),this.serverValid(!1))}}}),dcf.define("text!form/fields/language/language.html",[],function(){return'<label class="field-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n<div data-bind="attr: {class: field.fieldIconClass}">\r\n    <div class="select-wrapper">\r\n        \x3c!-- ko if: field.hasNoDefaultValue() --\x3e\r\n        <select data-bind="\r\n                attr: { \r\n                    id: field.fieldId(), \r\n                    name: field.fieldName_original, \r\n                    disabled: field.readOnly || field.disableBrowserValidation() \r\n                }, \r\n                options: field.valueSelection, \r\n                optionsText: \'Value\', \r\n                optionsValue: \'Key\', \r\n                value: field.value, \r\n                optionsCaption: field.selectOptionText, \r\n                event: {\r\n                    focus: onFocus, \r\n                    blur: onBlur\r\n                }, \r\n                css: { \r\n                    readOnly : field.readOnly \r\n                }">\r\n        </select>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko ifnot: field.hasNoDefaultValue() --\x3e\r\n        <select data-bind="\r\n                attr: { \r\n                    id: field.fieldId(), \r\n                    name: field.fieldName_original, \r\n                    disabled: field.readOnly || field.disableBrowserValidation() \r\n                }, \r\n                options: field.valueSelection, \r\n                optionsText: \'Value\', \r\n                optionsValue: \'Key\', \r\n                value: field.value, \r\n                event: {\r\n                    focus: onFocus, \r\n                    blur: onBlur\r\n                }, css: { \r\n                    readOnly : field.readOnly \r\n                }">\r\n        </select>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n    \x3c!-- ko if: field.tooltip() --\x3e\r\n    <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n'}),dcf.define("form/fields/language/language",["knockout","form/fields/fieldmodel","text!form/fields/language/language.html"],function(a,o,e){return a.templates.tmpl_language=e,function(n,e,t,i){i&&"pathfinder"==i.toLowerCase()&&n.QuestionareId&&(n.SelectOptionText=""),this.onFocus=function(){this.hasFocus(!0)},this.onBlur=function(){this.isActive(!!this.value()),this.hasFocus(!1)},o.apply(this,[n,e,t]),this.template=a.observable("tmpl_language"),this.isActive(!!this.value()),this.setSource=function(e){if(this.sourceFieldId&&(this.sourceField=this.findField(e,this.sourceFieldId)),this.sourceField){this.source=a.observable(this.sourceField);var t=this.source().value();this.source().value.subscribe(function(e){this.selectLanguage(e)},this)}if(!this.value()){var i=t||n.DefaultKey;i&&this.selectLanguage(i)}},this.selectLanguage=function(t){var e=a.utils.arrayFirst(n.LanguageForCountryCodes,function(e){return 0<=e.Key.indexOf(t)});e&&e.Value&&(this.value(e.Value),this.isActive(!0))}}}),dcf.define("text!form/fields/addresslookup/addresslookup.html",[],function(){return'\r\n<label class="field-label lookup-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n<div data-bind="attr:{class: field.fieldIconClass + \' addresslookup-wrapper\'}">\r\n    <div class="text-wrapper postcode">\r\n        <input type="text" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder, maxlength: field.maxlength, autocomplete:field.autocomplete},  value: field.postcode, event: {focus: active, blur: inactive}" />\r\n    </div>\r\n    <div class="button-wrapper lookupbutton">\r\n        <input type="button" data-bind="value: field.uploadFileButtonText, attr: { name: field.fieldName_original,  id: \'dcf-\' + field.fieldName() }, click: onAddressLookup" class="lookup-button">\r\n        <div data-bind="{css: loaderCss}">\r\n            <span></span>\r\n        </div>\r\n    </div>\r\n  \r\n    <div class="select-wrapper addresslist" data-bind="{css: hiddenCss}">\r\n        <select data-bind="event: { mouseover: active, focus:active, mouseout: inactive, blur: inactive}, attr: { id: \'dcf-addresslist\' + field.fieldId(), name: \'dcf-addresslist\' + field.fieldName_original }, options: field.addressOptions, optionsText: \'Value\', optionsValue: \'Key\', value: field.address"></select>\r\n    </div>\r\n    \x3c!-- ko if: field.tooltip --\x3e\r\n    <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n\r\n\r\n'}),dcf.define("form/fields/addresslookup/addresslookup",["knockout","form/fields/fieldmodel","widgetutil","text!form/fields/addresslookup/addresslookup.html"],function(s,a,l,e){var d;return s.templates.tmpl_addresslookup=e,function(e,o,t,i,n){a.apply(this,[e,o,t]);var r=this;this.template=s.observable("tmpl_addresslookup"),this.settings=n,this.countryCode="",this.loaderCss=s.observable(""),this.selectOptionText=this.selectOptionText?this.selectOptionText:"",this.selectOptionText2=this.selectOptionText2?this.selectOptionText2:"",this.selectOptionText3=this.selectOptionText3?this.selectOptionText3:"",this.preventValueSubmit=!1,this.address=s.observable(),this.postcode=s.observable(this.value()),this.hiddenCss=s.observable("hidden"),this.addressOptions=s.observableArray([]),this.value.subscribe(function(){r.postcode(r.value())}),this.onUpdateComplete=function(){d&&(r.setDataInFields(d),d=null)},this.getSubmitValue=function(){return{Key:this.fieldName_original,Value:this.postcode()}},this.address.subscribe(function(){if(!r.preventValueSubmit){var e,t,i=r.addressOptions();for(e=0;t=i[e];e++)if(t.FormattedAddress===r.address()){d=t,r.value()===r.postcode()&&r.setDataInFields(t);break}r.value(r.postcode())}}),this.isActive(!!this.postcode()||!!this.placeholder),this.active=function(){this.hasFocus(!0)},this.inactive=function(){this.isActive(!!this.postcode()||!!this.placeholder),this.hasFocus(!1)},this.onAddressLookup=function(){r.loaderCss("loader"),function(e,t){r.countryCode||(i=r.findFirstFieldOfType(o,"Country"))&&(r.source=s.observable(i),r.countryCode=r.source().value(),r.source().value.subscribe(function(e){r.countryCode=e}));var i;var n=r.settings.serviceRoot+"/matchcode/Search",a={searchText:e.searchText,PostCode:e.postCode,FieldName:e.fieldName,CountryCode:r.countryCode,WorkFlowInstanceId:r.settings.getInstanceId(),MaxRows:50};l.post(n,a,function(e){t&&(r.countryCode||(r.countryCode=e.CountryCode),t(e.Result))})}({postCode:this.postcode()},function(e){r.preventValueSubmit=!0,e=e||[],r.addressOptions.removeAll(),r.addressOptions.push({Key:"",Value:r.selectOptionText}),r.selectOptionText2&&e.length&&r.addressOptions.push({Key:r.selectOptionText2,Value:r.selectOptionText2}),r.selectOptionText3&&0===e.length&&r.addressOptions.push({Key:r.selectOptionText3,Value:r.selectOptionText3}),e.map(function(e){e.Value=e.FormattedAddress,e.Key=e.FormattedAddress,r.addressOptions.push(e)}),r.preventValueSubmit=!1,r.loaderCss(""),r.hiddenCss("")})},this.setDataInFields=function(e){if(e){var t=[{Key:"Postcode",Value:e.PostCode},{Key:"State",Value:e.StateRegion},{Key:"City",Value:e.Town},{Key:"City of Birth",Value:e.Town},{Key:"Street",Value:e.Street},{Key:"Building Number",Value:e.BuildingNumber}],i=e.SubBuilding||"";e.BuildingName&&(i+=" "+e.BuildingName),t.push({Key:"Building Name",Value:i.trim()}),o.batchSubmitTextFields(t)}}}}),dcf.define("text!form/fields/postcodelookup/postcodelookup.html",[],function(){return'\r\n<label class="field-label lookup-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n<div data-bind="attr:{class: field.fieldIconClass + \' addresslookup-wrapper\'}">\r\n    <div class="text-wrapper postcode">\r\n        <input type="text" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder, maxlength: field.maxlength, autocomplete:field.autocomplete},  value: field.postcode, event: {focus: active, blur: inactive}" />\r\n    </div>\r\n    <div class="button-wrapper lookupbutton">\r\n        <input type="button" data-bind="value: field.uploadFileButtonText, attr: { name: field.fieldName_original,  id: \'dcf-\' + field.fieldName() }, click: onAddressLookup" class="lookup-button">\r\n        <div data-bind="{css: loaderCss}">\r\n            <span></span>\r\n        </div>\r\n    </div>\r\n  \r\n    <div class="select-wrapper addresslist" data-bind="{css: hiddenCss}">\r\n        <select data-bind="event: { mouseover: active, focus:active, mouseout: inactive, blur: inactive}, attr: { id: \'dcf-addresslist\' + field.fieldId(), name: \'dcf-addresslist\' + field.fieldName_original }, options: field.addressOptions, optionsText: \'Value\', optionsValue: \'Key\', value: field.address"></select>\r\n    </div>\r\n    \x3c!-- ko if: field.tooltip --\x3e\r\n    <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n\r\n\r\n'}),dcf.define("form/fields/postcodelookup/postcodelookup",["knockout","form/fields/fieldmodel","widgetutil","text!form/fields/postcodelookup/postcodelookup.html"],function(r,s,l,e){var d,c;return r.templates.tmpl_postcodelookup=e,function(e,a,t,i,n){s.apply(this,[e,a,t]);var o=this;this.template=r.observable("tmpl_postcodelookup"),this.settings=n,this.countryCode="",this.loaderCss=r.observable(""),this.selectOptionText=this.selectOptionText?this.selectOptionText:"",this.selectOptionText2=this.selectOptionText2?this.selectOptionText2:"",this.selectOptionText3=this.selectOptionText3?this.selectOptionText3:"",this.preventValueSubmit=!1,this.address=r.observable(),this.postcode=r.observable(this.value()),this.hiddenCss=r.observable("hidden"),this.addressOptions=r.observableArray([]),this.value.subscribe(function(){o.postcode(o.value())}),this.onUpdateComplete=function(){d&&(o.setDataInFields(d),d=null)},this.getSubmitValue=function(){return{Key:this.fieldName_original,Value:this.postcode()}},this.address.subscribe(function(){if(!o.preventValueSubmit){var e,t,i=o.addressOptions();for(e=0;t=i[e];e++)if(t.Id===o.address()){d=t,o.setDataInFields(t);break}}}),this.isActive(!!this.postcode()||!!this.placeholder),this.active=function(){this.hasFocus(!0)},this.inactive=function(){this.isActive(!!this.postcode()||!!this.placeholder),this.hasFocus(!1)},this.onAddressLookup=function(){o.loaderCss("loader");var n=this.postcode();!function(e,t){o.countryCode||function(){var e=o.findFirstFieldOfType(a,"Country");e||(e=o.findField(a,"Country"));e&&(o.source=r.observable(e),o.countryCode=o.source().value(),o.source().value.subscribe(function(e){o.countryCode=e}))}();var i=o.settings.serviceRoot+"/matchcode/SearchPostcode",n={PostCode:e.postCode,CountryCode:o.countryCode,WorkFlowInstanceId:o.settings.getInstanceId(),SearchLevel:"POSTCODE",MaxRows:50};l.post(i,n,function(e){t&&(o.countryCode||(o.countryCode=e.CountryCode),t(e.Result))})}({postCode:n},function(e){o.preventValueSubmit=!0,e=e||[];var t,i=o.addressOptions;i.removeAll(),i.push({Key:"",Value:o.selectOptionText}),o.selectOptionText2&&e.length&&i.push({Key:o.selectOptionText2,Value:o.selectOptionText2}),o.selectOptionText3&&0===e.length&&i.push({Key:o.selectOptionText3,Value:o.selectOptionText3}),e.forEach(function(e){e.Value=[e.Street,e.Town,e.StateRegion,e.PostCode].join(", "),e.Key=e.Id,i.push(e),t=e}),o.preventValueSubmit=!1,o.loaderCss(""),1===e.length&&t.Street?(t.PostCode=n,o.address(t.Key),o.hiddenCss("hidden")):o.hiddenCss("")})},this.setDataInFields=function(e){if(e){if(c&&c.Id===e.Id)return;c=e,a.batchSubmitTextFields([{Key:"Postcode",Value:e.PostCode},{Key:"State",Value:e.StateRegion},{Key:"City",Value:e.Town},{Key:"City of Birth",Value:e.Town},{Key:"Street",Value:e.Street}])}}}}),dcf.define("text!form/fields/googleaddresslookup/googleaddresslookup.html",[],function(){return'\x3c!-- ko template: {afterRender: field.afterRender}--\x3e\r\n<label class="field-label lookup-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n<div data-bind="attr:{class: field.fieldIconClass + \' googleaddresslookup-wrapper\'}">\r\n    <div class="query">\r\n        <input type="text" autocomplete="off" data-bind="\r\n            attr: {\r\n                name: field.fieldName_original,\r\n                id: field.fieldId(),\r\n                placeholder: field.placeholder,\r\n                maxlength: field.maxlength,\r\n                autocomplete:field.autocomplete\r\n            },\r\n            value: field.value,\r\n            event: {\r\n                focus: active,\r\n                blur: inactive,\r\n                keypress: onEnter\r\n            }" />\r\n        <div class="google_searchicon"></div>\r\n    </div>\r\n  \r\n    \x3c!-- ko if: field.tooltip --\x3e\r\n    <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n    \x3c!-- /ko --\x3e\r\n    <div class="hidden" data-bind="attr: { id: field.fieldId() + \'_places\' }"></div>\r\n</div>\r\n\r\n\r\n'}),dcf.define("dcfGooglePlaces",[],function(){var s;return{getInstance:function(e,t){if(void 0!==s)return t(s);if("string"==typeof e){var i="dcf_gmaps_"+(new Date).getTime();window[i]=function(){s=window.google&&window.google.maps,t(s)};var n="https://maps.googleapis.com/maps/api/js?key=#KEY#&libraries=places&callback=#CALLBACK#".replace(/#KEY#/,e).replace(/#CALLBACK#/,i),a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("src",n);var o=document.getElementsByTagName("head")[0],r=o.getElementsByTagName("script")[0];o.insertBefore(a,r)}},getPlaceValue:function(e,t,i){i=i||"long_name";var n=e.address_components.find(function(e){if(e.types.find(function(e){return e===t}))return e});if(n)return n[i]}}}),dcf.define("form/fields/googleaddresslookup/googleaddresslookup",["knockout","form/fields/fieldmodel","widgetutil","text!form/fields/googleaddresslookup/googleaddresslookup.html","dcfGooglePlaces"],function(r,s,l,e,d){return r.templates.tmpl_googleaddresslookup=e,function(i,n,e,t,a){var o=this;s.apply(this,[i,n,e]),this.template=r.observable("tmpl_googleaddresslookup"),this.settings=a,this.countryCode="",this.loaderCss=r.observable(""),this.selectOptionText=this.selectOptionText?this.selectOptionText:"",this.selectOptionText2=this.selectOptionText2?this.selectOptionText2:"",this.selectOptionText3=this.selectOptionText3?this.selectOptionText3:"",this.hiddenCss=r.observable("hidden"),this.suppressSubmit=!0,this.autocomplete=null,this.places=null,this.placesElement=document.createElement("div"),this.placeDetailFields=["place_id","address_components","formatted_address"],this.value.subscribe(function(){}),this.getSubmitValue=function(){return{Key:this.fieldName_original,Value:this.value()}},this.isActive(!!this.value()||!!this.placeholder),this.active=function(){this.hasFocus(!0),this.setCountrySource()},this.inactive=function(){this.isActive(!!this.value()||!!this.placeholder),this.hasFocus(!1)},this.onEnter=function(e,t){return t.stopPropagation(),13!==t.keyCode},this.afterRender=function(){if("function"==typeof o.settings.getInstanceId){o.setCountrySource();var e=i.GoogleMapsApiKey,t=o.setupAutocomplete.bind(o);d.getInstance(e,t)}},this.setupAutocomplete=function(e){var t=document.getElementById(this.fieldId()),i=document.getElementById(this.fieldId()+"_places");if(!t||!i)return setTimeout(this.setupAutocomplete.bind(this,e),100);this.serviceStatus=e.places.PlacesServiceStatus,this.places=new e.places.PlacesService(i);var n={types:["address"],fields:["place_id"],componentRestrictions:{country:this.countryCode}};this.autocomplete=new e.places.Autocomplete(t,n),this.autocomplete.addListener("place_changed",this.onPlaceChanged.bind(this))},this.onPlaceChanged=function(){var e=window.place=this.autocomplete.getPlace();this.places.getDetails({placeId:e.place_id,fields:this.placeDetailFields},this.setDataInFields.bind(this))},this.setCountrySource=function(){var e=o.findFirstFieldOfType(n,"Country");e?(o.source=r.observable(e),o.setCountry(o.source().value()),o.source().value.subscribe(o.setCountry)):o.countryCode||o.getPreferredCountrySource()},this.getPreferredCountrySource=function(){var e=o.settings.getInstanceId(),t=o.settings.serviceRoot+"/dcf/"+e+"/preferredcountry";l.get(t,function(e){o.countryCode||o.setCountry(e)})},this.setCountry=function(e){o.countryCode=e,o.autocomplete&&o.autocomplete.setComponentRestrictions({country:e})},this.setDataInFields=function(e,t){if(t===this.serviceStatus.OK&&e){var i=[];i="General"==o.category?[{Key:o.fieldName(),Value:e.formatted_address},{Key:o.targetPostcode(),Value:d.getPlaceValue(e,"postal_code")},{Key:o.targetState(),Value:d.getPlaceValue(e,"administrative_area_level_1")},{Key:o.targetCity(),Value:d.getPlaceValue(e,"locality")},{Key:o.targetStreet(),Value:d.getPlaceValue(e,"route")},{Key:o.targetBuildingNumber(),Value:d.getPlaceValue(e,"street_number")}]:[{Key:"GoogleAddress",Value:e.formatted_address},{Key:"Postcode",Value:d.getPlaceValue(e,"postal_code")},{Key:"State",Value:d.getPlaceValue(e,"administrative_area_level_1")},{Key:"City",Value:d.getPlaceValue(e,"locality")},{Key:"City of Birth",Value:d.getPlaceValue(e,"locality")},{Key:"Street",Value:d.getPlaceValue(e,"route")},{Key:"Building Number",Value:d.getPlaceValue(e,"street_number")}],n.batchSubmitTextFields(i),o.suppressSubmit=!0}}}}),dcf.define("text!form/fields/optionspicker/optionspicker.html",[],function(){return'<div class="optionspicker-wrapper">\r\n    \x3c!-- ko if: field.displaylabel --\x3e\r\n    <label class="field-label" data-bind="attr: { \'for\': field.fieldName_original }, text: field.fieldName"></label>\r\n    \x3c!-- /ko --\x3e\r\n    <div data-bind="css : field.fieldLayout() || \'one-col\'" class="options-wrapper">\r\n        \x3c!-- ko foreach: {data: field.options, as: \'option\' }--\x3e\r\n        <div class="option" data-bind="html: option.Value, click: $parent.setSelectedValue, css: { selected: option.selected, readOnly : $parent.readOnly }, attr: { readonly: $parent.readOnly }"></div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>\r\n'}),dcf.define("form/fields/optionspicker/optionspicker",["knockout","form/fields/fieldmodel","text!form/fields/optionspicker/optionspicker.html"],function(s,l,e){return s.templates.tmpl_optionspicker=e,function(e,t,i){l.apply(this,[e,t,i]),this.template=s.observable("tmpl_optionspicker");var a=this,n=this.initialValue?this.initialValue.split(","):[];this.options=[];for(var o,r=0;o=e.ValueSelection[r];r++)o.Value=!o.Value||/<[a-z][\s\S]*>/i.test(o.Value)?o.Value:"<p>"+o.Value+"</p>",o.selected=s.observable(-1<n.indexOf(o.Key)),this.options.push(o);this.setSelectedValue=function(e){if(!a.readOnly()){for(var t,i=[],n=0;t=a.options[n];n++)t.Key==e.Key&&t.selected(!t.selected()),t.selected()&&i.push(t.Key);a.value(i.join(","))}},this.onUpdateComplete=function(e){var t=e.Value&&e.Value.Value;if(null!==t)for(var i,n=0;i=a.options[n];n++)i.selected(-1<t.indexOf(i.Key))}}}),dcf.define("text!form/fields/slider/slider.html",[],function(){return'<label class="field-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n<div data-bind="css: field.fieldIconClass" class="slider-error-handler">\r\n    <div class="slidecontainer">\r\n        <p data-bind="value: field.selectedValue(), html: field.selectedValue()"></p>\r\n        <input type="range" min="0"  step ="1" class="slider" data-bind="attr: { id: field.fieldId(), name: field.fieldName_original, max: field.maxValue, value: field.sliderValue(), list: \'slider_number_list\' + field.fieldName_original, disabled: field.readOnly || field.disableBrowserValidation()  }, value: field.sliderValue(), event: {input: onInput, change: onChange}, style:{backgroundImage: field.styleIndexValue()}" data-rangeslider />\r\n        \x3c!-- ko ifnot: field.hideSliderBullets --\x3e\r\n        <datalist class="range__list" data-bind="attr:{id: \'slider_number_list\' + field.fieldName_original}, foreach: field.valueSelection">\r\n            <option class="range__opt" data-bind="css: { fullOpacity: $index() <= $parent.sliderValue()}, event:{click : $parent.onClick}, attr: {\'data-id\': $index()}" ></option>\r\n        </datalist>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n    \x3c!-- ko if: field.tooltip() --\x3e\r\n    <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n'}),function(e){"use strict";"function"==typeof dcf.define&&dcf.define.amd?dcf.define("rangeSlider",[],e):"object"==typeof exports?module.exports=e():window.rangeslider=e()}(function(){"use strict";function e(){}var t,i=((t=document.createElement("input")).setAttribute("type","range"),"text"!==t.type),T="rangeslider",n={polyfill:!0,rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",fillClass:"rangeslider__fill",extraBarClass:"rangeslider__extra-bar",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"],changeEvent:["change","input"],onInit:e,onSlide:e,onSlideStart:e,onSlideEnd:e};function I(e,t){for(var i in t)e.style[i]=t[i]}function F(e,t){var i=function(e){for(var t,i=[],n=e.parentNode;(t=n)&&(0===t.offsetWidth||0===t.offsetHeight||!1===t.open);)i.push(n),n=n.parentNode;return i}(e),n=i.length,a=[],o=e[t];function r(e){void 0!==e.open&&(e.open=!e.open)}if(n){for(var s=0;s<n;s++)a[s]=i[s].style.cssText,I(i[s],{display:"block",height:"0",overflow:"hidden",visibility:"hidden"}),r(i[s]);o=e[t];for(var l=0;l<n;l++)i[l].style.cssText=a[l],r(i[l])}return o}function E(t,e,i){e.forEach(function(e){t.addEventListener(e,i)})}function N(t,e,i){e.forEach(function(e){t.removeEventListener(e,i)})}function V(e,t){var i=document.createElement(e);for(var n in t)i.setAttribute(n,t[n]);return i}function O(e){return void 0===e}function D(e,t,i){return e<t?t:i<e?i:e}return function(a,o){if(!(o=function(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var i in t)arguments[0][i]=t[i]}return arguments[0]}({},n,o)).polyfill||!i){var r,s,l,d,c,u,f,p,h,m,v=V("div",{class:o.rangeClass}),b=V("div",{class:o.handleClass}),g=V("div",{class:o.fillClass}),y=V("div",{class:o.extraBarClass});return v.appendChild(y),v.appendChild(g),v.appendChild(b),a.parentNode.insertBefore(v,a),I(a,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),window.addEventListener("resize",e),E(a,o.changeEvent,t),E(v,o.startEvent,function(e){if(e.preventDefault(),!a.disabled){E(document,o.moveEvent,x),E(document,o.endEvent,w);var t=k(e),i=a.getBoundingClientRect().left,n=function(e){for(var t=0;null!==e;)t+=e.offsetLeft,e=e.offsetParent;return t}(b)-i;S((t-r)/s),n<=t&&t<n+l&&(r=t-n),o.onSlideStart()}}),e(!0),a.value=f,o.onInit(),{update:e,destroy:function(){w(),window.removeEventListener("resize",e),N(a,o.changeEvent,t),a.removeAttribute("style"),v.parentNode.removeChild(v)}}}function e(e,t){var i,n=c;!0===e&&(c=parseFloat(a.getAttribute("min")||0),d=parseFloat(a.getAttribute("max")||100),f=parseFloat(a.value||c+(d-c)/2),n=parseFloat(a.extraBar||a.getAttribute("extra-bar")||c),u=parseFloat(a.getAttribute("step")||1)),l=F(b,"offsetWidth"),p=F(v,"offsetWidth"),s=p-l,r=l/2,m=(u+"").replace(".","").length-1,a.disabled?v.classList.add(o.disabledClass):v.classList.remove(o.disabledClass),S(C(f),t),i=C(D(n,c,d)),y.style.width=100*i+"%"}function x(e){e.preventDefault();var t=k(e);v.classList.add("rangeslider__focus"),S((t-r)/s)}function w(e){e&&e.preventDefault(),v.classList.remove("rangeslider__focus"),N(document,o.moveEvent,x),N(document,o.endEvent,w),o.onSlideEnd(h,f)}function k(e){var t=v.getBoundingClientRect().left,i=0;return O(e.pageX)?O(e.clientX)?e.touches&&e.touches[0]&&!O(e.touches[0].clientX)?i=e.touches[0].clientX:e.currentPoint&&!O(e.currentPoint.x)&&(i=e.currentPoint.x):i=e.clientX:i=e.pageX,i-t}function C(e){return(e-c)/(d-c)}function S(e,t){var i,n;n=D(e,0,1),e=C(i=+(u*Math.round(n*(d-c)/u)+c).toFixed(m)),g.style.width=b.style.left=100*e+"%",function(e,t){if(e===f)return;a.value=e,t||o.changeEvent.forEach(function(e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),t.origin=T,a.dispatchEvent(t)})}(i,t),f=i,h=e,o.onSlide(e,i)}function t(e){e.origin!==T&&S(C(a.value),!0)}}}),dcf.define("form/fields/slider/slider",["knockout","form/fields/fieldmodel","text!form/fields/slider/slider.html","modernizr","rangeSlider"],function(d,c,e,u,f){return d.templates.tmpl_slider=e,function(e,t,i,l){c.apply(this,[e,t,i]);var n,a=this.valueSelection(),o=e.Value&&e.Value.Value||e.DefaultKey||e.DefaultValue,r=null;this.sliderValue=d.observable(o);for(var s=0;s<a.length;s++)if(a[s].Key==o){this.sliderValue(s);break}!this.sliderValue()&&this.sliderValue(0),this.maxValue=a.length?a.length-1:1,this.value=d.computed(function(){return a.length&&a[this.sliderValue()]?a[this.sliderValue()].Key:null},this),this.selectedValue=d.computed(function(){return a.length&&a[this.sliderValue()]?a[this.sliderValue()].Value:null},this),this.onInput=function(e,t){this.sliderValue(t.target.value)},this.getBackgroundStyle=function(e,t,i){var n,a,o=(n=l)&&"rtl"===n.toLowerCase().substr(-3,3),r=(a=l)&&a.toLowerCase(),s=(e-t)/(i-t);return"deepsky"==r?["-webkit-gradient(","linear, ",(o?"right":"left")+" top, ",(o?"left":"right")+" top, ","color-stop("+s+", #0076ff), ","color-stop("+s+", rgb(230, 230, 230))",")"].join(""):"deepgrass"==r?["-webkit-gradient(","linear, ",(o?"right":"left")+" top, ",(o?"left":"right")+" top, ","color-stop("+s+", #468ccb), ","color-stop("+s+", rgb(230, 230, 230))",")"].join(""):["-webkit-gradient(","linear, ",(o?"right":"left")+" top, ",(o?"left":"right")+" top, ","color-stop("+s+", #4B89EC), ","color-stop("+s+", rgba(75, 137, 236, 0.3))",")"].join("")},this.onClick=function(e,t){o=t.target.getAttribute("data-id"),this.sliderValue(o)}.bind(this),this.setupPolyfill=function(){var e=document.querySelectorAll("[data-rangeslider]"),t=document.getElementsByClassName("rangeslider");if(0<e.length&&clearInterval(r),t&&e.length!==t.length)for(var i=0;i<e.length;i++){f(e[i]).update(!0)}},u.inputtypes.range||(r=setInterval(this.setupPolyfill,100)),this.styleIndexValue=d.computed(function(){return this.sliderValue()?this.getBackgroundStyle(this.sliderValue(),0,this.maxValue):null},this),n=this.onChange,this.onChange=function(e,t){this.sliderValue(t.target.value)},this.value.subscribe(function(){n.call(this)},this),this.isActive(this.value()?!!this.value().trim():""),this.template=d.observable("tmpl_slider"),this.setValueforComputed=function(e){e?this.sliderValue(e):this.sliderValue(0)}}}),dcf.define("text!form/fields/recaptcha/recaptcha.html",[],function(){return'<div data-bind="attr: {class: field.fieldIconClass, name: field.fieldName_original, id: field.fieldId()}">\r\n    <div id="dcf_captcha_container">\r\n    </div>\r\n</div>\r\n'}),dcf.define("dcfRecaptcha",[],function(){return{loadScript:function(){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","https://www.google.com/recaptcha/api.js");var t=document.getElementsByTagName("head")[0],i=t.getElementsByTagName("script")[0];t.insertBefore(e,i)},getInstance:function(){return window.grecaptcha}}}),dcf.define("form/fields/recaptcha/recaptcha",["knockout","form/fields/fieldmodel","text!form/fields/recaptcha/recaptcha.html","dcfRecaptcha"],function(u,f,e,p){return u.templates.tmpl_recaptcha=e,function(e,t,i,n,a){f.apply(this,[e,t,i]);var o=this,r=null,s=null,l=null,d=e.Value&&e.Value.Value||e.DefaultKey||e.DefaultValue;this.value=u.observable(d),p.loadScript(),this.template=u.observable("tmpl_recaptcha"),this.reCaptchaElementId=this.fieldId(),this.loadCaptcha=function(){var e=document.getElementById(o.reCaptchaElementId);e&&e.children.length&&(s=e.children[0]);var t=p.getInstance();void 0!==t&&s&&(r=t.render(s,{sitekey:o.googleRecapthcaSiteKey,callback:function(e){o.value(e)},hl:a?a.language:"en","error-callback":function(){}}),clearInterval(l))};var c=this.onChange;this.value.subscribe(function(){c.call(this)},this),this.onUpdateComplete=function(e){var t=p.getInstance();void 0===t||null==e.Value||e.Value.IsValid||t.reset(r)},l=setInterval(o.loadCaptcha.bind(o),100)}}),dcf.define("text!form/fields/bank/bank.html",[],function(){return'<label class="field-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n<div data-bind="attr: {class: field.fieldIconClass}">\r\n    \x3c!-- ko ifnot: field.isMultiLine --\x3e\r\n    \x3c!-- ko template: {afterRender: field.afterRender} --\x3e\r\n    <input type="text" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder, maxlength: field.maxlength, css:field.fieldIconClass},  value: field.value, textInput: field.textInput, event: {focus: onFocus, blur: onBlur, input: onInput}" />\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko if: field.isMultiLine --\x3e\r\n    \x3c!-- ko template: {afterRender: field.afterRender} --\x3e\r\n    <textarea type="text" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder}, value: field.value, textInput: field.textInput, event: {focus: onFocus, blur: onBlur, input: onInput }"></textarea>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko if: field.tooltip --\x3e\r\n    <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n'}),dcf.define("zengin",["widgetutil"],function(s){var i=window.define&&define.amd?"../node_modules/zengin-code/lib/zengin-data.js":"/widget/lib/zengin-code/zengin-data.js",o=[];function a(e){var t=e.join("|").toLowerCase();return"function"==typeof t.normalize&&(t+="|"+t.normalize("NFKD")),t}function r(e,t){var i=[t.name,t.kana,t.hira,t.roma],n=s.extractObjectValues(t.branches);return t.searchProperty=a(i),n.forEach(function(e){var t=[e.name,e.kana,e.hira,e.roma];e.searchProperty=a(t)}),e.push(t),e}function n(a,e){var t=i;"string"==typeof e&&(t=e+i),o.length&&a?a(o):s.get(t,function(e){var t,i,n;t=a,i=e,n=s.extractObjectValues(i),o=n.reduce(r,[]),t&&t(o)})}return{getData:n,searchBanks:function(e,t){n(function(e,t,i){if("string"!=typeof e||!e)return t([]);var n=e.toLowerCase().split(" "),a=i.filter(function(t){return n.every(function(e){return 0<=t.searchProperty.indexOf(e)})});return t(a)}.bind(this,e,t))},searchBranches:function(e,t,i){n(function(e,t,i,n){var a=[];if("string"!=typeof e||!e)return i(a);var o=e.toLowerCase().split(" "),r=n.find(function(e){return e.code===t});return r&&r.branches&&(a=s.extractObjectValues(r.branches).filter(function(t){return o.every(function(e){return 0<=t.searchProperty.indexOf(e)})})),i(a)}.bind(this,e,t,i))}}}),dcf.define("form/fields/bank/bank",["knockout","awesomplete","widgetutil","form/fields/fieldmodel","text!form/fields/bank/bank.html","zengin"],function(o,r,s,c,e,u){return o.templates.tmpl_street=e,function(e,l,t,i,n){var d=this;this.settings=n,this.countryCode="",this.resultList=[],this.afterRender=function(e,t){var i=e[1];d.awesomplete=new r(i,{list:[],maxItems:15,filter:function(e,t){return!0},data:function(e,t){var i=e.name,n=e.code;return{label:i+" "+e.roma,value:t+", Code:"+n}}.bind({fieldName:i})}),i.addEventListener("awesomplete-selectcomplete",function(e){d.setDataInFields(e)}),u.getData(null,n.serviceRoot)},this.onInput=function(e,t){a({searchText:d.textInput().toLowerCase(),fieldName:e.fieldName_original},function(e){this.awesomplete.list=e,d.resultList=e}.bind(d))},this.onFocus=function(){this.hasFocus(!0)},this.onBlur=function(){this.isActive(!!this.value()),this.hasFocus(!1)},c.apply(this,[e,l,t]),this.textInput=o.observable(this.value()),this.template=o.observable("tmpl_street"),this.isActive(!!this.value());var a=s.debounce(function(e,t){if("Smart Bank (JP)"===e.fieldName)u.searchBanks(e.searchText,t);else{var i=d.findField(l,"Bank Code (JP)");i&&i.value()&&u.searchBranches(e.searchText,i.value(),t)}},500);this.setDataInFields=function(e){var t=e.target,i=e.text.value.match(/Code.+?(\d+)/)[1],n=!1;"Smart Bank (JP)"===t.name&&(n=!0);var a=d.resultList.find(function(e){return e.code===i});if(a){var o=a.name,r=a.code;t.value=o;var s=[];s=n?s.concat([{Key:"Bank Name (JP)",Value:o},{Key:"Bank Code (JP)",Value:r},{Key:"Smart Branch (JP)",Value:""},{Key:"Branch Name (JP)",Value:""},{Key:"Branch Code (JP)",Value:""},{Key:"Smart Bank (JP)",Value:o}]):s.concat([{Key:"Branch Name (JP)",Value:o},{Key:"Branch Code (JP)",Value:r},{Key:"Smart Branch (JP)",Value:o}]),l.batchSubmitTextFields(s)}}}}),dcf.define("hkbankSearch",["widgetutil"],function(o){var i="/widget/lib/hk-bank/bank-data.js",r=[];function s(e,t){var i=[t.name,t.code];return t.searchProperty=i.join("|").toLowerCase(),e.push(t),e}function n(a,e){var t=i;"string"==typeof e&&(t=e+i),r.length&&a?a(r):o.get(t,function(e){var t,i,n;t=a,i=e,n=o.extractObjectValues(i),r=n.reduce(s,[]),t&&t(r)})}return{getData:n,searchBankData:function(e,t){n(function(e,t,i){var n=e.split(" "),a=i.filter(function(t){return n.every(function(e){return 0<=t.searchProperty.indexOf(e)})});t(a)}.bind(this,e,t))}}}),dcf.define("form/fields/bank/hkbank",["knockout","awesomplete","widgetutil","form/fields/fieldmodel","text!form/fields/bank/bank.html","hkbankSearch"],function(o,r,d,c,e,u){return o.templates.tmpl_hkbank=e,function(e,s,t,i,n){var l=this;this.settings=n,this.countryCode="",this.resultList=[],this.afterRender=function(e,t){var i=e[1];l.awesomplete=new r(i,{list:[],maxItems:15,filter:function(e,t){return!0},data:function(e,t){var i=e.searchProperty.split("|");return{label:i[0],value:t+", Code:"+i[1]}}.bind({fieldName:i})}),i.addEventListener("awesomplete-selectcomplete",function(e){l.setDataInFields(e)}),u.getData(null,n.serviceRoot)},this.onInput=function(e,t){a({searchText:l.textInput().toLowerCase(),fieldName:e.fieldName_original},function(e){this.awesomplete.list=e,l.resultList=e}.bind(l))},this.onFocus=function(){this.hasFocus(!0)},this.onBlur=function(){this.isActive(!!this.value()),this.hasFocus(!1)},c.apply(this,[e,s,t]),this.textInput=o.observable(this.value()),this.template=o.observable("tmpl_hkbank"),this.isActive(!!this.value());var a=d.debounce(function(e,t){u.searchBankData(e.searchText,t)},500);this.setDataInFields=function(e){var t=e.target,i=e.text.value.match(/Code.+?(\d+)/)[1],n=l.resultList.find(function(e){return e.code===i});if(n){var a=n.name,o=n.code;t.value=a;var r=[];r=r.concat([{Key:"BB Clearing Code",Value:o},{Key:"BB Name",Value:a},{Key:"Smart Bank (HK)",Value:a}]),s.batchSubmitTextFields(r)}}}}),dcf.define("text!form/fields/nace/nace.html",[],function(){return'<label class="field-label" data-bind="attr: { \'for\': field.fieldId() }, text: field.fieldName"></label>\r\n<div data-bind="attr: {class: field.fieldIconClass}">\r\n    \x3c!-- ko ifnot: field.isMultiLine --\x3e\r\n    \x3c!-- ko template: {afterRender: field.afterRender} --\x3e\r\n    <input type="text" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder, maxlength: field.maxlength, css:field.fieldIconClass},  value: field.value, textInput: field.textInput, event: {focus: onFocus, blur: onBlur, input: onInput}" />\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko if: field.isMultiLine --\x3e\r\n    \x3c!-- ko template: {afterRender: field.afterRender} --\x3e\r\n    <textarea type="text" data-bind="attr: { name: field.fieldName_original, id: field.fieldId(), placeholder: field.placeholder}, value: field.value, textInput: field.textInput, event: {focus: onFocus, blur: onBlur, input: onInput }"></textarea>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko if: field.tooltip --\x3e\r\n    <div class="tool-tip" data-bind="text: field.tooltip"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n'}),dcf.define("naceSearch",["widgetutil"],function(o){var t="/widget/lib/nace-code/nace-data.js",r=[];function s(e,t){var i=[t.Tekst,t.Text];return t["6-Code"]?i.push(t["6-Code"]):t["4-Code"]?i.push(t["4-Code"]):t["3-Code"]?i.push(t["3-Code"]):i.push(t["2-Code"]),t.searchProperty=i.join("|").toLowerCase(),e.push(t),e}function i(a,e){"string"==typeof e&&(t=e+t),r.length&&a?a(r):o.get(t,function(e){var t,i,n;t=a,i=e,n=o.extractObjectValues(i),r=n.reduce(s,[]),t&&t(r)})}return{getData:i,searchNaceData:function(e,t){i(function(e,t,i){var n=e.split(" "),a=i.filter(function(t){return n.every(function(e){return 0<=t.searchProperty.indexOf(e)})});t(a)}.bind(this,e,t))}}}),dcf.define("form/fields/nace/nace",["knockout","awesomplete","widgetutil","form/fields/fieldmodel","text!form/fields/nace/nace.html","naceSearch"],function(r,s,l,d,e,c){return r.templates.tmpl_nace=e,function(e,t,i,n){var a=this;this.settings=n,this.resultList=[],this.afterRender=function(e){var t=e[1];a.awesomplete=new s(t,{list:[],maxItems:15,filter:function(){return!0},data:function(e){var t=e.searchProperty.split("|");return{label:t[0]+"; Code:"+t[2],value:t[2]}}.bind({fieldName:t})}),c.getData(null,n.serviceRoot)},this.onInput=function(e){o({searchText:a.textInput().toLowerCase(),fieldName:e.fieldName()},function(e){this.awesomplete.list=e,a.resultList=e}.bind(a))},this.onFocus=function(){this.hasFocus(!0)},this.onBlur=function(){this.isActive(!!this.value()),this.hasFocus(!1)},d.apply(this,[e,t,i]),this.textInput=r.observable(this.value()),this.template=r.observable("tmpl_nace"),this.isActive(!!this.value());var o=l.debounce(function(e,t){c.searchNaceData(e.searchText,t)},500)}}),dcf.define("text!form/fields/tag/tag.html",[],function(){return'<label class="field-label" data-bind="attr: { \'for\': field.fieldName_original }, text: field.fieldName"></label>\r\n<div data-bind="{css: field.fieldIconClass}" class="tag-field">\r\n    <div class="tags-input" data-name="tags-input">\r\n        \x3c!-- ko foreach: field.selection --\x3e\r\n        <span class="tag" data-bind="attr:{id : $data}">\r\n            <span class="tag-data" data-bind="text: $data"></span><span class="close" data-bind="attr:{id : \'tag_\'  + $data, \'data-index\': $index()} , click: $parent.removeElement"></span>\r\n        </span>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko ifnot: field.allowNumbersOnly --\x3e\r\n            <input class="main-input" type="text" data-bind="event: {input: onInput, keypress: onEnter, focus: onFocus, blur: onBlur}" />\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: field.allowNumbersOnly --\x3e\r\n            <input class="main-input" type="number" data-bind="event: {input: onInput, keypress: onEnter, focus: onFocus, blur: onBlur, invalid: onInvalid}" />\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n    \x3c!-- ko if: field.allowFixedLength && field.hasFixedLengthText --\x3e\r\n    <div data-bind="attr: {class : \'display-text\'}, text: field.tagFixedLengthDisplayText"></div>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko if: field.allowNumbersOnly && field.hasNumbersOnlyDisplayText --\x3e\r\n    <div data-bind="attr: {class : \'display-text\'}, text: field.tagNumbersOnlyDisplayText"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>'}),dcf.define("form/fields/tag/tag",["knockout","form/fields/fieldmodel","widgetutil","text!form/fields/tag/tag.html"],function(r,s,e,t){return r.templates.tmpl_tag=t,function(e,t,i){s.apply(this,[e,t,i]);var n,a=this,o=[];null!=e.Value&&null!=e.Value.Value&&(null!=this.tagDelimiter&&""!=this.tagDelimiter?o=e.Value.Value.split(this.tagDelimiter):this.allowFixedLength&&0<this.fixedLength&&(o=e.Value.Value.match(new RegExp(".{1,"+this.fixedLength+"}","g")))),this.template=r.observable("tmpl_tag"),this.selection=r.observableArray(o),this.hasFixedLengthText=null!=this.tagFixedLengthDisplayText&&""!=this.tagFixedLengthDisplayText.trim(),this.hasNumbersOnlyDisplayText=null!=this.tagNumbersOnlyDisplayText&&""!=this.tagNumbersOnlyDisplayText.trim(),this.value=r.computed(function(){return this.selection().join(this.tagDelimiter)},this),n=this.onChange,this.onChange=function(){},this.value.subscribe(function(){n.call(this)},this),this.removeElement=function(e,t){var i=t.srcElement,n=null!=i?i.dataset.index:-1;-1<n&&(o.splice(n,1),this.selection(o))}.bind(this),this.onInput=function(e,t){t.stopPropagation();var i=t.srcElement,n=null!=i?i.value:"";return!a.allowFixedLength||n.length!=a.fixedLength||(o.push(n),a.selection(o),i.value="",!1)},this.onEnter=function(e,t){if(t.stopPropagation(),13!=t.keyCode)return!a.allowNumbersOnly||47<t.keyCode&&t.keyCode<58;if(!a.allowFixedLength){var i=t.srcElement,n=null!=i?i.value:"";0<n.length&&(o.push(n),a.selection(o),i.value="")}return!1},this.onFocus=function(){this.hasFocus(!0)},this.onBlur=function(){this.isActive(!!this.value()||!!this.placeholder),this.hasFocus(!1)},this.onInvalid=function(e,t){t.preventDefault()},this.isActive(!!this.value()||!!this.placeholder)}}),dcf.define("text!form/fields/fundingamounts/fundingamounts.html",[],function(){return'<div class="option-picker-container">\r\n    \x3c!-- ko if: field.displaylabel --\x3e\r\n    <label class="field-label" data-bind="attr: { \'for\': field.fieldName_original }, text: field.fieldName"></label>\r\n    \x3c!-- /ko --\x3e\r\n    <div data-bind="css: field.templateClass || \'options-wrapper\'">\r\n        \x3c!-- ko foreach: {data: field.options, as: \'option\' }--\x3e\r\n        <div class="option" data-bind="attr: { readonly: $parent.readOnly }, html: option.Value, click: $parent.setSelectedValue, css: { selected: option.selected, readOnly : $parent.readOnly() }"></div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>'}),dcf.define("form/fields/fundingamounts/fundingamounts",["knockout","widgetutil","form/fields/fieldmodel","text!form/fields/fundingamounts/fundingamounts.html","stringTemplateEngine"],function(a,o,r,e){return a.templates.tmpl_optionpicker=e,function(e,t,i){r.apply(this,[e,t,i]),this.template=a.observable("tmpl_optionpicker"),1==e.OptionPickerLayout?this.templateClass="options-wrapper-horizontal "+(e.FieldLayout||"two-col"):this.templateClass="options-wrapper",this.options=a.observableArray([]);var n=this;this.onUpdateComplete=function(e){var t=this.options().map(function(e){return e.ValueId});this.options.removeAll(),this.updateOptions(e);var i=this.options().map(function(e){return e.ValueId});!o.arrayObjectsCompare(t,i)&&this.value()&&this.value(null)},this.updateOptions=function(e){for(var t,i=0;t=e.ValueSelection[i];i++)t.selected=a.observable(t.Key==this.value()),this.options.push(t)},this.setSelectedValue=function(e){if(!n.readOnly()){n.value(e.Key);for(var t,i=0;t=n.options()[i];i++)t.selected(t.Key==n.value())}},this.updateOptions(e)}}),dcf.define("text!form/fields/voicemessagebutton/voicemessagebutton.html",[],function(){return'<label class="field-status-message" data-bind="css: hiddenCss , text: field.processingStatusMessage()"></label>\r\n<input type="button" data-bind="value: field.fieldName(), enable:!isDisabled2(), attr: { name: field.fieldName_original,  id: \'dcf-\' + field.fieldName() }, click: onVoiceMessageButtonClick" class="voice-message-button">'}),dcf.define("form/fields/voicemessagebutton/voicemessagebutton",["knockout","form/fields/fieldmodel","text!form/fields/voicemessagebutton/voicemessagebutton.html"],function(s,l,e){return s.templates.tmpl_voice_code_button=e,function(e,t,i){var n=1;l.apply(this,[e,t,i]),this.template=s.observable("tmpl_voice_code_button"),this.hiddenCss=s.observable("label-hidden");var a,o,r=(a=this.value(),o=parseInt(a,10),isNaN(o)?0:o);this.isDisabled2(n<=r),this.onVoiceMessageButtonClick=function(){this.isDisabled2()||(this.value(++r),this.isDisabled2(!0),this.hiddenCss(""))},this.onUpdateComplete=function(e){this.processingStatusMessage(e.ProcessingStatusMessage||"");var t=this;setTimeout(function(){t.hiddenCss("label-hidden")},5e3)}}}),dcf.define("text!form/fields/continueonmobilebutton/continueonmobilebutton.html",[],function(){return'<label class="field-status-message" data-bind="css: { \'label-hidden\': field.hideLabelCss() } , text: field.processingStatusMessage()"></label>\r\n<input type="button" data-bind="value: field.fieldName(), enable:!isDisabled2(), attr: { name: field.fieldName_original,  id: \'dcf-\' + field.fieldName() }, click: onContinueMessageButtonClick" class="voice-message-button">'}),dcf.define("form/fields/continueonmobilebutton/continueonmobilebutton",["knockout","form/fields/fieldmodel","text!form/fields/continueonmobilebutton/continueonmobilebutton.html"],function(s,l,e){return s.templates.tmpl_continue_on_mobile_button=e,function(e,t,i){var n=1;l.apply(this,[e,t,i]),this.template=s.observable("tmpl_continue_on_mobile_button"),this.hideLabelCss=s.observable(!0),this.value()||this.value("0");var a,o,r=(a=this.value(),o=parseInt(a,10),isNaN(o)?0:o);this.isDisabled2(n<=r),this.onContinueMessageButtonClick=function(){this.isDisabled2()||(this.value(++r),this.isDisabled2(!0),this.hideLabelCss(!this.processingStatusMessage()))},this.onUpdateComplete=function(e){this.processingStatusMessage(e.ProcessingStatusMessage||"");var t=this;setTimeout(function(){t.hideLabelCss()||t.hideLabelCss(!0)},5e3)}}}),dcf.define("text!form/fields/repeater/repeater.html",[],function(){return'<div data-bind="attr: {\'data-field-id\': field.fieldName_original}, css : {\'layout-50-50\' : field.showColumn2, \'navigation-with-buttons\' : field.showNavigationButtons, \'navigation-with-arrows\' : !field.showNavigationButtons }" class="repeater-container columns-container">\r\n    \x3c!--ko ifnot: field.showNavigationButtons--\x3e\r\n    <a class="field-icon prev icon-repeater-prev" data-bind="event:{ click: onPrevClick}, css:{ disabled: currentSlide() == 0 || disableIcon()}"></a>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko foreach: { data: field.repeaterDetails(), as: \'Repeater\'} --\x3e\r\n    <div class="frame-container" data-bind="css: { showSlide: $index() == $parent.currentSlide()}">\r\n        <div class="slide-control-buttons" data-bind="attr: {\'data-id\': $index()}, css: { removeElement : field.hasSourceField}">\r\n            <div class="removeframe" data-bind="attr : {\'data-id\': $index()}, event:{click : $parent.onRemoveSlideClick}, , css:{disable : $index() != ($parent.totalSlideCount() - 1)} ">\r\n                <div class="minusicon icon-remove-slide"></div>\r\n                \x3c!-- ko if: field.removeSlideText --\x3e\r\n                <a class="remove-a-slide-link" data-bind="attr : {title: field.removeSlideText, \'data-id\': $index()}, text: field.removeSlideText"></a>\r\n                \x3c!-- /ko --\x3e\r\n            </div>\r\n            <div class="addframe" data-bind="attr : {\'data-id\': $index()}, event:{click : $parent.onAddSlideClick}, css:{disable : ($index() != ($parent.totalSlideCount() - 1)) || ($parent.maxCountSet() && $index() == ($parent.maxItemsAllowed - 1))}">\r\n                <div class="plusicon icon-add-slide"></div>\r\n                \x3c!-- ko if: field.addNewSlideText --\x3e\r\n                <a class="add-a-slide-link" data-bind="attr : {title: field.addNewSlideText, \'data-id\': $index()}, text: field.addNewSlideText"></a>\r\n                \x3c!-- /ko --\x3e\r\n            </div>\r\n        </div>\r\n        <div class="repeater-column-container">\r\n            <div class="column-1 repeat-column">\r\n                \x3c!-- ko foreach: { data: Repeater.Col1Fields, as: \'childField\' } --\x3e\r\n                <div data-bind="attr: { id: \'cellfield-\' + childField.viewModel.fieldId(), \'data-field-id\': childField.viewModel.fieldName_original, \'data-field-type\': childField.viewModel.fieldType, \'data-field-category\': childField.viewModel.category, \'data-cmfield-category\': childField.viewModel.fieldCategory, \'class\': childField.viewModel.cssClasses }">\r\n                    \x3c!-- ko template: {name: childField.viewModel.template, data: childField.viewModel, as: \'field\'} --\x3e\r\n                    \x3c!-- /ko --\x3e\r\n                </div>\r\n                \x3c!-- ko ifnot: childField.isValid --\x3e\r\n                <div class="err-msg" data-bind="text: childField.viewModel.validationMsg"></div>\r\n                \x3c!-- /ko --\x3e\r\n                \x3c!-- /ko --\x3e\r\n            </div>\r\n            \x3c!-- ko if: field.showColumn2 --\x3e\r\n            <div class="column-2">\r\n                \x3c!-- ko foreach: { data: Repeater.Col2Fields, as: \'childField\' } --\x3e\r\n                <div data-bind="attr: { id: \'cellfield-\' + childField.viewModel.fieldId(), \'data-field-id\': childField.viewModel.fieldName_original, \'data-field-type\': childField.viewModel.fieldType, \'data-field-category\': childField.viewModel.category, \'data-cmfield-category\': childField.viewModel.fieldCategory, \'class\': childField.viewModel.cssClasses }">\r\n                    \x3c!-- ko template: {name: childField.viewModel.template, data: childField.viewModel, as: \'field\'} --\x3e\r\n                    \x3c!-- /ko --\x3e\r\n                </div>\r\n                \x3c!-- ko ifnot: childField.isValid --\x3e\r\n                <div class="err-msg" data-bind="text: childField.viewModel.validationMsg"></div>\r\n                \x3c!-- /ko --\x3e\r\n                \x3c!-- /ko --\x3e\r\n            </div>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!--ko ifnot: field.showNavigationButtons--\x3e\r\n        <a class="field-icon next icon-repeater-next"  data-bind="event:{ click: onNextClick}, css:{ disabled: currentSlide() == (totalSlideCount() - 1) || disableIcon()}" ></a> \r\n        <div class="dot-container">\r\n            \x3c!-- ko foreach: { data: repeaterDetails()} --\x3e\r\n            <span class="dot" data-bind="event:{click : $parent.onClick} , attr: {\'data-id\': $index()}, css: {active : $index() == $parent.currentSlide(), disabled: $parent.disableIcon() }"></span> \r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!--ko if: field.showNavigationButtons--\x3e\r\n    <div class="navigation-buttons-container" data-bind="css: { hidden: totalSlideCount() == 1}">\r\n        <input class="button-next" type="button" name="Next" data-bind="event:{ click: onNextClick}, value : field.navigationNextButtonText, css:{ disabled: disableIcon(), hidden : currentSlide() == (totalSlideCount() - 1) }" />\r\n        <input class="button-previous back-button" type="button"  name="Previous" data-bind=" event:{ click: onPrevClick}, value : field.navigationPreviousButtonText, css:{ disabled: disableIcon(), hidden: currentSlide() == 0 }" />\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n    <div data-bind="{css: loaderCss}">\r\n        <span></span>\r\n    </div>\r\n</div>\r\n'}),dcf.define("form/fields/repeater/repeater",["knockout","form/fields/fieldmodel","text!form/fields/repeater/repeater.html"],function(d,c,e){return d.templates.tmpl_repeater=e,function(e,n,t){c.apply(this,[e,n,t]);var i,a=this;this.currentSlideCount=0,this.command=d.observable(""),this.disableIcon=d.observable(!1),this.repeater=[];var o={slideCount:1};this.loaderCss=d.observable(""),o.Col1Fields=[],o.Col2Fields=[],this.repeater.push(o);for(var r=0;r<e.ChildFields.length;r++){var s=e.ChildFields[r],l=s.RepeaterCount;l>this.repeater.length?((o={}).slideCount=l,o.Col1Fields=[],o.Col2Fields=[],2==s.ContainerColumn?o.Col2Fields.push(s):o.Col1Fields.push(s),this.repeater[l-1]=o):2==s.ContainerColumn?this.repeater[l-1].Col2Fields.push(s):this.repeater[l-1].Col1Fields.push(s)}e.Value&&e.Value.Value&&(0<=e.Value.Value.indexOf("Add")||0<=e.Value.Value.indexOf("Remove"))&&(this.currentSlideCount=this.repeater.length-1),this.totalSlideCount=d.observable(this.repeater.length),this.currentSlide=d.observable(this.currentSlideCount),this.hasSourceField=!!this.sourceFieldId,this.value=d.observable(this.command),this.maxCountSet=d.observable(0<this.maxItemsAllowed),this.showColumn2="layout-50-50"==e.ContainerLayout,this.showNavigationButtons=e.NavigationLayout||!1,this.CheckForInvalidFields=function(e){for(var t=0;t<e.ChildFields.length;t++){var i=e.ChildFields[t];if(i.IsVisible&&i.Value&&!i.Value.IsValid){this.currentSlide(i.RepeaterCount-1),this.disableIcon(!0);break}}u(e.ChildFields,this.currentSlide(),n)},this.onClick=function(e,t){var i=t.target.getAttribute("data-id");a.currentSlide(i),u(a.childFields,a.currentSlide(),n)},this.onPrevClick=function(){a.currentSlide()&&(a.currentSlide(a.currentSlide()-1),this.value("isLastItem_False"),u(a.childFields,a.currentSlide(),n))},this.onNextClick=function(){a.currentSlide()<a.repeater.length-1&&a.currentSlide(parseInt(a.currentSlide(),10)+1),a.currentSlide()==a.repeater.length-1&&this.value("isLastItem_True"),u(a.childFields,a.currentSlide(),n)},this.onAddSlideClick=function(e){if((!a.maxCountSet()||a.maxItemsAllowed!=a.repeater.length)&&e.slideCount==a.repeater.length){var t="Add_"+a.repeater.length;a.loaderCss("loader"),a.value(t)}},this.onRemoveSlideClick=function(e){if(1<a.repeater.length&&e.slideCount==a.repeater.length){var t=a.repeater[a.repeater.length-1].Col1Fields.concat(a.repeater[a.repeater.length-1].Col2Fields).map(function(e){return{Key:e.FieldName,Value:""}});t.length&&n.batchSubmitTextFields(t),a.loaderCss("loader");var i="Remove_"+a.repeater.length;a.value(i)}},this.CheckForInvalidFields(e),this.repeaterDetails=d.observableArray(this.repeater),this.template=d.observable("tmpl_repeater"),i=this.onChange,this.onChange=function(){},this.value.subscribe(function(){i.call(this)},this),this.onUpdateComplete=function(e,t){this.disableIcon(!1),t&&this.CheckForInvalidFields(e)},this.currentSlide()==this.repeater.length-1?this.value("isLastItem_True"):this.value("isLastItem_False")};function u(e,t,i){for(var n=0;n<e.length;n++){var a=e[n];if(null!=i.findFieldOriginal){var o=i.findFieldOriginal(a.FieldName);o&&(a.RepeaterCount!=t+1?o.disableBrowserValidation(!0):a.RepeaterCount==t+1&&o.disableBrowserValidation(!1))}}}}),dcf.define("text!form/fields/status/status.html",[],function(){return'<div class="status-wrapper">\r\n    \x3c!-- ko if: field.displaylabel --\x3e\r\n    <label class="field-label" data-bind="attr: { \'for\': field.fieldName_original }, text: field.fieldName"></label>\r\n    \x3c!-- /ko --\x3e\r\n    <div >\r\n        \x3c!-- ko foreach: {data: field.options, as: \'option\' }--\x3e\r\n        <div class="option" data-bind="css: { highlighted: option.IsHighlighted}">            \r\n            <div class="status-text" data-bind="html: option.Value, css : option.iconclass" >           \r\n            </div>\r\n            <div class="vertical-progress-line"></div>\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>'}),dcf.define("form/fields/status/status",["knockout","form/fields/fieldmodel","text!form/fields/status/status.html"],function(s,l,e){return s.templates.tmpl_status=e,function(e,t,i){l.apply(this,[e,t,i]),this.template=s.observable("tmpl_status"),this.options=[];var n,a=this;this.parentForm=t;for(var o,r=0;o=e.ValueSelection[r];r++){if(o.selected=s.observable(o.Key==this.value()),o.iconclass="icon-status-"+o.Key,n=o.IsHighlighted?o.Key:n,o.Value)document.createElement("span").innerHTML=o.Value,a.options[a.options.length]=o}setTimeout(function(){n&&a.value(n)},0)}}),dcf.define("text!form/fields/statuslist/statuslist.html",[],function(){return'<div class="statuslist-wrapper">\r\n    \x3c!-- ko if: field.displaylabel --\x3e\r\n    <label class="field-label" data-bind="attr: { \'for\': field.fieldName_original }, text: field.fieldName"></label>\r\n    \x3c!-- /ko --\x3e\r\n    <div>\r\n        \x3c!-- ko foreach: {data: field.options, as: \'option\' }--\x3e\r\n        <div class="option" data-bind="css: { highlighted: option.IsHighlighted}">\r\n            <div class="status-text icon-person icon-checkmark" data-bind="html: option.Value">\r\n            </div>           \r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>'}),dcf.define("form/fields/statuslist/statuslist",["knockout","form/fields/fieldmodel","text!form/fields/statuslist/statuslist.html"],function(o,r,e){return o.templates.tmpl_statuslist=e,function(e,t,i){r.apply(this,[e,t,i]),this.template=o.observable("tmpl_statuslist"),this.options=[];this.parentForm=t;for(var n,a=0;n=e.ValueSelection[a];a++){if(n.selected=o.observable(n.Key==this.value()),n.IsHighlighted&&n.Key+",",n.Value)document.createElement("span").innerHTML=n.Value,this.options[this.options.length]=n}setTimeout(function(){},0)}}),dcf.define("text!form/fields/anchor/anchor.html",[],function(){return'<span class="anchor-tag" data-bind="html: field.content, click: field.anchorButtonClicked"></span>'}),dcf.define("form/fields/anchor/anchor",["knockout","form/fields/fieldmodel","text!form/fields/anchor/anchor.html"],function(r,s,e){return r.templates.tmpl_anchorbutton=e,function(e,t,i){s.apply(this,[e,t,i]),this.template=r.observable("tmpl_anchorbutton");var n,a,o=(n=this.value(),a=parseInt(n,10),isNaN(a)?0:a);this.anchorButtonClicked=function(e,t){if("A"==t.target.tagName)return this.value(++o),!0}}}),dcf.define("text!form/fields/resendcodebutton/resendcodebutton.html",[],function(){return'\r\n<input type="button" data-bind="value: field.fieldName(), enable:!isDisabled2(), attr: { name: field.fieldName_original, id: \'dcf-\' + field.fieldName() }, css: { \'disable-button\': isDisabled2() }, click: onResendCodeButtonClick" class="resend-code-button">'}),dcf.define("form/fields/resendcodebutton/resendcodebutton",["knockout","form/fields/fieldmodel","text!form/fields/resendcodebutton/resendcodebutton.html"],function(c,u,e){return c.templates.tmpl_resend_code_button=e,function(t,e,i){u.apply(this,[t,e,i]);var n=t.MaxResendCodeAllowed;this.template=c.observable("tmpl_resend_code_button");var a=this,o=t.ResendCodeTimer,r=this.fieldName();this.value()||this.value(0);var s,l,d=(s=this.value(),l=parseInt(s,10),isNaN(l)?0:l);this.isDisabled2(n<=d),this.onResendCodeButtonClick=function(){if(!a.isDisabled2())if(a.value(++d),a.isDisabled2(!0),0==o)a.value()==n?a.isDisabled2(!0):a.isDisabled2(!1);else if(a.value()!=n){a.fieldName(r+" ("+o+")");var e=setInterval(function(){o--,a.fieldName(r+" ("+o+")"),0==o&&(clearInterval(e),a.isDisabled2(!1),o=t.ResendCodeTimer,a.fieldName(r))},1e3)}}}}),dcf.define("form/formmodel",["knockout","widgetutil","idle","form/fields/fieldmodel","form/fields/checkbox/checkbox","form/fields/dropdown/dropdown","form/fields/number/number","form/fields/paragraph/paragraph","form/fields/radio/radio","form/fields/submit/submit","form/fields/backbutton/backbutton","form/fields/text/text","form/fields/email/email","form/fields/group/group","form/fields/date/date","form/fields/summary/summary","form/fields/phone/phone","form/fields/password/password","form/fields/fileupload/fileupload","form/fields/checkboxfield/checkboxfield","form/fields/container/container","form/fields/progress/progress","form/fields/optionpicker/optionpicker","form/fields/helplink/helplink","form/fields/questionset/questionset","form/fields/street/street","form/fields/verificationcode/verificationcode","form/fields/textparagraph/textparagraph","form/fields/language/language","form/fields/addresslookup/addresslookup","form/fields/postcodelookup/postcodelookup","form/fields/googleaddresslookup/googleaddresslookup","form/fields/optionspicker/optionspicker","form/fields/slider/slider","form/fields/recaptcha/recaptcha","form/fields/bank/bank","form/fields/bank/hkbank","form/fields/nace/nace","form/fields/tag/tag","form/fields/fundingamounts/fundingamounts","form/fields/voicemessagebutton/voicemessagebutton","form/fields/continueonmobilebutton/continueonmobilebutton","form/fields/repeater/repeater","form/fields/status/status","form/fields/statuslist/statuslist","form/fields/anchor/anchor","form/fields/resendcodebutton/resendcodebutton"],function(b,g,y,e,t,i,n,a,o,r,s,l,d,c,u,f,p,h,m,v,x,w,k,C,S,T,I,F,E,N,V,O,D,L,_,M,B,A,P,R,j,U,H,K,q,$,z){var Y,W,J,X,G={Text:l,Number:n,Checkboxes:t,SingleCheckbox:v,Dropdown:i,Radiobutton:o,Paragraph:a,Submit:r,BackButton:s,Email:d,Language:E,Country:i,Group:c,Date:u,Summary:f,Phone:p,Password:h,FileUpload:m,Container:x,Progress:w,Optionpicker:k,Optionspicker:D,HelpLink:C,Questionset:S,Street:T,VerificationCode:I,TextParagraph:F,Age:n,UpperCase:l,LowerCase:l,Replace:l,CountryName:l,AddressLookupPostcode:N,PostcodeLookup:V,GoogleAddressLookup:O,Add:n,Subtract:n,MaxValue:n,MinValue:n,FileSize:n,TextLength:n,AddDays:n,AddMonths:n,AddYears:n,IPAddressLocation:l,CountryFromPhone:l,Slider:L,Calculate:n,Concat:l,HTML:l,CardType:i,IssuerCountry:i,PaymentCurrency:i,reCAPTCHA:_,Boolean:v,AccountNumber:n,SortCode:n,BankLookup:M,HKBankLookup:B,NaceLookup:A,Tag:P,ValueSelectionText:l,Compare:l,ConvertToNumber:n,ConvertToDate:n,FundingAmounts:R,Capitalize:l,VoiceMessageButton:j,ContinueOnMobile:U,CustomPhone:p,Repeater:H,DatePart:n,MinMaxSlider:L,ExpiryYear:i,DayPart:n,MonthPart:n,YearPart:n,Status:K,StatusList:q,Nationality:i,Currency:i,FrenchProvince:i,Sector:i,Anchor:$,List:l,ResendCode:z};return function(e,u,a,s,t){var i,l,n,o,r,d=this;for(this.header=b.observable(e.Header),this.description=b.observable(e.Description?e.Description.trim():e.Description),this.isShowDescription=b.observable(!1),Y=b.observableArray([]),W=b.observableArray([]),J=a,this.fields=Y,this.buttons=W,this.submitDisabled=!1,this.backClickDisabled=!1,this.onAnyValueChange=function(){try{this.enableDisableSubmitButton&&this.enableDisableSubmitButton()}catch(e){}},this.enableAutoRefresh=e.EnableAutoRefresh,i=0;l=e.Fields[i];i++)if(o=G[l.FieldType],n="BackButton"==l.FieldType?new o(e.Fields[i],this,a,v):new o(e.Fields[i],this,a,u,t),"Submit"==l.FieldType||"BackButton"==l.FieldType?(this.buttons.push(n),this.submitDisabled=!l.IsEnable):this.fields.push(n),n.value.subscribe(this.onAnyValueChange,this),n.childFields&&0<n.childFields.length)if("Container"==l.FieldType)for(var c=1;c<=3;c++)for(var f=0;h=n.childFields[f];f++)h.ContainerColumn==c&&(o=G[h.FieldType],r="BackButton"==h.FieldType?new o(h,this,a,v):new o(h,this,a,u,t),(n.childFields[f].viewModel=r).value.subscribe(this.onAnyValueChange,this));else for(var p=0;p<n.childFields.length;p++){var h=n.childFields[p];o=G[h.FieldType],r="BackButton"==h.FieldType?new o(h,this,a,v):new o(h,this,a,u,t),(n.childFields[p].viewModel=r).value.subscribe(this.onAnyValueChange,this)}for(i=0,n="";n=this.fields()[i];i++)n.setSourceField(this);function m(e,t,i){var n=t.startsWith("cellfield-")?e.offsetParent.offsetTop+e.offsetTop:e.offsetTop;n>=i.scrollTop||(i.scrollTop=n)}function v(){var e=[],t=this;if(!this.backClickDisabled){for(var i,n=0;i=Y()[n];n++){e.push(i.getSubmitValue());for(var a,o=0;a=i.childFields[o];o++)"Submit"!=a.viewModel.fieldType()&&e.push(a.viewModel.getSubmitValue())}var r;for(n=0;r=W()[n];n++)if("BackButton"==r.fieldType()){e.push(r.getSubmitValue());break}this.backClickDisabled=!0,s(e,function(){t.backClickDisabled=!1})}}this.buttons.reverse(),this.findField=function(e){var t;for(t=0;t<this.fields().length;t++)if(this.fields()[t].fieldName()===e)return this.fields()[t];return null},this.findFieldOriginal=function(e){for(var t=0,i=this.fields();t<i.length;t++){if(i[t].fieldName_original===e)return i[t];for(var n=0,a=i[t].childFields;n<i[t].childFields.length;n++)if(a[n].viewModel&&a[n].viewModel.fieldName_original===e)return a[n].viewModel}return null},this.onInfoIconClick=function(){this.isShowDescription(!this.isShowDescription())},this.enableDisableSubmitButton=function(){var e=this.fields(),t=this.getFieldByType("Submit");if(this.submitDisabled=!t.isEnable(),t){for(var i,n=0;i=e[n];n++){if(!i.disableField()&&!i.isDisabled&&i.isVisible()&&i.isRequired()&&("SingleCheckbox"===i.fieldType()&&"false"===i.value()||!i.value()))return void t.isDisabled2(!0);for(var a,o=0;a=i.childFields[o];o++){var r=a.viewModel;if(!r.disableField()&&!r.isDisabled&&r.isVisible()&&r.isRequired()&&("SingleCheckbox"===r.fieldType()&&"false"===r.value()||!r.value()))return void t.isDisabled2(!0)}}t.isDisabled2(!1)}},setTimeout(this.enableDisableSubmitButton.bind(this),0),this.batchSubmitTextFields=function(e){e.forEach(function(e){e.FileData=""});var t=e.filter(function(e){var t=d.findFieldOriginal(e.Key);return t&&(t.suppressSubmit=!0,b.isComputed(t.value)?t.setValueforComputed&&t.setValueforComputed(e.Value):t.value(e.Value),t.suppressSubmit=!1),null!==t});this.submitDisabled=!0,a(t,function(){d.submitDisabled=!1})},this.onSubmitForm=function(e){if(!this.submitDisabled&&(this.getFieldByType("Submit").isVisible()||e)){var l,d,t=[],c=this;for(d=0;l=this.fields()[d];d++){if(l.beforeSubmit&&!l.beforeSubmit())return;t.push(l.getSubmitValue());for(var i,n=0;i=l.childFields[n];n++){if(l.beforeSubmit&&!l.beforeSubmit())return;t.push(i.viewModel.getSubmitValue())}}for(d=0;d<this.buttons().length;d++)l=this.buttons()[d],t.push(l.getSubmitValue());this.submitDisabled=!0,a(t,function(){c.submitDisabled=!1;var e="";for(d=0;l=c.fields()[d];d++){e||l.isValid()||(e="dcf-container-"+l.fieldId());for(var t,i=0;t=l.childFields[i];i++)e||t.viewModel.isValid()||(e="cellfield-"+t.viewModel.fieldId())}if(e){var n=document.getElementById(e),a=document.getElementsByClassName("dcf-container"),o=!!a.length&&a[0].classList.contains("has-top-progressbar");if(n)if(window.innerWidth<768&&a&&o)if("pathfinder"==u.toLowerCase()||"avatar"==u.toLowerCase()||"pathfinderrtl"==u.toLowerCase()){var r,s=n.parentNode;for(i=0;r=s;i++){if(r.classList.contains("dcf")||4==i){m(n,e,r.parentNode);break}s=r.parentNode}}else"saxo"!=u.toLowerCase()&&"saxortl"!=u.toLowerCase()||m(n,e,document.body);else g.scrollIntoView(n)}},void 0,!0)}},this.update=function(e,t){for(var i,n=this.fields().concat(this.buttons()),a=0;i=n[a];a++){var o=this.getFieldByName(e.Fields,i.fieldName_original);i.update(o,t);for(var r,s=0;r=i.childFields[s];s++)o=this.getFieldByName(e.Fields,r.viewModel.fieldName_original),r.viewModel.update(o,t)}this.enableDisableSubmitButton(),this.SendPollRequest(!0)},this.getFieldByName=function(e,t){for(var i,n=0;i=e[n];n++){if(i.FieldName==t)return i;for(var a,o=0;a=i.ChildFields[o];o++)if(a.FieldName==t)return a}},this.getFieldByType=function(e){for(var t,i=this.buttons(),n=0;t=i[n];n++)if(t.fieldType()==e)return t;var a=this.fields();for(n=0;l=a[n];n++){if(l.fieldType()==e)return l;for(var o,r=0;o=l.childFields[r];r++)if(o.viewModel.fieldType()==e)return o.viewModel}return null},this.isPollingActive=!0,this.SendPollRequest=function(){X&&clearTimeout(X),this.enableAutoRefresh&&this.isPollingActive&&(X=setTimeout(function(){"function"==typeof J&&J([{Key:"IsPingRequest",Value:!0}],function(){})},5e3))},this.SendPollRequest(),y.onIdle(function(){d.isPollingActive=!1}),y.onActive(function(){d.isPollingActive=!0,d.SendPollRequest()})}}),dcf.define("text!form/form.html",[],function(){return'<form method="POST" class="dcf" data-bind="submit: onSubmitForm">\r\n\r\n    \x3c!-- ko if: description --\x3e\r\n    <span name="header-info" class="info-icon" data-bind="click: onInfoIconClick"></span>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko if: header --\x3e\r\n    <h3 data-bind="html: header"></h3>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko if: description --\x3e\r\n    <div class="description" data-bind="html: description, css:{hidedescription: !isShowDescription()}"></div>\r\n    \x3c!-- /ko --\x3e\r\n    <div class="dummy">\r\n        \x3c!-- ko foreach: { data: fields, as: \'field\' } --\x3e\r\n        <div data-bind="attr: { id: \'dcf-container-\' + field.fieldId(), \'data-field-id\': field.fieldName_original, \'data-field-category\': field.category, \'data-cmfield-category\': field.fieldCategory, \'data-field-type\': field.fieldType, \'class\': field.cssClasses }">\r\n            \x3c!-- ko template: {name: field.template, data: field, as: \'field\'} --\x3e\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n        \x3c!-- ko ifnot: field.isValid --\x3e\r\n        <div class="err-msg" data-bind="html: field.validationMsg"></div>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: field.isValid() && field.validationMsg() --\x3e\r\n        <div class="err-msg warning" data-bind="html: field.validationMsg"></div>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- /ko --\x3e\r\n        <div class="buttons">\r\n            \x3c!-- ko foreach: { data: buttons, as: \'button\' } --\x3e\r\n            <span data-bind="attr: { id: button.fieldId, \'data-field-id\': button.fieldName_original, \'data-field-type\' : button.fieldType, \'class\': button.cssClasses }">\r\n                \x3c!-- ko template: {name: button.template, data: button, as: \'field\'} --\x3e\x3c!-- /ko --\x3e\r\n            </span>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n    </div>\r\n</form>\r\n'}),dcf.define("dcfSteps/form/form",["knockout","form/formmodel","text!form/form.html"],function(n,a,e){n.templates.form=e;var t=function(e){this.settings=e};return t.StepType="Form",t.prototype={render:function(e,t,a,n,i){var o=this;return this.settings=i,this.onSubmit=function(e,t,i,n){a(e,function(e){t&&(o.viewModel.update(e,n),t(e))},i)},this.onBackClick=function(e,t,i){n(e,function(e){t&&t(e),o.viewModel.update(e)},i)},this.form=this.createForm(e,t),this.form},createForm:function(e,t){var i=document.createElement("div");return i.id=t.toLowerCase(),i.setAttribute("data-bind","template: 'form'"),this.viewModel=new a(e,t,this.onSubmit,this.onBackClick,this.settings),n.applyBindings(this.viewModel,i),i}},t}),dcf.define("widgetui/actionTrigger",["widgetutil"],actionTrigger),dcf.define("dcfSteps/content",["widgetui/actionTrigger"],function(i){var e=function(){};return e.StepType="ContentPage",e.prototype={render:function(e,t){return this.content=this.createContent(e,t),i.setup(e,this.content),this.content},createContent:function(e,t){var i=document.createElement("div");return i.id=t.toLowerCase(),i.innerHTML=e.Template,i}},e}),dcf.define("dcfSteps/email",[],function(){var e=function(){};return e.StepType="Email",e.prototype={render:function(e,t,i){var n=document.createElement("div"),a=/#.*verify\/(.*?)\//.exec(document.location.href);return a&&i([{Key:"token",Value:a[1]}],function(){console.log("Submitted!")}),e&&e.Content&&(n.innerHTML=e.Content,n.id=t.toLowerCase()),n}},e}),dcf.define("dcfSteps/savesignup",[],function(){var e=function(){};return e.StepType="Save Signup",e.prototype={render:function(e,t){var i=document.createElement("div");return i.id=t.toLowerCase(),e&&(i.innerHTML=e.Content),i}},e}),dcf.define("dcfSteps/passwordrequestreset",[],function(){var e=function(){};return e.StepType="Password Request Reset",e.prototype={render:function(e,t){var i=document.createElement("div");return i.id=t.toLowerCase(),e&&(i.innerHTML=e),i}},e}),dcf.define("dcfSteps/unsubscription",[],function(){var e=function(){};return e.StepType="Unsubscription",e.prototype={render:function(e,t){var i=document.createElement("div");return i.id=t.toLowerCase(),e&&(i.innerHTML=e),i}},e}),dcf.define("dcfSteps/connect",[],function(){var e=function(){};return e.StepType="Signicat Connect",e.prototype={render:function(e,t,i,n){var a=document.createElement("div");a.id=t.toLowerCase(),this.onBackClick=n,this.onSubmit=i,e&&(a.innerHTML=e.Content);var o=a.getElementsByClassName("signicat-backbutton")[0];o&&(o.onclick=function(){this.onBackClick([{Key:"Back",Value:"Back"}])}.bind(this));var r=a.getElementsByClassName("WOConnect")[0];return r&&(r.onclick=function(){this.onSubmit([{Key:"Signup-Without-Signicat",Value:"True"},{Key:"Submit",Value:"Submit"}])}.bind(this)),a}},e});var WPCL=WPCL||{};WPCL.Library=function(){this.options={iframeIntegrationId:"",iframeBaseURL:"",iframeHelperURL:"",url:"https://payments.worldpay.com/",type:"lightbox",inject:"default",target:null,trigger:null,lightboxMaskOpacity:50,lightboxMaskColor:"#000000",accessibility:!1,language:"en",country:"",preferredPaymentMethod:"",successURL:"",cancelURL:"",failureURL:"",pendingURL:"",errorURL:"",resultCallback:null,debug:!1},this.iframeTitlesLanguageMap={bg:"Страници за плащане",bs:"Stranice za plaćanje",ca:"Pàgines de pagament",cs:"Platební stránky",cy:"Tudalennau talu",da:"Betalingssider",de:"Zahlungsseiten",el:"Σελίδες πληρωμής",en:"Payment Pages",es:"Páginas de pago",et:"Makse leheküljed",fi:"Maksusivut",fr:"Pages de paiement",hi:"भुगतान पेज",hr:"Stranice za plaćanje",hu:"Fizetési oldalak",it:"Pagine di pagamento",ja:"決済ページ",ko:"결제 페이지",lv:"Maksājumu lapas",nl:"Betaalpagina’s",no:"Betalingssider",pl:"Strony płatności",pt:"Páginas do pagamento",ro:"Pagini de plată",ru:"Страницы оплаты",si:"ගෙවීම් පිටු",sk:"Webové stránky na vykonávanie platieb",sl:"Plačilne strani",sv:"Betalningssidor",tr:"Ödeme Sayfaları",zh:"支付页面",th:"หน้าชำระเงิน",zh_TW:"支付頁面",es_CO:"Páginas de pago",pt_BR:"Páginas de pagamento"},this.padding=15,this.lightboxWidth=780,this.prefix="wp-cl",this.wpName=this.prefix,this.isPostMessage=!1,this.sdkInfoAlreadySent=!1,this.isFakeLoadEvent=!1,this.iframeTitleAndLanguage=null,this.onloadInject=null},WPCL.Library.prototype=function(){var t=function(){var e,t=this,i=(e=t.options.url,o(e)?e:e.replace(/&amp;/g,"&"));return o(t.options.iframeIntegrationId)&&b.call(t,"ERROR: iframe integration id is missing"),o(t.options.iframeHelperURL)&&b.call(t,"ERROR: iframe helper url is missing"),o(t.options.iframeBaseURL)&&b.call(t,"ERROR: iframe base url is missing"),i=i.replace("/hpp/","/hpp-iframe/"),i=n(i,"iframeIntegrationId",t.options.iframeIntegrationId),i=n(i,"iframeHelperURL",t.options.iframeHelperURL),i=n(i,"iframeBaseURL",t.options.iframeBaseURL),i=n(i,"language",t.options.language),i=n(i,"country",t.options.country),i=n(i,"preferredPaymentMethod",t.options.preferredPaymentMethod),i=n(i,"successURL",t.options.successURL),i=n(i,"cancelURL",t.options.cancelURL),i=n(i,"failureURL",t.options.failureURL),i=n(i,"pendingURL",t.options.pendingURL),i=n(i,"errorURL",t.options.errorURL),b.call(t,"url set to: "+i),i},o=function(e){return!e||0===e.length};var n=function(e,t,i){if(o(i)||o(t))return e;var n=new RegExp("[?&]"+t+"=");if(-1===e.search(n))return e+"&"+t+"="+encodeURIComponent(i);var a=new RegExp("[?&]"+t+"=[^&]");return-1===e.search(a)?e.replace(n,""):e},i=function(e){for(var t in e)this.options.hasOwnProperty(t)&&(this.options[t]=e[t]);this.wpName+="-",this.wpName+=this.options.target,b.call(this,"Overriding options with the following:"),b.call(this,JSON.stringify(this.options))},a=function(){b.call(this,"Setting up iframe..."),x.call(this),e.call(this)},e=function(){var t=this,e=document.getElementById(t.options.target);b.call(t,"Injecting iframe into page..."),null!=e?(t.iframeTitleAndLanguage=s.call(t),t.onloadInject=function(){r.call(t)},"immediate"===t.options.inject?r.call(t):"onload"===t.options.inject?window.addEventListener?(b.call(t,"The browser supports addEventListener"),window.addEventListener("load",t.onloadInject,!1)):window.attachEvent?(b.call(t,"The  browser supports attachEvent"),window.attachEvent("onload",t.onloadInject)):b.call(t,"ERROR: the  browser does not support an onload event-handler"):"default"===t.options.inject?window.onload=function(e){r.call(t),e&&e.target&&e.target!=document&&(t.isFakeLoadEvent=!0)}:b.call(t,"ERROR: accepted parameters are immediate, onload, default")):b.call(t,"ERROR: HTML target, specified by 'target' parameter, could not be found - target: "+t.options.target)},r=function(){document.getElementById(this.options.target).innerHTML="<div id='"+this.prefix+"'><iframe class='"+this.prefix+"-iframe' title='"+this.iframeTitleAndLanguage.title+"' id='"+this.wpName+"-iframe' src='"+this.options.iframeUrl+"' allowtransparency='yes' scrolling='no' frameBorder='0' border='0'></iframe></div>"},s=function(){var e={language:this.options.language,title:this.iframeTitlesLanguageMap[this.options.language]};return(o(e.language)||o(e.title))&&(e.language="en",e.title=this.iframeTitlesLanguageMap.en,b.call(this,"WARN: language '"+this.options.language+"'not found for parameter 'language', using default instead...")),e},l=function(){var e=!0;b.call(this,"Setting up lightbox..."),v(this.options.lightboxMaskOpacity)&&(b.call(this,"ERROR: parameter 'lightboxMaskOpacity' is NaN: "+this.options.lightboxMaskOpacity),e=!1),e&&(x.call(this),d.call(this))},d=function(){var e=this,t=document.getElementById(e.options.trigger);b.call(e,"Binding lightbox..."),null!=t?(t.onclick=function(){return c.call(e),!1},b.call(e,"Binded lightbox")):b.call(e,"ERROR: lightbox trigger (element) could not be found - trigger: "+e.options.trigger)},c=function(){var e=this,t=document.getElementById(e.options.target);if(b.call(e,"Injecting lightbox..."),null!=t){var i=s.call(e),n='<div id="'+e.prefix+'">';n+='<div id="'+e.prefix+'-mask" style="background: '+e.options.lightboxMaskColor+"; -ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity="+e.options.lightboxMaskOpacity+")'; filter:alpha(opacity="+e.options.lightboxMaskOpacity+"); opacity: "+m(e.options.lightboxMaskOpacity)+';"></div>',n+='<div role="dialog" style="margin: 0 0 0 -'+e.lightboxWidth/2+"px; width:"+e.lightboxWidth+'px; " id="'+e.prefix+'-lightbox">',n+='<div id="'+e.wpName+'" style="">',n+="<iframe onload='WPCL.focusElement(this);' class='"+e.prefix+"-iframe' title='"+i.title+"' id='"+e.wpName+"-iframe' src='"+e.options.iframeUrl+"' allowtransparency='yes' scrolling='no' frameBorder='0' border='0'></iframe>",n+="</div></div></div>",t.innerHTML=n,e.options.accessibility&&u.call(e),y(0)}else b.call(e,"ERROR: HTML target, specified by 'target' parameter, could not be found - target: "+e.options.target)},u=function(){var e=["a","input","select"],t=document.getElementById(this.options.target);b.call(this,"Setting accessibility features");for(var i=0;i<e.length;i++)for(var n=document.getElementsByTagName(e[i]),a=0;a<n.length;a++)n[a].tabIndex=-1;for(var o=0;o<e.length;o++)for(var r=t.getElementsByTagName(e[o]),s=0;s<r.length;s++)r[s].removeAttribute("tabindex")},f=function(){var e=document.getElementById(this.prefix),t=document.getElementById(this.options.trigger);b.call(this,"Destroying lightbox..."),e.parentNode.removeChild(e),this.options.accessibility&&(function(){var e=["a","input","select"];b.call(self,"Removing accessibility changes...");for(var t=0;t<e.length;t++)for(var i=document.getElementsByTagName(e[t]),n=0;n<i.length;n++)i[n].removeAttribute("tabindex")}.call(this),t.focus())},p=function(e,t){var i=h.call(this);if(null!=i)if(t||!this.isPostMessage){if(i.style.height=parseInt(e)+"px",b.call(this,"iframe resized - height: "+e),"lightbox"===this.options.type){var n=document.body,a=document.documentElement;Math.max(n.scrollHeight,n.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight)<e&&(document.body.style.height=parseInt(e)+"px",b.call(this,"lightbox container resized - height: "+e))}}else b.call(this,"WARN: iframe not found for height resize");else b.call(this,"WARN: iframe not found for height resize")},h=function(){var e=this.wpName+"-iframe",t=document.getElementById(e);return null==t&&b.call(this,"WARN - unable to find iframe - target name: "+e),t},m=function(e){return e/100},v=function(e){return"string"==typeof e||isNaN(e)},b=function(e){this&&this.options&&this.options.debug&&console&&console.log&&console.log("Worldpay HPP JavaScript SDK - "+e)},g=function(e){switch(this.options.type){case"lightbox":e?(y(e),b.call(this,"scrolled to top of lightbox currency conversion form.")):(y(0),b.call(this,"scrolled to top of lightbox."));break;case"iframe":var t=h.call(this);e?(y(e+t.offsetTop),b.call(this,"scrolled to top of iframe currency conversion form.")):(y(t.offsetTop),b.call(this,"scrolled to top of iframe."));break;default:b.call(this,"Integration type is not correct.")}},y=function(e){document.body.scrollTop=e,document.documentElement.scrollTop=e},x=function(){var t=this,e=function(e){w.call(t,e)};window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)},w=function(e){var t=this;this.isPostMessage=!0;var i=e.origin||e.originalEvent.origin,n=h.call(t),a=null!=n&&null!=n.src?n.src:null;if(null==a||0==a.indexOf(i)||(b.call(t,"WARN - post-message from different source - origin: "+i+", iframe: "+a),t.options.debug)){var o;try{o=JSON.parse(e.data)}catch(e){o=null}if(null!=o&&"hpp"==o.source&&null!=o.action&&null!=o.args)if(null!=o.id&&0<o.id.length&&o.id!=t.options.iframeIntegrationId)b.call(t,"ignoring message as different instance - req: "+o.id+", ours: "+t.options.iframeIntegrationId);else switch(o.action){case"check":k.call(t);break;case"resize":C.call(t,o);break;case"scroll":S.call(t,o);break;case"result":T.call(t,o);break;default:b.call(t,"unhandled action: "+o.action)}else b.call(t,"malformed post-message received - "+JSON.stringify(o))}},k=function(){b.call(this,"received postMessage mechanism check, replying back");var e={source:"hpp",action:"check-working",sdkInfo:I.call(this)},t=JSON.stringify(e),i=h.call(this);null!=i&&i.contentWindow&&i.contentWindow.postMessage?i.contentWindow.postMessage(t,"*"):b.call(this,"WARN: cannot reply back, iframe not found")},C=function(e){var t=e.args.height;b.call(this,"resizing iframe... - height: "+t),p.call(this,t,!0)},S=function(e){var t=e.args.scrollingOffset;b.call(this,"scrolling payments page into view"),g.call(this,t)},T=function(e){var t=e.args.result,i=this.options.resultCallback;null==i?b.call(this,"no result callback function specified, skipping callback invocation"):null==t?b.call(this,"null result from payment pages, skipping callback invocation"):(b.call(this,"invoking result callback"),i(t))},I=function(){var e,t=this;if(t.sdkInfoAlreadySent)e={alreadySent:"true"};else{var i=V.call(t),n=t.options.type,a=F.call(t),o=E.call(t),r=N.call(t),s=null!=t.options.resultCallback,l=t.options.inject;e={version:"12.2",saved:i,integrationType:n,insideFrame:a,parentCrossDomain:o,manualOnload:r,debug:t.options.debug,callback:s,inject:l},t.sdkInfoAlreadySent=!0}return e},F=function(){try{return top!=window}catch(e){return!0}},E=function(){try{return!(null!=parent&&parent.document)}catch(e){return!0}},N=function(){var e=!1;return"iframe"==this.options.type&&(e=this.isFakeLoadEvent),e},V=function(){for(var e,t=!0,i=document.getElementsByTagName("script"),n=0;t&&n<i.length;n++)null!=(e=i[n].src)&&0<e.indexOf(".worldpay")&&(t=!1);return t};return{setup:function(e){switch(b.call(this,"Setting up library..."),i.call(this,e),this.options.iframeUrl=t.call(this),this.options.type){case"iframe":a.call(this);break;case"lightbox":l.call(this);break;default:b.call(this,"ERROR: parameter 'type' is not a valid value")}},destroy:function(){"iframe"===this.options.type?function(){document.getElementById(this.options.target).innerHTML="","onload"===this.options.inject&&(window.removeEventListener?window.removeEventListener("load",this.onloadInject,!1):window.attachEvent?window.detachEvent("onload",this.onloadInject):b.call(this,"ERROR: the  browser does not support an onload event-handler"))}.call(this):"lightbox"===this.options.type?f.call(this):b.call(this,"ERROR: accepted types are lightbox, iframe")},resize:p,redirect:function(e){window.location.replace(e)},scroll:g}}(),WPCL.focusElement=function(e){document.activeElement!=e&&setTimeout(function(){e.focus()},0)},dcf.define("worldpay",function(e){return function(){return e.WPCL}}(this)),dcf.define("dcfSteps/payment",["widgetutil","worldpay"],function(o,r){var e=function(){};return e.StepType="Payment",e.prototype={render:function(e,t,i,n,a){var o=this;return this.onSubmit=i,this.content=this.createContent(e.Content,t),setTimeout(function(){o.createWorldpayIframe(e,a)},0),this.content},createContent:function(e,t){var i=document.createElement("div");return i.id=t.toLowerCase(),i.innerHTML=e,i},createWorldpayIframe:function(e,t){var i=this;(e=e||{}).iframeHelperUrl=o.getAbsoluteUrl(t.serviceRoot+"/dcf/worldpay_helper.html"),e.iframeBaseUrl=o.getAbsoluteUrl(t.serviceRoot+"/dcf/"),console.log(e);var n={language:e.Language,country:e.Country,preferredPaymentMethod:e.PreferredPaymentMethod,url:e.RedirectUrl,iframeHelperURL:e.iframeHelperUrl,iframeBaseURL:e.iframeBaseUrl,type:"iframe",iframeIntegrationId:"worldpayLibrary",inject:"immediate",target:"custom-html",trigger:"custom-trigger",accessibility:!0,debug:!0,resultCallback:function(e){console.log(e),i.handleResponse(e)}},a=new r.Library;setTimeout(function(){a.setup(n)},0)},handleResponse:function(e){e=e||{};var t=[{Key:"worldpayResponse",Value:JSON.stringify(e)},{Key:"Submit",Value:"Submit"}];this.onSubmit(t)}},e}),dcf.define("dcfSteps/myinfo",[],function(){var e=function(){};return e.StepType="MyInfo",e.prototype={render:function(e,t,i,n,a){var o=document.createElement("div");o.id=t.toLowerCase(),this.onBackClick=n,this.onSubmit=i,e&&(o.innerHTML=e.Content);var r=null!=o?o.getElementsByClassName("myinfo-backbutton"):null,s=null!=o?o.getElementsByClassName("WOMyInfo"):null;r.length&&(r[0].onclick=function(){console.log("clicked back button");this.onBackClick([{Key:"Back",Value:"Back"}])}.bind(this));s.length&&(s[0].onclick=function(){this.onSubmit([{Key:"Signup with MyInfo",Value:"False"},{Key:"Submit",Value:"Submit"}])}.bind(this));return o}},e}),dcf.define("dcfSteps/idNow",[],function(){var e=function(){};return e.StepType="IDnow",e.prototype={render:function(e,t,i,n,a){var o=document.createElement("div");o.id=t.toLowerCase(),this.onBackClick=n,e&&(o.innerHTML=e.Content||e);var r=null!=o?o.getElementsByClassName("idNow-backbutton"):null;r.length&&(r[0].onclick=function(){this.onBackClick([{Key:"Back",Value:"Back"}])}.bind(this));return o}},e}),dcf.define("dcfSteps/tinkpayment",["widgetutil"],function(e){var t=function(){};return t.StepType="TinkPayment",t.prototype={render:function(e,t,i,n,a){var o=this;return this.onSubmit=i,this.content=this.createContent(e.Content,t),setTimeout(function(){o.createTinkIframe(e,a)},0),this.content},createContent:function(e,t){var i=document.createElement("div");return i.id=t.toLowerCase(),i.innerHTML=e,i},createTinkIframe:function(e){var t=document.getElementById("custom-html"),i=document.createElement("iframe");i.setAttribute("src",e.PaymentInitiateUrl),i.frameBorder=0,i.setAttribute("id","_tink_frame_"),i.setAttribute("name","_tink_helper_"),i.style.width="95%",i.style.height="600px",t.appendChild(i),this.messagingSetup()},messagingSetup:function(){var t=this,e=function(e){t.handleResponse(e)};window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)},handleResponse:function(e){if(e.origin===window.location.origin&&"_tink_helper_"===e.source.window.name){var t=e.data||{},i=[{Key:"TinkPaymentResponse",Value:JSON.stringify(t)},{Key:"Submit",Value:"Submit"}];this.onSubmit(i)}}},t}),dcf.define("dcfSteps/postmessage",["widgetutil"],function(e){var t=function(){};return t.StepType="PostMessage",t.prototype={render:function(e,t,i,n,a){this.onSubmit=i;var o=!1;if(e){var r=JSON.parse(e);if(0<r.Parameters.length){var s={};r.Parameters.forEach(function(e){s[e.Name]=e.Value}),parent.postMessage(s,r.TargetOrigin),o=!0}}var l=[{Key:"Message Posted",Value:o},{Key:"Submit",Value:"Submit"}];this.onSubmit(l)}},t}),dcf.define("dcfSteps/openapi",["widgetutil"],function(e){var t=function(){};return t.StepType="OpenAPI",t.prototype={render:function(e,t,i){this.onSubmit=i;var n=this;if(this.loadingDiv=document.createElement("DIV"),this.loadingDiv.className="loading infinite-loader",this.loadingDiv.id="loading"+Math.random(),e){var a=JSON.parse(e.step),o="",r=a.Location,s=new XMLHttpRequest;if("string"==typeof a.TokenSourceForClient)switch(a.AccessTokenLocation){case 0:o=window.localStorage.getItem(a.TokenSourceForClient);break;case 1:o=window.sessionStorage.getItem(a.TokenSourceForClient);break;default:o=window[a.TokenSourceForClient]}switch(a.OperationType){case 0:s.open("get",r);break;case 1:s.open("post",r);break;case 2:s.open("put",r);break;case 3:s.open("delete",r);break;case 4:s.open("patch",r)}var l="";switch(a.ContentType){case 2:if(s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),0<a.Body.length){var d=[];a.Body.forEach(function(e){d.push(encodeURIComponent(e.Name)+"="+encodeURIComponent(e.Value))}),l=d.join("&").replace(/%20/g,"+")}break;case 0:s.setRequestHeader("Content-Type","application/json"),l=e.bodyRequest}return o&&s.setRequestHeader("Authorization","Bearer "+o),0<a.Headers.length&&a.Headers.forEach(function(e){s.setRequestHeader(e.Name,e.Value)}),s.send(l),s.onreadystatechange=function(){if(4===this.readyState){var e=s.statusText;0===s.status&&(e="Error - Request has been terminated. Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, or no header is present on the requested resource.");var t=[{Key:"Status",Value:s.status},{Key:"StatusText",Value:e},{Key:"ResponseText",Value:s.responseText},{Key:"Submit",Value:"Submit"}];n.onSubmit(t)}},this.loadingDiv}}},t}),dcf.define("dcfSteps/openapiauth",[],function(){var e=function(){};return e.StepType="OpenApiAuth",e.prototype={render:function(e,t,i){this.onSubmit=i,this.submitted=!1,e&&window._Dcf_OpenApiAuth_GetToken(e.IdpUrl),this.messageSetup(),setTimeout(this.handleResponse.bind(this),2e3)},handleResponse:function(e){if(!1===this.submitted){this.submitted=!0,e=e||{error:"unknown error"};var t=[{Key:"Submit",Value:"Submit"},{Key:"OpenApiAuthResponse",Value:JSON.stringify(e)}];this.onSubmit(t)}},messageSetup:function(){var t=this,e=function(e){e.origin===window.location.origin&&t.handleResponse(e.data)};window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)}},window._Dcf_OpenApiAuth_OnTokenReceived||(window._Dcf_OpenApiAuth_OnTokenReceived=function(e){e=e||{};var t=parseInt(e.expires_in);e.error||!e.access_token||isNaN(t)||(window._Dcf_OpenApiAuth_AccessToken=e.access_token,console.log("received..."),setTimeout(window._Dcf_OpenApiAuth_GetToken,1e3*(t-100)))}),window._Dcf_OpenApiAuth_GetToken||(window._Dcf_OpenApiAuth_GetToken=function(e){console.log("receiving token..."),e&&(window._Dcf_OpenApiAuth_Idp_Url=e);var t="dcf_implicit_grant_flow_iframe",i=document.getElementById(t);i||((i=document.createElement("iframe")).style.display="none",i.id=t,document.body.appendChild(i)),i.src=window._Dcf_OpenApiAuth_Idp_Url}),e}),dcf.define("dcfSteps/widgetSteps",["dcfSteps/form/form","dcfSteps/content","dcfSteps/email","dcfSteps/savesignup","dcfSteps/passwordrequestreset","dcfSteps/unsubscription","dcfSteps/connect","dcfSteps/payment","dcfSteps/myinfo","dcfSteps/idNow","dcfSteps/tinkpayment","dcfSteps/postmessage","dcfSteps/openapi","dcfSteps/openapiauth"],function(e,t,i,n,a,o,r,s,l,d,c,u,f,p){return[e,t,i,n,a,o,r,s,l,d,c,u,f,p]}),dcf.define("dcf",["widgetutil","modal","timer","domReady","knockout","widgetui/prompts","adobedtm","progressbar/progressbar","dcfSteps/widgetSteps"],function(k,C,n,e,t,u,a,S,c){function i(e,t,i,n,a,o,r,s,l,d){this.serviceRoot=i,this.cookiePostFix=l?"_"+l:"",this.language=t,this.theme=n,this.owner=a,this.hostPageUrl=d,this.simulationtradername=o,this.simulationtradertype=r,this.initialData=s,this.steps={},this.initialSteps=c,this.initialRender=!0,this.progressBarElement=null,this.customizedTemplateEle=null,this.showCloseIcon=!1,this.supportFullWidth=!1,this.HideProgressBarOnContentStep=!1,this.closeContent=null,this.isFirstUIStep=!1,this.isFirstStep=!1,this.isFinalStep=!1,this.isFlowPaused=!1,this.clearInstanceCookie=!1,this.customStyles=null,this.postQueue=[],this.wfId=e,this.loadingTimer=null,this.loadingDiv=document.createElement("DIV"),this.loadingDiv.className="loading infinite-loader",this.loadingDiv.id="loading"+Math.random(),this.styleLoaded=!1,this.cookieName="dcf_"+this.wfId+"_"+this.language+this.cookiePostFix}return t.options.deferUpdates=!1,i.prototype={initSteps:function(){for(var e,t=0;t<this.initialSteps.length;t++)e=this.initialSteps[t],this.steps[e.StepType]=new e(k.proxy(this.submitData,this))},loadStyle:function(e){if(!this.styleLinkAdded){var t=this,i=navigator.userAgent,n=/CriOS|Chrome/.test(i);/Mozilla\/5.0/.test(i)&&/Android/.test(i)&&/AppleWebKit/.test(i)&&!n&&(t.styleLoaded=!0),this.styleLinkAdded=!0;var a=document.createElement("link");a.setAttribute("type","text/css"),a.setAttribute("rel","stylesheet"),a.setAttribute("href",this.serviceRoot+"/widget/themes/"+e+"/theme.min.css"),a.onload=function(){t.styleLoaded=!0},a.onerror=function(){t.styleLoaded=!0};var o=document.getElementsByTagName("head")[0],r=o.getElementsByTagName("script")[0];o.insertBefore(a,r)}},getOpportunityId:function(){var e=/OpportunityId=([^&]*)/i.exec(decodeURIComponent(document.location.href));return e?e[1]:""},getFeedbackLoopToken:function(){var e=/FeedbackLoopToken=([^&]*)/i.exec(decodeURIComponent(document.location.href));return e?e[1]:""},getRefId:function(){var e=/RefId=([^&]*)/i.exec(decodeURIComponent(document.location.href));return e?e[1]:""},getCampaignIdFromLocalStorage:function(){return localStorage&&localStorage.getItem("da_cmp")?localStorage.getItem("da_cmp"):""},getStepId:function(){var e=/step=([^&]*)/.exec(document.location.href);return e?e[1]:""},getAccountEnvironmentType:function(){var e=/aet=([^&]*)/i.exec(decodeURIComponent(document.location.href));return e?e[1]:""},getMemberId:function(){var e=/mid=([^&]*)/i.exec(decodeURIComponent(document.location.href));return e?e[1]:""},getUnsubscribeEmail:function(){var e=/unsubscribeemail=([^&]*)/i.exec(decodeURIComponent(document.location.href));return e?e[1]:""},getIPAddress:function(){var e=/ip=([^&]*)/.exec(document.location.href);return e?e[1]:""},getLanguage:function(){return this.language},getHostPageUrl:function(){return this.hostPageUrl},getInstanceId:function(){var e=null,t=/#.*token\/([0-9a-z\-]+)/i.exec(decodeURIComponent(document.location.hash));return t?(e||("force-new-instance"==(e=t[1])?(this.expireInstanceCookie(),e=null):e&&k.setCookie(this.cookieName,e)),document.location.hash=document.location.hash.replace("token/"+t[1],"")):e=k.getCookie(this.cookieName),e},getNoCacheFlag:function(){var e=/#.*(no-cache)(\/*).*/i.exec(decodeURIComponent(document.location.hash));return!!(e&&3<=e.length)&&(document.location.hash=document.location.hash.replace(e[1]+(e[2]?e[2]:""),""),this.removeResidueSlashesInURLHash(),!0)},removeResidueSlashesInURLHash:function(){document.location.hash=document.location.hash.replace(/(\/)+/gi,"/").replace(/^#(\/)+$/gi,"#")},getEventId:function(){var e=/[?&]eventId=([^&#]+)/.exec(decodeURIComponent(document.location.href));return e?e[1]:""},getRequestId:function(){var e=/[?&]requestId=([^&#]+)/.exec(decodeURIComponent(document.location.href));return e?e[1]:""},getTaskId:function(){var e=/[?&]taskId=([^&#]+)/.exec(decodeURIComponent(document.location.href));return e?e[1]:""},getForceLatestWf:function(){var e=/[?&]latestWFV=([^&#]+)/.exec(decodeURIComponent(document.location.href));return e?e[1]:""},getVerificationToken:function(){var e=/#.*verify\/(.*?)\//.exec(decodeURIComponent(document.location.hash));return e?e[1]:(e=/[?&]crmToken=([^&#]+)/.exec(decodeURIComponent(document.location.href)))?e[1]:(e=/[?&]stepVerificationToken=([^&#]+)/.exec(decodeURIComponent(document.location.href)))?e[1]:""},getVersion:function(){var t=this;try{var e=document.location.href;parent&&(e=parent.location.href);var i=/\?.*version=([a-z]*)/i.exec(e);if(i)return i[1]}catch(e){t.logErrorToServer("Error while loading widget Exception message: "+e.message)}return""},getStep:function(e){n.mark("getstep");var t=this.getInstanceId(),i=this.getStepId();t?this.loadExisting(e,t,i):this.newInstance(e,this.initialData)},removeTrackingData:function(){var t=this;e(function(){var e=a.getSatellite();if(void 0!==e)try{if(localStorage){localStorage.removeItem("Events"),localStorage.removeItem("Evars"),localStorage.removeItem("TransactionId"),localStorage.removeItem("Products");try{e.track("DCF4Events")}catch(e){t.logErrorToServer("AdobeDTM | Call to satellite.track raised an exception while removing tracking data. Exception message: "+e.message)}}else t.logErrorToServer("AdobeDTM | Local storage unavailable.")}catch(e){t.logErrorToServer("AdobeDTM | Local storage faced a failure or is disabled.")}else t.logInfoToServer("AdobeDTM | Satellite.js not loaded.")})},track:function(e){this.sendTrackingToAdobe(e),this.fireTrackingEvent(e)},fireTrackingEvent:function(e){if(this.targetEl){var t=document.createEvent("CustomEvent");t.initCustomEvent("dcfTracking",!0,!1,e),this.targetEl.dispatchEvent(t)}},sendTrackingToAdobe:function(t){var i=this;e(function(){var e=a.getSatellite();if(void 0!==e){if(null!=t)try{if(localStorage){localStorage.setItem("Events",t.Events.join(",")),localStorage.setItem("Evars",t.Evars.join(";")),localStorage.setItem("TransactionId",t.TransactionId),localStorage.setItem("Products",t.Products);try{e.track("DCF4Events")}catch(e){i.logErrorToServer("AdobeDTM | Call to satellite.track raised an exception. Exception message: "+e.message)}}else i.logErrorToServer("AdobeDTM | Local storage unavailable.")}catch(e){i.logErrorToServer("AdobeDTM | Local storage faced a failure or is disabled.")}}else i.logInfoToServer("AdobeDTM | Satellite.js not loaded.")})},logErrorToServer:function(e){var t=this.getInstanceId()||"00000000-0000-0000-0000-000000000000";k.post(this.serviceRoot+"/dcf/logerror/",{errorMessage:e,instanceId:t})},logInfoToServer:function(e){var t=this.getInstanceId()||"00000000-0000-0000-0000-000000000000";k.post(this.serviceRoot+"/dcf/loginfo/",{errorMessage:e,instanceId:t})},expireInstanceCookie:function(){k.expireCookie(this.cookieName)},newInstance:function(e,t){var i=this.getVersion(),n=this.serviceRoot+"/dcf/new/"+this.wfId+"/"+this.language+"/"+this.theme;i&&(n+="/latest"),n=this.getNewInstanceQueryString(n),t?k.post(n,t,k.proxy(k.curry(this.onNewInstanceSuccess,e,t),this),this.onNewInstanceError):k.get(n,k.proxy(k.curry(this.onNewInstanceSuccess,e,t),this),this.onNewInstanceError)},onNewInstanceSuccess:function(e,t,i){var n=this;if(!n.redirectAndCancel(i)){if(i.InstanceId&&k.setCookie(n.cookieName,i.InstanceId),i.Payload&&i.Payload.ShowCustomLoader)return null==t&&(t={}),t.DCF_ShowingCustomLoader=!0,this.newInstance(e,t),void e("showCustomLoader",i.Payload);var a=i.StepType;n.currentStep=i.CurrentStep,n.progressBarData=S.getData(i,this.theme),n.showCloseIcon=i.ShowCloseIcon,n.supportFullWidth=i.SupportFullWidth,n.HideProgressBarOnContentStep=i.HideProgressBarOnContentStep,n.closeContent={content:i.CloseContent,returnText:i.CloseReturnText,exitText:i.CloseExitText,exitUrl:i.CloseExitUrl},n.isFirstUIStep=i.hasOwnProperty("IsFirstUIStep")&&i.IsFirstUIStep,n.isFirstStep=i.hasOwnProperty("IsFirstStep")&&i.IsFirstStep,n.isFinalStep=i.hasOwnProperty("IsFinalStep")&&i.IsFinalStep,n.isFlowPaused=i.hasOwnProperty("IsFlowPaused")&&i.IsFlowPaused,n.clearInstanceCookie=i.hasOwnProperty("ClearInstanceCookie")&&i.ClearInstanceCookie,n.customStyles=i.CustomStyles,e&&e(a,i.Payload,i.Tracking)}},onNewInstanceError:function(e){u.instanceError(e.statusText,function(e){1!=e&&0!=e||window.close()})},getNewInstanceQueryString:function(e){var t=e,i=this.getUnsubscribeEmail(),n=this.getRefId(),a=this.getAccountEnvironmentType(),o=this.getMemberId(),r=this.getOpportunityId(),s=this.getFeedbackLoopToken(),l=this.getCampaignIdFromLocalStorage(),d=this.getNoCacheFlag(),c=this.getHostPageUrl();return this.owner&&(0<=t.indexOf("?")?t+="&owner="+this.owner:t+="?owner="+this.owner),this.simulationtradername&&(0<=t.indexOf("?")?t+="&simulationtradername="+this.simulationtradername:t+="?simulationtradername="+this.simulationtradername),this.simulationtradertype&&(0<=t.indexOf("?")?t+="&simulationtradertype="+this.simulationtradertype:t+="?simulationtradertype="+this.simulationtradertype),i&&(0<=t.indexOf("?")?t+="&unsubscribeemail="+i:t+="?unsubscribeemail="+i),n&&(0<=t.indexOf("?")?t+="&refid="+n:t+="?refid="+n),a&&(0<=t.indexOf("?")?t+="&aet="+a:t+="?aet="+a),o&&(0<=t.indexOf("?")?t+="&mid="+o:t+="?mid="+o),r&&(0<=t.indexOf("?")?t+="&oid="+r:t+="?oid="+r),s&&(0<=t.indexOf("?")?t+="&flToken="+s:t+="?flToken="+s),d&&(0<=t.indexOf("?")?t+="&cacheBuster="+(new Date).getTime():t+="?cacheBuster="+(new Date).getTime()),l&&(0<=t.indexOf("?")?t+="&campaignId="+l:t+="?campaignId="+l),document.referrer&&(0<=t.indexOf("?")?t+="&referralPage="+document.referrer:t+="?referralPage="+document.referrer),(c=c||document.location.href.split("#")[0])&&(0<=t.indexOf("?")?t+="&hostPageUrl="+encodeURIComponent(c):t+="?hostPageUrl="+encodeURIComponent(c)),t},loadExisting:function(n,e,t){var a=this,i=this.getIPAddress(),o=this.getVerificationToken(),r=this.getEventId(),s=this.getRequestId(),l=this.getTaskId(),d=this.getForceLatestWf(),c=this.serviceRoot+"/dcf/"+e+"/"+i;o&&(c+="?verificationToken="+o),t&&(0<=c.indexOf("?")?c+="&step="+t:c+="?step="+t),r&&(0<=c.indexOf("?")?c+="&eventId="+r:c+="?eventId="+r),s&&(0<=c.indexOf("?")?c+="&requestId="+s:c+="?requestId="+s),l&&(0<=c.indexOf("?")?c+="&taskId="+l:c+="?taskId="+l),d&&(0<=c.indexOf("?")?c+="&latestWFV="+d:c+="?latestWFV="+d),k.get(c,function(e){if(e.Payload&&e.Payload.ShowCustomLoader){var t=[];return t.push({Key:"DCF_ShowingCustomLoader",Value:!0}),a.postData(t,!1,n),void n("showCustomLoader",e.Payload)}if(!a.redirectAndCancel(e)){var i=e.StepType;a.currentStep=e.CurrentStep,a.progressBarData=S.getData(e,a.theme,e.Payload.WorkflowStepId),a.showCloseIcon=e.ShowCloseIcon,a.supportFullWidth=e.SupportFullWidth,a.HideProgressBarOnContentStep=e.HideProgressBarOnContentStep,a.closeContent={content:e.CloseContent,returnText:e.CloseReturnText,exitText:e.CloseExitText,exitUrl:e.CloseExitUrl},a.isFirstUIStep=e.hasOwnProperty("IsFirstUIStep")&&e.IsFirstUIStep,a.isFirstStep=e.hasOwnProperty("IsFirstStep")&&e.IsFirstStep,a.isFinalStep=e.hasOwnProperty("IsFinalStep")&&e.IsFinalStep,a.isFlowPaused=e.hasOwnProperty("IsFlowPaused")&&e.IsFlowPaused,a.clearInstanceCookie=e.hasOwnProperty("ClearInstanceCookie")&&e.ClearInstanceCookie,a.customStyles=e.CustomStyles,e.hasOwnProperty("IsFinalStep")&&e.IsFinalStep&&(a.isFinalStep=!0,k.expireCookie(a.cookieName)),a.clearInstanceCookie&&k.expireCookie(a.cookieName),n&&n(i,e.Payload,e.Tracking)}},function(e){403==e.status&&""!=e.statusText?u.forbidden(e.statusText,function(e){1!=e&&0!=e||window.close()}):412===e.status&&(k.expireCookie(a.cookieName),n&&a.newInstance(n))})},resetLoader:function(){this.loadingDiv.classList.remove("progress-loader"),this.loadingDiv.classList.add("infinite-loader"),this.loadingDiv.innerHTML=""},renderCustomLoader:function(e,t){var i=document.createElement("DIV");i.className="loading-text-wrapper",t.LoadingText&&(i.innerHTML='<div class="loading-text">'+t.LoadingText+"</div>"),e.classList.contains("showing-custom-loader")||e.classList.add("showing-custom-loader"),this.loadingDiv.classList.remove("infinite-loader"),this.loadingDiv.classList.add("progress-loader");var n=document.createElement("DIV"),a=document.createElement("SPAN");a.className="progress",n.className="c100",n.innerHTML='<div class="slice"><div class="bar"></div><div class="fill"></div></div>',this.loadingDiv.appendChild(i),this.loadingDiv.appendChild(a),this.loadingDiv.appendChild(n);var o=1,r=setInterval(function(){var e=Math.round(o/t.FixedLoaderTime*100);100<=e&&(clearInterval(r),e=99),n.className="c100 p"+e,a.innerText=e+"%",o++},1e3);document.getElementById(this.loadingDiv.id)||e.appendChild(this.loadingDiv)},renderStep:function(i,e,t,n){var a=this;a.loadStyle(this.theme),a.targetEl=i;var o="",r=[];if("showCustomLoader"==e)a.renderCustomLoader(i,t);else{var s;if(a.targetEl.innerHTML="",a.resetLoader(),i.classList.remove("showing-custom-loader"),a.showCloseIcon)if(a.isFinalStep||a.isFlowPaused)(s=document.createElement("a")).className="dcf-close",a.closeContent&&a.closeContent.exitUrl&&(s.href=a.closeContent.exitUrl),r.push(s),i.classList.add("has-close-icon");else(s=document.createElement("div")).className="dcf-close",r.push(s),i.classList.add("has-close-icon"),s.onclick=function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("dcfCloseClicked",!0,!0,{isFirstStep:a.isFirstStep,isFirstUIStep:a.isFirstUIStep,isFinalStep:a.isFinalStep,isFlowPaused:a.isFlowPaused}),s.dispatchEvent(e),a.removeTrackingData(),(new C).showExitFlowModal(a.closeContent)};if(this.track(n),this.customizedTemplateEle)for(var l=this.customizedTemplateEle.querySelector(".column-2")||{};l.firstChild;)l.firstChild.remove();var d=this.HideProgressBarOnContentStep&&this.isFinalStep&&"ContentPage"===e;if(this.progressBarData&&"None"!=this.progressBarData.layout&&!t.FullPageView&&(!this.supportFullWidth||!this.isFirstUIStep)&&!d){i.classList.add("Left"==this.progressBarData.layout?"has-left-progressbar":"has-top-progressbar"),i.classList.add(this.progressBarData.logoStyleClass);var c=null,u=new S(k.proxy(this.navigateBackToStep,this));if(o="Left"==this.progressBarData.layout?"left":"top",this.progressBarData.currentStep=t.WorkflowStepId,this.progressBarData.descriptions=S.getDescriptions(this.progressBarData),"TopMobile"==this.progressBarData.layout&&t.Fields){for(var f,p=0;f=t.Fields[p];p++){if("BackButton"==f.FieldType&&f.IsVisible&&!f.IsDisabled){c=f;break}for(var h,m=0;h=f.ChildFields[m];m++)if("BackButton"==h.FieldType&&h.IsVisible&&!h.IsDisabled){c=h;break}if(c)break}this.progressBarData.backButton=c}this.progressBarElement=u.render(this.progressBarData,o),this.customizedTemplateEle=u.renderThemeTemplate(this.progressBarData,o,this.theme)}var v={serviceRoot:this.serviceRoot,getInstanceId:k.proxy(this.getInstanceId,this),language:this.getLanguage()},b=this.steps[e].render(t,this.theme,k.proxy(this.submitData,this),k.proxy(this.backClick,this),v);if("PostMessage"===e||"OpenAPI"===e)return;b.className+=o,t.hasOwnProperty("FullPageView")&&t.FullPageView&&(i.classList.remove("has-left-progressbar","has-top-progressbar"),i.classList.add("full-page-layout")),i.classList.contains("dcf-widget-loaded")||i.classList.add("dcf-widget-loaded"),this.stepCustomStyles&&(k.removeClasses(i,this.stepCustomStyles),this.stepCustomStyles=""),t.hasOwnProperty("CustomStyles")&&t.CustomStyles&&(k.addClasses(i,t.CustomStyles),this.stepCustomStyles=t.CustomStyles);var g=b;this.progressBarElement&&!d&&(this.customizedTemplateEle?g=u.updateDom(b,this.progressBarElement,this.customizedTemplateEle):r.push(this.progressBarElement)),r.push(g);var y=document.createElement("div");y.className="clear",r.push(y)}function x(){for(var e,t=0;e=r[t];t++)i.appendChild(e);a.initialRender?a.initialRender=!1:k.inViewport(i)||i.scrollIntoView(!0)}if(a.styleLoaded)x();else{var w=0;w=setInterval(function(){a.styleLoaded&&(clearInterval(w),x())},10)}},navigateBackToStep:function(e){var t=[{Key:"NavigateBack",Value:e}];this.postData(t,!0)},submitData:function(e,t,i){var n=this.isSubmitOrBack(e);this.postData(e,n,t,i)},backClick:function(e,t,i){var n=document.createEvent("Event");n.initEvent("dcfBackClicked",!0,!0),this.targetEl.dispatchEvent(n),this.submitData(e,t,i)},postData:function(i,e,t,n){var a=this,o=this.getInstanceId()||"00000000-0000-0000-0000-000000000000",r=k.useJsonP?this.serviceRoot+"/dcf/submit/"+o:this.serviceRoot+"/dcf/"+o;"00000000-0000-0000-0000-000000000000"==o&&(r+="/?wfId="+this.wfId+"&lang="+this.language+"&theme="+this.theme,this.getVersion()&&(r+="&version=latest"),r=this.getNewInstanceQueryString(r),a.initialData&&Object.keys(a.initialData).forEach(function(e,t){i.push({Key:"initialData_"+e,Value:a.initialData[e],FileData:""})}));if(e&&!this.loadingTimer&&(this.loadingTimer=setTimeout(k.proxy(function(){a.targetEl.appendChild(this.loadingDiv)},this),500)),this.isSubmitOrBack(i))for(var s,l=this.postQueue.length-1;s=this.postQueue[l];l--)s.requestFired||this.postQueue.splice(l,1);a.postQueue.push({postUrl:r,postData:i,requestFired:!1,responseHandled:!1,callback:t,progressCallback:n,showLoader:e});this.fireNextFromPostQueue()},fireNextFromPostQueue:function(){for(var e,t=0;e=this.postQueue[t];t++)if(!e.requestFired||!e.responseHandled){if(e.requestFired&&!e.responseHandled)break;if(!e.requestFired){if(e.requestFired=!0,e.showLoader){var i=this.getInstanceId();i&&-1<e.postUrl.indexOf("00000000-0000-0000-0000-000000000000")&&(e.postUrl=k.useJsonP?this.serviceRoot+"/dcf/submit/"+i:this.serviceRoot+"/dcf/"+i)}k.post(e.postUrl,e.postData,k.proxy(k.curry(this.onPostDataDone,t,!0),this),k.proxy(k.curry(this.onPostDataDone,t,!1),this),e.progressCallback);break}}},onPostDataDone:function(e,t,i){var n=this.postQueue[e];this.isPingRequest(n.postData)&&this.postQueue.length>e+1||(t?this.handlePostDataSuccessResponse(n.postData,n.callback,i,n.showLoader):this.handlePostDataFailResponse(i)),n.responseHandled=!0,this.fireNextFromPostQueue()},handlePostDataSuccessResponse:function(e,t,i,n){var a=this;if(!this.getInstanceId()&&i.InstanceId&&k.setCookie(this.cookieName,i.InstanceId),a.currentStep===i.CurrentStep||a.isSubmitOrBack(e)||a.isCustomLoader2ndResponse(e)){if(this.loadingTimer&&n&&(clearTimeout(this.loadingTimer),this.loadingTimer=null),i.Payload&&i.Payload.ShowCustomLoader){null==e&&(e=[]);for(var o,r=-1,s=0;o=e[s];s++)if("DCF_ShowingCustomLoader"==o.Key){r=s;break}return-1==r&&e.push({Key:"DCF_ShowingCustomLoader",Value:!0}),a.postData(e,!1,t),void a.renderStep(a.targetEl,"showCustomLoader",i.Payload)}if(!a.redirectAndCancel(i))if(a.isFirstStep=i.hasOwnProperty("IsFirstStep")&&i.IsFirstStep,a.isFirstUIStep=i.hasOwnProperty("IsFirstUIStep")&&i.IsFirstUIStep,a.isFinalStep=i.hasOwnProperty("IsFinalStep")&&i.IsFinalStep,a.isFlowPaused=i.hasOwnProperty("IsFlowPaused")&&i.IsFlowPaused,a.clearInstanceCookie=i.hasOwnProperty("ClearInstanceCookie")&&i.ClearInstanceCookie,a.progressBarData&&(a.progressBarData.percentageProgress=i.PercentageProgress,a.progressBarData.statusText=i.ProgressBarStatusText),a.currentStep!==i.CurrentStep){a.previousStep=a.currentStep,a.currentStep=i.CurrentStep,a.isFinalStep=!1,i.hasOwnProperty("IsFinalStep")&&i.IsFinalStep&&(a.isFinalStep=!0,k.expireCookie(this.cookieName)),a.clearInstanceCookie&&k.expireCookie(this.cookieName);var l=document.createEvent("CustomEvent"),d=!!a.supportFullWidth&&!a.isFirstUIStep;l.initCustomEvent("dcfStepChanged",!0,!0,{isFirstStep:a.isFirstStep,isFirstUIStep:a.isFirstUIStep,isFullWidth:d,isFinalStep:a.isFinalStep,isFlowPaused:a.isFlowPaused}),a.targetEl.dispatchEvent(l),a.isFinalStep||a.isFlowPaused?a.targetEl.classList.add("content-step"):a.targetEl.classList.remove("content-step"),"Payment"===i.StepType?a.targetEl.classList.add("payment-step"):a.targetEl.classList.remove("payment-step"),a.progressBarData&&(a.progressBarData.currentStep=a.currentStep),a.renderStep(a.targetEl,i.StepType,i.Payload,i.Tracking)}else i.Reload?a.renderStep(a.targetEl,i.StepType,i.Payload,i.Tracking):t&&(document.getElementById(this.loadingDiv.id)&&n&&a.targetEl.removeChild(this.loadingDiv),t(i.Payload))}},handlePostDataFailResponse:function(e){var t=this;if(412===e.status)k.expireCookie(t.cookieName),t.newInstance(function(){});else if(409===e.status);else if(500==e.status){(t=this).targetEl.innerHTML="",t.resetLoader(),t.targetEl.classList.remove("showing-custom-loader"),t.onNewInstanceError(e)}},redirectAndCancel:function(e){var t=e.ExecutionUrl&&"Redirect"===e.StepType;return t&&this.track(e.Tracking),setTimeout(function(){e.ExecutionUrl&&(document.location=e.ExecutionUrl)},200),t},isSubmitOrBack:function(e){for(var t,i=0;t=e[i];i++)if("Submit"==t.Value||"Back"==t.Value||"NavigateBack"==t.Key)return!0;return!1},isPingRequest:function(e){return e&&1===e.length&&"IsPingRequest"===e[0].Key&&!0===e[0].Value},isCustomLoader2ndResponse:function(e){for(var t,i=0;t=e[i];i++)if("DCF_ShowingCustomLoader"==t.Key)return!0;return!1}},i}),function(){var e={};dcf.define("settings",[],function(){return window.settings||e})}(),dcf.define("properties",["settings","widgetutil"],function(k,C){return{get:function(){var e,t,i,n,a,o,r,s,l,d,c,u=document.getElementsByTagName("script"),f=null,p="",h=!1;function m(e,t){return e.getAttribute(t)||""}function v(e){e||(e=location.search);var t={};if("string"!=typeof e)return t;for(var i,n=decodeURIComponent(e.replace(/^[?#]/,"")).split("&"),a=0;a<n.length;a++)t[(i=n[a]).split("=")[0]]=i.split("=")[1];return t}for(var b=v(location.search),g=v(location.hash),y=0;y<u.length;y++){if(p=m(f=u[y],"data-widget-id"),e=m(f,"data-language"),h="true"===m(f,"data-force-new-instance"),i=m(f,"data-host-page-url"),d=m(f,"data-preset-data"))try{n=JSON.parse(d);var x=Object.keys(n);for(y=0;y<x.length;y++){var w=x[y];b[w]?n[w]=b[w]:g[w]?n[w]=g[w]:localStorage&&localStorage.getItem(w)?n[w]=localStorage.getItem(w):sessionStorage&&sessionStorage.getItem(w)&&(n[w]=sessionStorage.getItem(w))}}catch(e){console&&console.log&&console.log("Unable to parse preset-data to JSON. "+e)}if(t=m(f,"data-theme"),a=m(f,"data-owner"),b.owner&&(a=b.owner),o=m(f,"data-simulationtradername"),r=m(f,"data-simulationtradertype"),d&&(s=C.getHashCode(d)),t||(t="saxonew"),p){c=(l=/(.*)\/widget\/widget\.js/.exec(m(f,"src")))&&2<=l.length?l[1]:k.appRoot,k.serviceRoot=c;break}}return{script:f,workflowId:p,language:e,theme:t,owner:a,simulationtradername:o,simulationtradertype:r,initialData:n,presetKey:s,serviceRoot:c,forceNewInstance:h,hostPageUrl:i}}}}),dcf.define("saxotradergo",["settings","widgetutil"],function(o,r){return{setup:function(e){e.addEventListener("click",function(e){if(e.target.classList.contains("saxo-trader-button")){e.target.disabled=!0;var t=e.target.dataset.instanceid,i=e.target.dataset.token,n=o.serviceRoot+"/dcf/traderlogin",a={instanceId:t,token:i};r.post(n,a,r.proxy(function(e){var t,i,n,a,o,r,s,l;e.hasOwnProperty("UserId")&&e.UserId&&e.hasOwnProperty("Password")&&e.Password&&e.hasOwnProperty("BearerToken")&&e.BearerToken?(t=e.IdpUrl,i=e.UserId,n=e.Password,a=e.BearerToken,o=document.createElement("FORM"),r=document.createElement("INPUT"),s=document.createElement("INPUT"),l=document.createElement("INPUT"),r.name="field_userid",r.type="hidden",r.value=i,s.name="field_password",s.type="password",s.value=n,l.name="AuthnRequest",l.type="hidden",l.value=a,o.action=t,o.method="POST",o.style="display:none;",o.appendChild(r),o.appendChild(s),o.appendChild(l),document.body.appendChild(o),o.submit()):location.href=e.IdpUrl}))}})}}}),dcf.require(["domReady","dependencies","dcf","settings","widgetutil","timer","properties","saxotradergo","widgetui/prompts"],function(e,t,i,n,a,r,o,s,l){r.mark("active");var d,c=o.get(),u=new i(c.workflowId,c.language,n.serviceRoot,c.theme,c.owner,c.simulationtradername,c.simulationtradertype,c.initialData,c.presetKey,c.hostPageUrl);u.loadStyle(c.theme),(d=document.createElement("div")).className="dcf-container",a.addCompatibilityClasses(d),s.setup(d),u.initSteps(),c.forceNewInstance&&u.expireInstanceCookie(),l.setRoot(d),u.getStep(function(e,t,i){u.isFinalStep||u.isFlowPaused?d.classList.add("content-step"):d.classList.remove("content-step"),u.customStyles&&u.customStyles.split(",").forEach(function(e){d.classList.add(e.trim())}),u.renderStep(d,e,t,i),r.mark("interactive");var n=document.createEvent("CustomEvent"),a=!!u.supportFullWidth&&!u.isFirstUIStep;if(n.initCustomEvent("dcfLoaded",!0,!0,{isFirstStep:u.isFirstStep,isFirstUIStep:u.isFirstUIStep,isFinalStep:u.isFinalStep,isFlowPaused:u.isFlowPaused,isFullWidth:a}),d.dispatchEvent(n),window.self!==window.top&&window.parent){var o=JSON.stringify({messageType:"dcfLoaded",message:"DCF Loaded successfully",source:"DCF"});parent.postMessage(o,"*")}}),c.script&&c.script.parentNode.insertBefore(d,c.script)}),dcf.define("widget",function(){}),dcf.require(["dependencies"]);